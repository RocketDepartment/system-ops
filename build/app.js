(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var polymer = require("./../../bower_components/platform/platform.js");


},{"./../../bower_components/platform/platform.js":2}],2:[function(require,module,exports){
(function (global){
/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
// @version: 0.2.3

window.Platform=window.Platform||{},window.logFlags=window.logFlags||{},function(a){var b=a.flags||{};location.search.slice(1).split("&").forEach(function(a){a=a.split("="),a[0]&&(b[a[0]]=a[1]||!0)});var c=document.currentScript||document.querySelector('script[src*="platform.js"]');if(c)for(var d,e=c.attributes,f=0;f<e.length;f++)d=e[f],"src"!==d.name&&(b[d.name]=d.value||!0);b.log&&b.log.split(",").forEach(function(a){window.logFlags[a]=!0}),b.shadow=b.shadow||b.shadowdom||b.polyfill,b.shadow="native"===b.shadow?!1:b.shadow||!HTMLElement.prototype.createShadowRoot,b.shadow&&document.querySelectorAll("script").length>1&&console.warn("platform.js is not the first script on the page. See http://www.polymer-project.org/docs/start/platform.html#setup for details."),b.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=b.register),b.imports&&(window.HTMLImports=window.HTMLImports||{flags:{}},window.HTMLImports.flags.imports=b.imports),a.flags=b}(Platform),"undefined"==typeof WeakMap&&!function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b++ +"__")};c.prototype={set:function(b,c){var d=b[this.name];d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0})},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},"delete":function(a){this.set(a,void 0)}},window.WeakMap=c}(),function(global){"use strict";function detectObjectObserve(){function a(a){b=a}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var b=[],c={},d=[];return Object.observe(c,a),Array.observe(d,a),c.id=1,c.id=2,delete c.id,d.push(1,2),d.length=0,Object.deliverChangeRecords(a),5!==b.length?!1:"add"!=b[0].type||"update"!=b[1].type||"delete"!=b[2].type||"splice"!=b[3].type||"splice"!=b[4].type?!1:(Object.unobserve(c,a),Array.unobserve(d,a),!0)}function detectEval(){if(global.document&&"securityPolicy"in global.document&&!global.document.securityPolicy.allowsEval)return!1;if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;try{var a=new Function("","return true;");return a()}catch(b){return!1}}function isIndex(a){return+a===a>>>0}function toNumber(a){return+a}function isObject(a){return a===Object(a)}function areSameValue(a,b){return a===b?0!==a||1/a===1/b:numberIsNaN(a)&&numberIsNaN(b)?!0:a!==a&&b!==b}function isPathValid(a){return"string"!=typeof a?!1:(a=a.trim(),""==a?!0:"."==a[0]?!1:pathRegExp.test(a))}function Path(a,b){if(b!==constructorIsPrivate)throw Error("Use Path.get to retrieve path objects");return""==a.trim()?this:isIndex(a)?(this.push(a),this):(a.split(/\s*\.\s*/).filter(function(a){return a}).forEach(function(a){this.push(a)},this),void(hasEval&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())))}function getPath(a){if(a instanceof Path)return a;null==a&&(a=""),"string"!=typeof a&&(a=String(a));var b=pathCache[a];if(b)return b;if(!isPathValid(a))return invalidPath;var b=new Path(a,constructorIsPrivate);return pathCache[a]=b,b}function dirtyCheck(a){for(var b=0;MAX_DIRTY_CHECK_CYCLES>b&&a.check_();)b++;return global.testingExposeCycleCount&&(global.dirtyCheckCycleCount=b),b>0}function objectIsEmpty(a){for(var b in a)return!1;return!0}function diffIsEmpty(a){return objectIsEmpty(a.added)&&objectIsEmpty(a.removed)&&objectIsEmpty(a.changed)}function diffObjectFromOldObject(a,b){var c={},d={},e={};for(var f in b){var g=a[f];(void 0===g||g!==b[f])&&(f in a?g!==b[f]&&(e[f]=g):d[f]=void 0)}for(var f in a)f in b||(c[f]=a[f]);return Array.isArray(a)&&a.length!==b.length&&(e.length=a.length),{added:c,removed:d,changed:e}}function runEOMTasks(){if(!eomTasks.length)return!1;for(var a=0;a<eomTasks.length;a++)eomTasks[a]();return eomTasks.length=0,!0}function newObservedObject(){function a(a){b&&b.state_===OPENED&&!d&&b.check_(a)}var b,c,d=!1,e=!0;return{open:function(c){if(b)throw Error("ObservedObject in use");e||Object.deliverChangeRecords(a),b=c,e=!1},observe:function(b,d){c=b,d?Array.observe(c,a):Object.observe(c,a)},deliver:function(b){d=b,Object.deliverChangeRecords(a),d=!1},close:function(){b=void 0,Object.unobserve(c,a),observedObjectCache.push(this)}}}function getObservedObject(a,b,c){var d=observedObjectCache.pop()||newObservedObject();return d.open(a),d.observe(b,c),d}function newObservedSet(){function a(b,f){b&&(b===d&&(e[f]=!0),h.indexOf(b)<0&&(h.push(b),Object.observe(b,c)),a(Object.getPrototypeOf(b),f))}function b(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.object!==d||e[c.name]||"setPrototype"===c.type)return!1}return!0}function c(c){if(!b(c)){for(var d,e=0;e<g.length;e++)d=g[e],d.state_==OPENED&&d.iterateObjects_(a);for(var e=0;e<g.length;e++)d=g[e],d.state_==OPENED&&d.check_()}}var d,e,f=0,g=[],h=[],i={object:void 0,objects:h,open:function(b,c){d||(d=c,e={}),g.push(b),f++,b.iterateObjects_(a)},close:function(){if(f--,!(f>0)){for(var a=0;a<h.length;a++)Object.unobserve(h[a],c),Observer.unobservedCount++;g.length=0,h.length=0,d=void 0,e=void 0,observedSetCache.push(this)}}};return i}function getObservedSet(a,b){return lastObservedSet&&lastObservedSet.object===b||(lastObservedSet=observedSetCache.pop()||newObservedSet(),lastObservedSet.object=b),lastObservedSet.open(a,b),lastObservedSet}function Observer(){this.state_=UNOPENED,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=nextObserverId++}function addToAll(a){Observer._allObserversCount++,collectObservers&&allObservers.push(a)}function removeFromAll(){Observer._allObserversCount--}function ObjectObserver(a){Observer.call(this),this.value_=a,this.oldObject_=void 0}function ArrayObserver(a){if(!Array.isArray(a))throw Error("Provided object is not an Array");ObjectObserver.call(this,a)}function PathObserver(a,b){Observer.call(this),this.object_=a,this.path_=getPath(b),this.directObserver_=void 0}function CompoundObserver(a){Observer.call(this),this.reportChangesOnOpen_=a,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function identFn(a){return a}function ObserverTransform(a,b,c,d){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=a,this.getValueFn_=b||identFn,this.setValueFn_=c||identFn,this.dontPassThroughSet_=d}function notify(a,b,c,d){if(!areSameValue(c,d)&&("function"==typeof a.propertyChanged_&&a.propertyChanged_(b,c,d),hasObserve)){var e=a.notifier_;e||(e=a.notifier_=Object.getNotifier(a)),updateRecord.object=a,updateRecord.name=b,updateRecord.oldValue=d,e.notify(updateRecord)}}function diffObjectFromChangeRecords(a,b,c){for(var d={},e={},f=0;f<b.length;f++){var g=b[f];expectedRecordTypes[g.type]?(g.name in c||(c[g.name]=g.oldValue),"update"!=g.type&&("add"!=g.type?g.name in d?(delete d[g.name],delete c[g.name]):e[g.name]=!0:g.name in e?delete e[g.name]:d[g.name]=!0)):(console.error("Unknown changeRecord type: "+g.type),console.error(g))}for(var h in d)d[h]=a[h];for(var h in e)e[h]=void 0;var i={};for(var h in c)if(!(h in d||h in e)){var j=a[h];c[h]!==j&&(i[h]=j)}return{added:d,removed:e,changed:i}}function newSplice(a,b,c){return{index:a,removed:b,addedCount:c}}function ArraySplice(){}function calcSplices(a,b,c,d,e,f){return arraySplice.calcSplices(a,b,c,d,e,f)}function intersect(a,b,c,d){return c>b||a>d?-1:b==c||d==a?0:c>a?d>b?b-c:d-c:b>d?d-a:b-a}function mergeSplice(a,b,c,d){for(var e=newSplice(b,c,d),f=!1,g=0,h=0;h<a.length;h++){var i=a[h];if(i.index+=g,!f){var j=intersect(e.index,e.index+e.removed.length,i.index,i.index+i.addedCount);if(j>=0){a.splice(h,1),h--,g-=i.addedCount-i.removed.length,e.addedCount+=i.addedCount-j;var k=e.removed.length+i.removed.length-j;if(e.addedCount||k){var c=i.removed;if(e.index<i.index){var l=e.removed.slice(0,i.index-e.index);Array.prototype.push.apply(l,c),c=l}if(e.index+e.removed.length>i.index+i.addedCount){var m=e.removed.slice(i.index+i.addedCount-e.index);Array.prototype.push.apply(c,m)}e.removed=c,i.index<e.index&&(e.index=i.index)}else f=!0}else if(e.index<i.index){f=!0,a.splice(h,0,e),h++;var n=e.addedCount-e.removed.length;i.index+=n,g+=n}}}f||a.push(e)}function createInitialSplices(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];switch(e.type){case"splice":mergeSplice(c,e.index,e.removed.slice(),e.addedCount);break;case"add":case"update":case"delete":if(!isIndex(e.name))continue;var f=toNumber(e.name);if(0>f)continue;mergeSplice(c,f,[e.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(e))}}return c}function projectArraySplices(a,b){var c=[];return createInitialSplices(a,b).forEach(function(b){return 1==b.addedCount&&1==b.removed.length?void(b.removed[0]!==a[b.index]&&c.push(b)):void(c=c.concat(calcSplices(a,b.index,b.index+b.addedCount,b.removed,0,b.removed.length)))}),c}var hasObserve=detectObjectObserve(),hasEval=detectEval(),numberIsNaN=global.Number.isNaN||function(a){return"number"==typeof a&&global.isNaN(a)},createObject="__proto__"in{}?function(a){return a}:function(a){var b=a.__proto__;if(!b)return a;var c=Object.create(b);return Object.getOwnPropertyNames(a).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))}),c},identStart="[$_a-zA-Z]",identPart="[$_a-zA-Z0-9]",ident=identStart+"+"+identPart+"*",elementIndex="(?:[0-9]|[1-9]+[0-9]+)",identOrElementIndex="(?:"+ident+"|"+elementIndex+")",path="(?:"+identOrElementIndex+")(?:\\s*\\.\\s*"+identOrElementIndex+")*",pathRegExp=new RegExp("^"+path+"$"),constructorIsPrivate={},pathCache={};Path.get=getPath,Path.prototype=createObject({__proto__:[],valid:!0,toString:function(){return this.join(".")},getValueFrom:function(a){for(var b=0;b<this.length;b++){if(null==a)return;a=a[this[b]]}return a},iterateObjects:function(a,b){for(var c=0;c<this.length;c++){if(c&&(a=a[this[c-1]]),!isObject(a))return;b(a,this[0])}},compiledGetValueFromFn:function(){var a=this.map(function(a){return isIndex(a)?'["'+a+'"]':"."+a}),b="",c="obj";b+="if (obj != null";for(var d=0;d<this.length-1;d++){{this[d]}c+=a[d],b+=" &&\n     "+c+" != null"}return b+=")\n",c+=a[d],b+="  return "+c+";\nelse\n  return undefined;",new Function("obj",b)},setValueFrom:function(a,b){if(!this.length)return!1;for(var c=0;c<this.length-1;c++){if(!isObject(a))return!1;a=a[this[c]]}return isObject(a)?(a[this[c]]=b,!0):!1}});var invalidPath=new Path("",constructorIsPrivate);invalidPath.valid=!1,invalidPath.getValueFrom=invalidPath.setValueFrom=function(){};var MAX_DIRTY_CHECK_CYCLES=1e3,eomTasks=[],runEOM=hasObserve?function(){var a={pingPong:!0},b=!1;return Object.observe(a,function(){runEOMTasks(),b=!1}),function(c){eomTasks.push(c),b||(b=!0,a.pingPong=!a.pingPong)}}():function(){return function(a){eomTasks.push(a)}}(),observedObjectCache=[],observedSetCache=[],lastObservedSet,UNOPENED=0,OPENED=1,CLOSED=2,RESETTING=3,nextObserverId=1;Observer.prototype={open:function(a,b){if(this.state_!=UNOPENED)throw Error("Observer has already been opened.");return addToAll(this),this.callback_=a,this.target_=b,this.connect_(),this.state_=OPENED,this.value_},close:function(){this.state_==OPENED&&(removeFromAll(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=CLOSED)},deliver:function(){this.state_==OPENED&&dirtyCheck(this)},report_:function(a){try{this.callback_.apply(this.target_,a)}catch(b){Observer._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(b.stack||b))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var collectObservers=!hasObserve,allObservers;Observer._allObserversCount=0,collectObservers&&(allObservers=[]);var runningMicrotaskCheckpoint=!1,hasDebugForceFullDelivery=hasObserve&&function(){try{return eval("%RunMicrotasks()"),!0}catch(ex){return!1}}();global.Platform=global.Platform||{},global.Platform.performMicrotaskCheckpoint=function(){if(!runningMicrotaskCheckpoint){if(hasDebugForceFullDelivery)return void eval("%RunMicrotasks()");if(collectObservers){runningMicrotaskCheckpoint=!0;var cycles=0,anyChanged,toCheck;do{cycles++,toCheck=allObservers,allObservers=[],anyChanged=!1;for(var i=0;i<toCheck.length;i++){var observer=toCheck[i];observer.state_==OPENED&&(observer.check_()&&(anyChanged=!0),allObservers.push(observer))}runEOMTasks()&&(anyChanged=!0)}while(MAX_DIRTY_CHECK_CYCLES>cycles&&anyChanged);global.testingExposeCycleCount&&(global.dirtyCheckCycleCount=cycles),runningMicrotaskCheckpoint=!1}}},collectObservers&&(global.Platform.clearObservers=function(){allObservers=[]}),ObjectObserver.prototype=createObject({__proto__:Observer.prototype,arrayObserve:!1,connect_:function(){hasObserve?this.directObserver_=getObservedObject(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(a){var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=a[c];return Array.isArray(a)&&(b.length=a.length),b},check_:function(a){var b,c;if(hasObserve){if(!a)return!1;c={},b=diffObjectFromChangeRecords(this.value_,a,c)}else c=this.oldObject_,b=diffObjectFromOldObject(this.value_,this.oldObject_);return diffIsEmpty(b)?!1:(hasObserve||(this.oldObject_=this.copyObject(this.value_)),this.report_([b.added||{},b.removed||{},b.changed||{},function(a){return c[a]}]),!0)},disconnect_:function(){hasObserve?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==OPENED&&(hasObserve?this.directObserver_.deliver(!1):dirtyCheck(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),ArrayObserver.prototype=createObject({__proto__:ObjectObserver.prototype,arrayObserve:!0,copyObject:function(a){return a.slice()},check_:function(a){var b;if(hasObserve){if(!a)return!1;b=projectArraySplices(this.value_,a)}else b=calcSplices(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return b&&b.length?(hasObserve||(this.oldObject_=this.copyObject(this.value_)),this.report_([b]),!0):!1}}),ArrayObserver.applySplices=function(a,b,c){c.forEach(function(c){for(var d=[c.index,c.removed.length],e=c.index;e<c.index+c.addedCount;)d.push(b[e]),e++;Array.prototype.splice.apply(a,d)})},PathObserver.prototype=createObject({__proto__:Observer.prototype,connect_:function(){hasObserve&&(this.directObserver_=getObservedSet(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(a){this.path_.iterateObjects(this.object_,a)},check_:function(a,b){var c=this.value_;return this.value_=this.path_.getValueFrom(this.object_),b||areSameValue(this.value_,c)?!1:(this.report_([this.value_,c]),!0)},setValue:function(a){this.path_&&this.path_.setValueFrom(this.object_,a)}});var observerSentinel={};CompoundObserver.prototype=createObject({__proto__:Observer.prototype,connect_:function(){if(hasObserve){for(var a,b=!1,c=0;c<this.observed_.length;c+=2)if(a=this.observed_[c],a!==observerSentinel){b=!0;break}b&&(this.directObserver_=getObservedSet(this,a))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var a=0;a<this.observed_.length;a+=2)this.observed_[a]===observerSentinel&&this.observed_[a+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(a,b){if(this.state_!=UNOPENED&&this.state_!=RESETTING)throw Error("Cannot add paths once started.");var b=getPath(b);if(this.observed_.push(a,b),this.reportChangesOnOpen_){var c=this.observed_.length/2-1;this.value_[c]=b.getValueFrom(a)}},addObserver:function(a){if(this.state_!=UNOPENED&&this.state_!=RESETTING)throw Error("Cannot add observers once started.");if(this.observed_.push(observerSentinel,a),this.reportChangesOnOpen_){var b=this.observed_.length/2-1;this.value_[b]=a.open(this.deliver,this)}},startReset:function(){if(this.state_!=OPENED)throw Error("Can only reset while open");this.state_=RESETTING,this.disconnect_()},finishReset:function(){if(this.state_!=RESETTING)throw Error("Can only finishReset after startReset");return this.state_=OPENED,this.connect_(),this.value_},iterateObjects_:function(a){for(var b,c=0;c<this.observed_.length;c+=2)b=this.observed_[c],b!==observerSentinel&&this.observed_[c+1].iterateObjects(b,a)},check_:function(a,b){for(var c,d=0;d<this.observed_.length;d+=2){var e,f=this.observed_[d],g=this.observed_[d+1];if(f===observerSentinel){var h=g;e=this.state_===UNOPENED?h.open(this.deliver,this):h.discardChanges()}else e=g.getValueFrom(f);b?this.value_[d/2]=e:areSameValue(e,this.value_[d/2])||(c=c||[],c[d/2]=this.value_[d/2],this.value_[d/2]=e)}return c?(this.report_([this.value_,c,this.observed_]),!0):!1}}),ObserverTransform.prototype={open:function(a,b){return this.callback_=a,this.target_=b,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(a){if(a=this.getValueFn_(a),!areSameValue(a,this.value_)){var b=this.value_;this.value_=a,this.callback_.call(this.target_,this.value_,b)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(a){return a=this.setValueFn_(a),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(a):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var expectedRecordTypes={add:!0,update:!0,"delete":!0},updateRecord={object:void 0,type:"update",name:void 0,oldValue:void 0};Observer.createBindablePrototypeAccessor=function(a,b){var c=b+"_",d=b+"Observable_";a[c]=a[b],Object.defineProperty(a,b,{get:function(){var a=this[d];return a&&a.deliver(),this[c]},set:function(a){var e=this[d];if(e)return void e.setValue(a);var f=this[c];return this[c]=a,notify(this,b,a,f),a},configurable:!0})},Observer.bindToInstance=function(a,b,c,d){var e=b+"_",f=b+"Observable_";a[f]=c;var g=a[e],h=c.open(function(c,d){a[e]=c,notify(a,b,c,d)});if(d&&!areSameValue(g,h)){var i=d(g,h);areSameValue(h,i)||(h=i,c.setValue&&c.setValue(h))}return a[e]=h,notify(a,b,h,g),{close:function(){c.close(),a[f]=void 0}}};var EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;ArraySplice.prototype={calcEditDistances:function(a,b,c,d,e,f){for(var g=f-e+1,h=c-b+1,i=new Array(g),j=0;g>j;j++)i[j]=new Array(h),i[j][0]=j;for(var k=0;h>k;k++)i[0][k]=k;for(var j=1;g>j;j++)for(var k=1;h>k;k++)if(this.equals(a[b+k-1],d[e+j-1]))i[j][k]=i[j-1][k-1];else{var l=i[j-1][k]+1,m=i[j][k-1]+1;i[j][k]=m>l?l:m}return i},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,d=a[b][c],e=[];b>0||c>0;)if(0!=b)if(0!=c){var f,g=a[b-1][c-1],h=a[b-1][c],i=a[b][c-1];f=i>h?g>h?h:g:g>i?i:g,f==g?(g==d?e.push(EDIT_LEAVE):(e.push(EDIT_UPDATE),d=g),b--,c--):f==h?(e.push(EDIT_DELETE),b--,d=h):(e.push(EDIT_ADD),c--,d=i)}else e.push(EDIT_DELETE),b--;else e.push(EDIT_ADD),c--;return e.reverse(),e},calcSplices:function(a,b,c,d,e,f){var g=0,h=0,i=Math.min(c-b,f-e);if(0==b&&0==e&&(g=this.sharedPrefix(a,d,i)),c==a.length&&f==d.length&&(h=this.sharedSuffix(a,d,i-g)),b+=g,e+=g,c-=h,f-=h,c-b==0&&f-e==0)return[];if(b==c){for(var j=newSplice(b,[],0);f>e;)j.removed.push(d[e++]);return[j]}if(e==f)return[newSplice(b,[],c-b)];for(var k=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,b,c,d,e,f)),j=void 0,l=[],m=b,n=e,o=0;o<k.length;o++)switch(k[o]){case EDIT_LEAVE:j&&(l.push(j),j=void 0),m++,n++;break;case EDIT_UPDATE:j||(j=newSplice(m,[],0)),j.addedCount++,m++,j.removed.push(d[n]),n++;break;case EDIT_ADD:j||(j=newSplice(m,[],0)),j.addedCount++,m++;break;case EDIT_DELETE:j||(j=newSplice(m,[],0)),j.removed.push(d[n]),n++}return j&&l.push(j),l},sharedPrefix:function(a,b,c){for(var d=0;c>d;d++)if(!this.equals(a[d],b[d]))return d;return c},sharedSuffix:function(a,b,c){for(var d=a.length,e=b.length,f=0;c>f&&this.equals(a[--d],b[--e]);)f++;return f},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};var arraySplice=new ArraySplice;global.Observer=Observer,global.Observer.runEOM_=runEOM,global.Observer.observerSentinel_=observerSentinel,global.Observer.hasObjectObserve=hasObserve,global.ArrayObserver=ArrayObserver,global.ArrayObserver.calculateSplices=function(a,b){return arraySplice.calculateSplices(a,b)},global.ArraySplice=ArraySplice,global.ObjectObserver=ObjectObserver,global.PathObserver=PathObserver,global.CompoundObserver=CompoundObserver,global.Path=Path,global.ObserverTransform=ObserverTransform}("undefined"!=typeof global&&global&&"undefined"!=typeof module&&module?global:this||window),Platform.flags.shadow?(window.ShadowDOMPolyfill={},function(a){"use strict";function b(a){if(!a)throw new Error("Assertion failed")}function c(a,b){for(var c=M(b),d=0;d<c.length;d++){var e=c[d];L(a,e,N(b,e))}return a}function d(a,b){for(var c=M(b),d=0;d<c.length;d++){var e=c[d];switch(e){case"arguments":case"caller":case"length":case"name":case"prototype":case"toString":continue}L(a,e,N(b,e))}return a}function e(a,b){for(var c=0;c<b.length;c++)if(b[c]in a)return b[c]}function f(a,b,c){O.value=c,L(a,b,O)}function g(a){var b=a.__proto__||Object.getPrototypeOf(a),c=F.get(b);if(c)return c;var d=g(b),e=u(d);return r(b,e,a),e}function h(a,b){p(a,b,!0)}function i(a,b){p(b,a,!1)}function j(a){return/^on[a-z]+$/.test(a)}function k(a){return/^\w[a-zA-Z_0-9]*$/.test(a)}function l(a){return I&&k(a)?new Function("return this.impl."+a):function(){return this.impl[a]}}function m(a){return I&&k(a)?new Function("v","this.impl."+a+" = v"):function(b){this.impl[a]=b}}function n(a){return I&&k(a)?new Function("return this.impl."+a+".apply(this.impl, arguments)"):function(){return this.impl[a].apply(this.impl,arguments)}}function o(a,b){try{return Object.getOwnPropertyDescriptor(a,b)}catch(c){return Q}}function p(b,c,d){for(var e=M(b),f=0;f<e.length;f++){var g=e[f];if("polymerBlackList_"!==g&&!(g in c||b.polymerBlackList_&&b.polymerBlackList_[g])){P&&b.__lookupGetter__(g);var h,i,k=o(b,g);if(d&&"function"==typeof k.value)c[g]=n(g);else{var p=j(g);h=p?a.getEventHandlerGetter(g):l(g),(k.writable||k.set)&&(i=p?a.getEventHandlerSetter(g):m(g)),L(c,g,{get:h,set:i,configurable:k.configurable,enumerable:k.enumerable})}}}}function q(a,b,c){var e=a.prototype;r(e,b,c),d(b,a)}function r(a,c,d){var e=c.prototype;b(void 0===F.get(a)),F.set(a,c),G.set(e,a),h(a,e),d&&i(e,d),f(e,"constructor",c),c.prototype=e}function s(a,b){return F.get(b.prototype)===a}function t(a){var b=Object.getPrototypeOf(a),c=g(b),d=u(c);return r(b,d,a),d}function u(a){function b(b){a.call(this,b)}var c=Object.create(a.prototype);return c.constructor=b,b.prototype=c,b}function v(a){return a instanceof H.EventTarget||a instanceof H.Event||a instanceof H.Range||a instanceof H.DOMImplementation||a instanceof H.CanvasRenderingContext2D||H.WebGLRenderingContext&&a instanceof H.WebGLRenderingContext}function w(a){return S&&a instanceof S||a instanceof U||a instanceof T||a instanceof V||a instanceof W||a instanceof R||a instanceof X||Y&&a instanceof Y||Z&&a instanceof Z}function x(a){return null===a?null:(b(w(a)),a.polymerWrapper_||(a.polymerWrapper_=new(g(a))(a)))}function y(a){return null===a?null:(b(v(a)),a.impl)}function z(a){return a&&v(a)?y(a):a}function A(a){return a&&!v(a)?x(a):a}function B(a,c){null!==c&&(b(w(a)),b(void 0===c||v(c)),a.polymerWrapper_=c)}function C(a,b,c){$.get=c,L(a.prototype,b,$)}function D(a,b){C(a,b,function(){return x(this.impl[b])})}function E(a,b){a.forEach(function(a){b.forEach(function(b){a.prototype[b]=function(){var a=A(this);return a[b].apply(a,arguments)}})})}var F=new WeakMap,G=new WeakMap,H=Object.create(null),I=!("securityPolicy"in document)||document.securityPolicy.allowsEval;if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime&&(I=!1),I)try{var J=new Function("","return true;");I=J()}catch(K){I=!1}var L=Object.defineProperty,M=Object.getOwnPropertyNames,N=Object.getOwnPropertyDescriptor,O={value:void 0,configurable:!0,enumerable:!1,writable:!0};M(window);var P=/Firefox/.test(navigator.userAgent),Q={get:function(){},set:function(){},configurable:!0,enumerable:!0},R=window.DOMImplementation,S=window.EventTarget,T=window.Event,U=window.Node,V=window.Window,W=window.Range,X=window.CanvasRenderingContext2D,Y=window.WebGLRenderingContext,Z=window.SVGElementInstance,$={get:void 0,configurable:!0,enumerable:!0};a.assert=b,a.constructorTable=F,a.defineGetter=C,a.defineWrapGetter=D,a.forwardMethodsToWrapper=E,a.isWrapper=v,a.isWrapperFor=s,a.mixin=c,a.nativePrototypeTable=G,a.oneOf=e,a.registerObject=t,a.registerWrapper=q,a.rewrap=B,a.unwrap=y,a.unwrapIfNeeded=z,a.wrap=x,a.wrapIfNeeded=A,a.wrappers=H}(window.ShadowDOMPolyfill),function(a){"use strict";function b(){g=!1;var a=f.slice(0);f=[];for(var b=0;b<a.length;b++)a[b]()}function c(a){f.push(a),g||(g=!0,d(b,0))}var d,e=window.MutationObserver,f=[],g=!1;if(e){var h=1,i=new e(b),j=document.createTextNode(h);i.observe(j,{characterData:!0}),d=function(){h=(h+1)%2,j.data=h}}else d=window.setImmediate||window.setTimeout;a.setEndOfMicrotask=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(){p||(k(c),p=!0)}function c(){p=!1;do for(var a=o.slice(),b=!1,c=0;c<a.length;c++){var d=a[c],e=d.takeRecords();f(d),e.length&&(d.callback_(e,d),b=!0)}while(b)}function d(a,b){this.type=a,this.target=b,this.addedNodes=new m.NodeList,this.removedNodes=new m.NodeList,this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function e(a,b){for(;a;a=a.parentNode){var c=n.get(a);if(c)for(var d=0;d<c.length;d++){var e=c[d];e.options.subtree&&e.addTransientObserver(b)}}}function f(a){for(var b=0;b<a.nodes_.length;b++){var c=a.nodes_[b],d=n.get(c);if(!d)return;for(var e=0;e<d.length;e++){var f=d[e];f.observer===a&&f.removeTransientObservers()}}}function g(a,c,e){for(var f=Object.create(null),g=Object.create(null),h=a;h;h=h.parentNode){var i=n.get(h);if(i)for(var j=0;j<i.length;j++){var k=i[j],l=k.options;if((h===a||l.subtree)&&!("attributes"===c&&!l.attributes||"attributes"===c&&l.attributeFilter&&(null!==e.namespace||-1===l.attributeFilter.indexOf(e.name))||"characterData"===c&&!l.characterData||"childList"===c&&!l.childList)){var m=k.observer;f[m.uid_]=m,("attributes"===c&&l.attributeOldValue||"characterData"===c&&l.characterDataOldValue)&&(g[m.uid_]=e.oldValue)}}}var o=!1;for(var p in f){var m=f[p],q=new d(c,a);"name"in e&&"namespace"in e&&(q.attributeName=e.name,q.attributeNamespace=e.namespace),e.addedNodes&&(q.addedNodes=e.addedNodes),e.removedNodes&&(q.removedNodes=e.removedNodes),e.previousSibling&&(q.previousSibling=e.previousSibling),e.nextSibling&&(q.nextSibling=e.nextSibling),void 0!==g[p]&&(q.oldValue=g[p]),m.records_.push(q),o=!0}o&&b()}function h(a){if(this.childList=!!a.childList,this.subtree=!!a.subtree,this.attributes="attributes"in a||!("attributeOldValue"in a||"attributeFilter"in a)?!!a.attributes:!0,this.characterData="characterDataOldValue"in a&&!("characterData"in a)?!0:!!a.characterData,!this.attributes&&(a.attributeOldValue||"attributeFilter"in a)||!this.characterData&&a.characterDataOldValue)throw new TypeError;if(this.characterData=!!a.characterData,this.attributeOldValue=!!a.attributeOldValue,this.characterDataOldValue=!!a.characterDataOldValue,"attributeFilter"in a){if(null==a.attributeFilter||"object"!=typeof a.attributeFilter)throw new TypeError;this.attributeFilter=q.call(a.attributeFilter)}else this.attributeFilter=null}function i(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++r,o.push(this)}function j(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var k=a.setEndOfMicrotask,l=a.wrapIfNeeded,m=a.wrappers,n=new WeakMap,o=[],p=!1,q=Array.prototype.slice,r=0;i.prototype={observe:function(a,b){a=l(a);var c,d=new h(b),e=n.get(a);e||n.set(a,e=[]);for(var f=0;f<e.length;f++)e[f].observer===this&&(c=e[f],c.removeTransientObservers(),c.options=d);c||(c=new j(this,a,d),e.push(c),this.nodes_.push(a))},disconnect:function(){this.nodes_.forEach(function(a){for(var b=n.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}},j.prototype={addTransientObserver:function(a){if(a!==this.target){this.transientObservedNodes.push(a);var b=n.get(a);b||n.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[];for(var b=0;b<a.length;b++)for(var c=a[b],d=n.get(c),e=0;e<d.length;e++)if(d[e]===this){d.splice(e,1);break}}},a.enqueueMutation=g,a.registerTransientObservers=e,a.wrappers.MutationObserver=i,a.wrappers.MutationRecord=d}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a,b){this.root=a,this.parent=b}function c(a,b){if(a.treeScope_!==b){a.treeScope_=b;for(var d=a.shadowRoot;d;d=d.olderShadowRoot)d.treeScope_.parent=b;for(var e=a.firstChild;e;e=e.nextSibling)c(e,b)}}function d(a){if(a.treeScope_)return a.treeScope_;var c,e=a.parentNode;return c=e?d(e):new b(a,null),a.treeScope_=c}b.prototype={get renderer(){return this.root instanceof a.wrappers.ShadowRoot?a.getRendererForHost(this.root.host):null},contains:function(a){for(;a;a=a.parent)if(a===this)return!0;return!1}},a.TreeScope=b,a.getTreeScope=d,a.setTreeScope=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){return a instanceof R.ShadowRoot}function c(a){var b=a.localName;return"content"===b||"shadow"===b}function d(a){return!!a.shadowRoot}function e(a){var b;return a.parentNode||(b=a.defaultView)&&Q(b)||null}function f(f,g,h){if(h.length)return h.shift();if(b(f))return j(f)||f.host;var i=a.eventParentsTable.get(f);if(i){for(var k=1;k<i.length;k++)h[k-1]=i[k];return i[0]}if(g&&c(f)){var l=f.parentNode;if(l&&d(l))for(var m=a.getShadowTrees(l),n=j(g),k=0;k<m.length;k++)if(m[k].contains(n))return n}return e(f)}function g(a){for(var d=[],e=a,g=[],i=[];e;){var j=null;if(c(e)){j=h(d);var k=d[d.length-1]||e;d.push(k)}else d.length||d.push(e);var l=d[d.length-1];g.push({target:l,currentTarget:e}),b(e)&&d.pop(),e=f(e,j,i)}return g}function h(a){for(var b=a.length-1;b>=0;b--)if(!c(a[b]))return a[b];return null}function i(a,d){for(var e=[];a;){for(var g=[],i=d,j=void 0;i;){var m=null;if(g.length){if(c(i)&&(m=h(g),k(j))){var n=g[g.length-1];g.push(n)}}else g.push(i);if(l(i,a))return g[g.length-1];b(i)&&g.pop(),j=i,i=f(i,m,e)}a=b(a)?a.host:a.parentNode}}function j(b){return a.insertionParentTable.get(b)}function k(a){return j(a)}function l(a,b){return M(a)===M(b)}function m(a){if(!T.get(a)&&(T.set(a,!0),o(Q(a),Q(a.target)),K)){var b=K;throw K=null,b}}function n(a){switch(a.type){case"beforeunload":case"load":case"unload":return!0}return!1}function o(b,c){if(U.get(b))throw new Error("InvalidStateError");U.set(b,!0),a.renderAllPending();var d=g(c);return 2===d.length&&d[0].target instanceof R.Document&&n(b)&&d.shift(),ab.set(b,d),p(b,d)&&q(b,d)&&r(b,d),Y.set(b,u.NONE),W.delete(b,null),U.delete(b),b.defaultPrevented}function p(a,b){for(var c,d=b.length-1;d>0;d--){var e=b[d].target,f=b[d].currentTarget;if(e!==f&&(c=u.CAPTURING_PHASE,!s(b[d],a,c)))return!1}return!0}function q(a,b){var c=u.AT_TARGET;return s(b[0],a,c)}function r(a,b){for(var c,d=a.bubbles,e=1;e<b.length;e++){var f=b[e].target,g=b[e].currentTarget;if(f===g)c=u.AT_TARGET;else{if(!d||$.get(a))continue;c=u.BUBBLING_PHASE}if(!s(b[e],a,c))return}}function s(a,b,c){var d=a.target,e=a.currentTarget,f=S.get(e);if(!f)return!0;if("relatedTarget"in b){var g=P(b),h=g.relatedTarget;if(h){if(h instanceof Object&&h.addEventListener){var j=Q(h),k=i(e,j);if(k===d)return!0}else k=null;X.set(b,k)}}Y.set(b,c);var l=b.type,m=!1;V.set(b,d),W.set(b,e);for(var n=0;n<f.length;n++){var o=f[n];if(o.removed)m=!0;else if(!(o.type!==l||!o.capture&&c===u.CAPTURING_PHASE||o.capture&&c===u.BUBBLING_PHASE))try{if("function"==typeof o.handler?o.handler.call(e,b):o.handler.handleEvent(b),$.get(b))return!1
}catch(p){K||(K=p)}}if(m){var q=f.slice();f.length=0;for(var n=0;n<q.length;n++)q[n].removed||f.push(q[n])}return!Z.get(b)}function t(a,b,c){this.type=a,this.handler=b,this.capture=Boolean(c)}function u(a,b){if(!(a instanceof bb))return Q(y(bb,"Event",a,b));var c=a;return mb||"beforeunload"!==c.type?void(this.impl=c):new z(c)}function v(a){return a&&a.relatedTarget?Object.create(a,{relatedTarget:{value:P(a.relatedTarget)}}):a}function w(a,b,c){var d=window[a],e=function(b,c){return b instanceof d?void(this.impl=b):Q(y(d,a,b,c))};if(e.prototype=Object.create(b.prototype),c&&N(e.prototype,c),d)try{O(d,e,new d("temp"))}catch(f){O(d,e,document.createEvent(a))}return e}function x(a,b){return function(){arguments[b]=P(arguments[b]);var c=P(this);c[a].apply(c,arguments)}}function y(a,b,c,d){if(kb)return new a(c,v(d));var e=P(document.createEvent(b)),f=jb[b],g=[c];return Object.keys(f).forEach(function(a){var b=null!=d&&a in d?d[a]:f[a];"relatedTarget"===a&&(b=P(b)),g.push(b)}),e["init"+b].apply(e,g),e}function z(a){u.call(this,a)}function A(a){return"function"==typeof a?!0:a&&a.handleEvent}function B(a){switch(a){case"DOMAttrModified":case"DOMAttributeNameChanged":case"DOMCharacterDataModified":case"DOMElementNameChanged":case"DOMNodeInserted":case"DOMNodeInsertedIntoDocument":case"DOMNodeRemoved":case"DOMNodeRemovedFromDocument":case"DOMSubtreeModified":return!0}return!1}function C(a){this.impl=a}function D(a){return a instanceof R.ShadowRoot&&(a=a.host),P(a)}function E(a,b){var c=S.get(a);if(c)for(var d=0;d<c.length;d++)if(!c[d].removed&&c[d].type===b)return!0;return!1}function F(a,b){for(var c=P(a);c;c=c.parentNode)if(E(Q(c),b))return!0;return!1}function G(a){L(a,ob)}function H(b,c,d,e){a.renderAllPending();for(var f=Q(pb.call(c.impl,d,e)),h=g(f,this),i=0;i<h.length;i++){var j=h[i];if(j.currentTarget===b)return j.target}return null}function I(a){return function(){var b=_.get(this);return b&&b[a]&&b[a].value||null}}function J(a){var b=a.slice(2);return function(c){var d=_.get(this);d||(d=Object.create(null),_.set(this,d));var e=d[a];if(e&&this.removeEventListener(b,e.wrapped,!1),"function"==typeof c){var f=function(b){var d=c.call(this,b);d===!1?b.preventDefault():"onbeforeunload"===a&&"string"==typeof d&&(b.returnValue=d)};this.addEventListener(b,f,!1),d[a]={value:c,wrapped:f}}}}var K,L=a.forwardMethodsToWrapper,M=a.getTreeScope,N=a.mixin,O=a.registerWrapper,P=a.unwrap,Q=a.wrap,R=a.wrappers,S=(new WeakMap,new WeakMap),T=new WeakMap,U=new WeakMap,V=new WeakMap,W=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,$=new WeakMap,_=new WeakMap,ab=new WeakMap;t.prototype={equals:function(a){return this.handler===a.handler&&this.type===a.type&&this.capture===a.capture},get removed(){return null===this.handler},remove:function(){this.handler=null}};var bb=window.Event;bb.prototype.polymerBlackList_={returnValue:!0,keyLocation:!0},u.prototype={get target(){return V.get(this)},get currentTarget(){return W.get(this)},get eventPhase(){return Y.get(this)},get path(){var a=new R.NodeList,b=ab.get(this);if(b){for(var c=0,d=b.length-1,e=M(W.get(this)),f=0;d>=f;f++){var g=b[f].currentTarget,h=M(g);h.contains(e)&&(f!==d||g instanceof R.Node)&&(a[c++]=g)}a.length=c}return a},stopPropagation:function(){Z.set(this,!0)},stopImmediatePropagation:function(){Z.set(this,!0),$.set(this,!0)}},O(bb,u,document.createEvent("Event"));var cb=w("UIEvent",u),db=w("CustomEvent",u),eb={get relatedTarget(){var a=X.get(this);return void 0!==a?a:Q(P(this).relatedTarget)}},fb=N({initMouseEvent:x("initMouseEvent",14)},eb),gb=N({initFocusEvent:x("initFocusEvent",5)},eb),hb=w("MouseEvent",cb,fb),ib=w("FocusEvent",cb,gb),jb=Object.create(null),kb=function(){try{new window.FocusEvent("focus")}catch(a){return!1}return!0}();if(!kb){var lb=function(a,b,c){if(c){var d=jb[c];b=N(N({},d),b)}jb[a]=b};lb("Event",{bubbles:!1,cancelable:!1}),lb("CustomEvent",{detail:null},"Event"),lb("UIEvent",{view:null,detail:0},"Event"),lb("MouseEvent",{screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},"UIEvent"),lb("FocusEvent",{relatedTarget:null},"UIEvent")}var mb=window.BeforeUnloadEvent;z.prototype=Object.create(u.prototype),N(z.prototype,{get returnValue(){return this.impl.returnValue},set returnValue(a){this.impl.returnValue=a}}),mb&&O(mb,z);var nb=window.EventTarget,ob=["addEventListener","removeEventListener","dispatchEvent"];[Node,Window].forEach(function(a){var b=a.prototype;ob.forEach(function(a){Object.defineProperty(b,a+"_",{value:b[a]})})}),C.prototype={addEventListener:function(a,b,c){if(A(b)&&!B(a)){var d=new t(a,b,c),e=S.get(this);if(e){for(var f=0;f<e.length;f++)if(d.equals(e[f]))return}else e=[],S.set(this,e);e.push(d);var g=D(this);g.addEventListener_(a,m,!0)}},removeEventListener:function(a,b,c){c=Boolean(c);var d=S.get(this);if(d){for(var e=0,f=!1,g=0;g<d.length;g++)d[g].type===a&&d[g].capture===c&&(e++,d[g].handler===b&&(f=!0,d[g].remove()));if(f&&1===e){var h=D(this);h.removeEventListener_(a,m,!0)}}},dispatchEvent:function(b){var c=P(b),d=c.type;T.set(c,!1),a.renderAllPending();var e;F(this,d)||(e=function(){},this.addEventListener(d,e,!0));try{return P(this).dispatchEvent_(c)}finally{e&&this.removeEventListener(d,e,!0)}}},nb&&O(nb,C);var pb=document.elementFromPoint;a.adjustRelatedTarget=i,a.elementFromPoint=H,a.getEventHandlerGetter=I,a.getEventHandlerSetter=J,a.wrapEventTargetMethods=G,a.wrappers.BeforeUnloadEvent=z,a.wrappers.CustomEvent=db,a.wrappers.Event=u,a.wrappers.EventTarget=C,a.wrappers.FocusEvent=ib,a.wrappers.MouseEvent=hb,a.wrappers.UIEvent=cb}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a,b){Object.defineProperty(a,b,g)}function c(){this.length=0,b(this,"length")}function d(a){if(null==a)return a;for(var b=new c,d=0,e=a.length;e>d;d++)b[d]=f(a[d]);return b.length=e,b}function e(a,b){a.prototype[b]=function(){return d(this.impl[b].apply(this.impl,arguments))}}var f=a.wrap,g={enumerable:!1};c.prototype={item:function(a){return this[a]}},b(c.prototype,"item"),a.wrappers.NodeList=c,a.addWrapNodeListMethod=e,a.wrapNodeList=d}(window.ShadowDOMPolyfill),function(a){"use strict";a.wrapHTMLCollection=a.wrapNodeList,a.wrappers.HTMLCollection=a.wrappers.NodeList}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){A(a instanceof w)}function c(a){var b=new y;return b[0]=a,b.length=1,b}function d(a,b,c){C(b,"childList",{removedNodes:c,previousSibling:a.previousSibling,nextSibling:a.nextSibling})}function e(a,b){C(a,"childList",{removedNodes:b})}function f(a,b,d,e){if(a instanceof DocumentFragment){var f=h(a);O=!0;for(var g=f.length-1;g>=0;g--)a.removeChild(f[g]),f[g].parentNode_=b;O=!1;for(var g=0;g<f.length;g++)f[g].previousSibling_=f[g-1]||d,f[g].nextSibling_=f[g+1]||e;return d&&(d.nextSibling_=f[0]),e&&(e.previousSibling_=f[f.length-1]),f}var f=c(a),i=a.parentNode;return i&&i.removeChild(a),a.parentNode_=b,a.previousSibling_=d,a.nextSibling_=e,d&&(d.nextSibling_=a),e&&(e.previousSibling_=a),f}function g(a){if(a instanceof DocumentFragment)return h(a);var b=c(a),e=a.parentNode;return e&&d(a,e,b),b}function h(a){for(var b=new y,c=0,d=a.firstChild;d;d=d.nextSibling)b[c++]=d;return b.length=c,e(a,b),b}function i(a){return a}function j(a,b){I(a,b),a.nodeIsInserted_()}function k(a,b){for(var c=D(b),d=0;d<a.length;d++)j(a[d],c)}function l(a){I(a,new z(a,null))}function m(a){for(var b=0;b<a.length;b++)l(a[b])}function n(a,b){var c=a.nodeType===w.DOCUMENT_NODE?a:a.ownerDocument;c!==b.ownerDocument&&c.adoptNode(b)}function o(b,c){if(c.length){var d=b.ownerDocument;if(d!==c[0].ownerDocument)for(var e=0;e<c.length;e++)a.adoptNodeNoRemove(c[e],d)}}function p(a,b){o(a,b);var c=b.length;if(1===c)return J(b[0]);for(var d=J(a.ownerDocument.createDocumentFragment()),e=0;c>e;e++)d.appendChild(J(b[e]));return d}function q(a){if(void 0!==a.firstChild_)for(var b=a.firstChild_;b;){var c=b;b=b.nextSibling_,c.parentNode_=c.previousSibling_=c.nextSibling_=void 0}a.firstChild_=a.lastChild_=void 0}function r(a){if(a.invalidateShadowRenderer()){for(var b=a.firstChild;b;){A(b.parentNode===a);var c=b.nextSibling,d=J(b),e=d.parentNode;e&&V.call(e,d),b.previousSibling_=b.nextSibling_=b.parentNode_=null,b=c}a.firstChild_=a.lastChild_=null}else for(var c,f=J(a),g=f.firstChild;g;)c=g.nextSibling,V.call(f,g),g=c}function s(a){var b=a.parentNode;return b&&b.invalidateShadowRenderer()}function t(a){for(var b,c=0;c<a.length;c++)b=a[c],b.parentNode.removeChild(b)}function u(a,b,c){var d;if(d=L(c?P.call(c,a.impl,!1):Q.call(a.impl,!1)),b){for(var e=a.firstChild;e;e=e.nextSibling)d.appendChild(u(e,!0,c));if(a instanceof N.HTMLTemplateElement)for(var f=d.content,e=a.content.firstChild;e;e=e.nextSibling)f.appendChild(u(e,!0,c))}return d}function v(a,b){if(!b||D(a)!==D(b))return!1;for(var c=b;c;c=c.parentNode)if(c===a)return!0;return!1}function w(a){A(a instanceof R),x.call(this,a),this.parentNode_=void 0,this.firstChild_=void 0,this.lastChild_=void 0,this.nextSibling_=void 0,this.previousSibling_=void 0,this.treeScope_=void 0}var x=a.wrappers.EventTarget,y=a.wrappers.NodeList,z=a.TreeScope,A=a.assert,B=a.defineWrapGetter,C=a.enqueueMutation,D=a.getTreeScope,E=a.isWrapper,F=a.mixin,G=a.registerTransientObservers,H=a.registerWrapper,I=a.setTreeScope,J=a.unwrap,K=a.unwrapIfNeeded,L=a.wrap,M=a.wrapIfNeeded,N=a.wrappers,O=!1,P=document.importNode,Q=window.Node.prototype.cloneNode,R=window.Node,S=window.DocumentFragment,T=(R.prototype.appendChild,R.prototype.compareDocumentPosition),U=R.prototype.insertBefore,V=R.prototype.removeChild,W=R.prototype.replaceChild,X=/Trident/.test(navigator.userAgent),Y=X?function(a,b){try{V.call(a,b)}catch(c){if(!(a instanceof S))throw c}}:function(a,b){V.call(a,b)};w.prototype=Object.create(x.prototype),F(w.prototype,{appendChild:function(a){return this.insertBefore(a,null)},insertBefore:function(a,c){b(a);var d;c?E(c)?d=J(c):(d=c,c=L(d)):(c=null,d=null),c&&A(c.parentNode===this);var e,h=c?c.previousSibling:this.lastChild,i=!this.invalidateShadowRenderer()&&!s(a);if(e=i?g(a):f(a,this,h,c),i)n(this,a),q(this),U.call(this.impl,J(a),d);else{h||(this.firstChild_=e[0]),c||(this.lastChild_=e[e.length-1]);var j=d?d.parentNode:this.impl;j?U.call(j,p(this,e),d):o(this,e)}return C(this,"childList",{addedNodes:e,nextSibling:c,previousSibling:h}),k(e,this),a},removeChild:function(a){if(b(a),a.parentNode!==this){for(var d=!1,e=(this.childNodes,this.firstChild);e;e=e.nextSibling)if(e===a){d=!0;break}if(!d)throw new Error("NotFoundError")}var f=J(a),g=a.nextSibling,h=a.previousSibling;if(this.invalidateShadowRenderer()){var i=this.firstChild,j=this.lastChild,k=f.parentNode;k&&Y(k,f),i===a&&(this.firstChild_=g),j===a&&(this.lastChild_=h),h&&(h.nextSibling_=g),g&&(g.previousSibling_=h),a.previousSibling_=a.nextSibling_=a.parentNode_=void 0}else q(this),Y(this.impl,f);return O||C(this,"childList",{removedNodes:c(a),nextSibling:g,previousSibling:h}),G(this,a),a},replaceChild:function(a,d){b(a);var e;if(E(d)?e=J(d):(e=d,d=L(e)),d.parentNode!==this)throw new Error("NotFoundError");var h,i=d.nextSibling,j=d.previousSibling,m=!this.invalidateShadowRenderer()&&!s(a);return m?h=g(a):(i===a&&(i=a.nextSibling),h=f(a,this,j,i)),m?(n(this,a),q(this),W.call(this.impl,J(a),e)):(this.firstChild===d&&(this.firstChild_=h[0]),this.lastChild===d&&(this.lastChild_=h[h.length-1]),d.previousSibling_=d.nextSibling_=d.parentNode_=void 0,e.parentNode&&W.call(e.parentNode,p(this,h),e)),C(this,"childList",{addedNodes:h,removedNodes:c(d),nextSibling:i,previousSibling:j}),l(d),k(h,this),d},nodeIsInserted_:function(){for(var a=this.firstChild;a;a=a.nextSibling)a.nodeIsInserted_()},hasChildNodes:function(){return null!==this.firstChild},get parentNode(){return void 0!==this.parentNode_?this.parentNode_:L(this.impl.parentNode)},get firstChild(){return void 0!==this.firstChild_?this.firstChild_:L(this.impl.firstChild)},get lastChild(){return void 0!==this.lastChild_?this.lastChild_:L(this.impl.lastChild)},get nextSibling(){return void 0!==this.nextSibling_?this.nextSibling_:L(this.impl.nextSibling)},get previousSibling(){return void 0!==this.previousSibling_?this.previousSibling_:L(this.impl.previousSibling)},get parentElement(){for(var a=this.parentNode;a&&a.nodeType!==w.ELEMENT_NODE;)a=a.parentNode;return a},get textContent(){for(var a="",b=this.firstChild;b;b=b.nextSibling)b.nodeType!=w.COMMENT_NODE&&(a+=b.textContent);return a},set textContent(a){var b=i(this.childNodes);if(this.invalidateShadowRenderer()){if(r(this),""!==a){var c=this.impl.ownerDocument.createTextNode(a);this.appendChild(c)}}else q(this),this.impl.textContent=a;var d=i(this.childNodes);C(this,"childList",{addedNodes:d,removedNodes:b}),m(b),k(d,this)},get childNodes(){for(var a=new y,b=0,c=this.firstChild;c;c=c.nextSibling)a[b++]=c;return a.length=b,a},cloneNode:function(a){return u(this,a)},contains:function(a){return v(this,M(a))},compareDocumentPosition:function(a){return T.call(this.impl,K(a))},normalize:function(){for(var a,b,c=i(this.childNodes),d=[],e="",f=0;f<c.length;f++)b=c[f],b.nodeType===w.TEXT_NODE?a||b.data.length?a?(e+=b.data,d.push(b)):a=b:this.removeNode(b):(a&&d.length&&(a.data+=e,cleanUpNodes(d)),d=[],e="",a=null,b.childNodes.length&&b.normalize());a&&d.length&&(a.data+=e,t(d))}}),B(w,"ownerDocument"),H(R,w,document.createDocumentFragment()),delete w.prototype.querySelector,delete w.prototype.querySelectorAll,w.prototype=F(Object.create(x.prototype),w.prototype),a.cloneNode=u,a.nodeWasAdded=j,a.nodeWasRemoved=l,a.nodesWereAdded=k,a.nodesWereRemoved=m,a.snapshotNodeList=i,a.wrappers.Node=w}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a,c){for(var d,e=a.firstElementChild;e;){if(e.matches(c))return e;if(d=b(e,c))return d;e=e.nextElementSibling}return null}function c(a,b){return a.matches(b)}function d(a,b,c){var d=a.localName;return d===b||d===c&&a.namespaceURI===l}function e(){return!0}function f(a,b){return a.localName===b}function g(a,b){return a.namespaceURI===b}function h(a,b,c){return a.namespaceURI===b&&a.localName===c}function i(a,b,c,d,e){for(var f=a.firstElementChild;f;)c(f,d,e)&&(b[b.length++]=f),i(f,b,c,d,e),f=f.nextElementSibling;return b}var j=a.wrappers.HTMLCollection,k=a.wrappers.NodeList,l="http://www.w3.org/1999/xhtml",m={querySelector:function(a){return b(this,a)},querySelectorAll:function(a){return i(this,new k,c,a)}},n={getElementsByTagName:function(a){var b=new j;return"*"===a?i(this,b,e):i(this,b,d,a,a.toLowerCase())},getElementsByClassName:function(a){return this.querySelectorAll("."+a)},getElementsByTagNameNS:function(a,b){var c=new j;if(""===a)a=null;else if("*"===a)return"*"===b?i(this,c,e):i(this,c,f,b);return"*"===b?i(this,c,g,a):i(this,c,h,a,b)}};a.GetElementsByInterface=n,a.SelectorsInterface=m}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){for(;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.nextSibling;return a}function c(a){for(;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.previousSibling;return a}var d=a.wrappers.NodeList,e={get firstElementChild(){return b(this.firstChild)},get lastElementChild(){return c(this.lastChild)},get childElementCount(){for(var a=0,b=this.firstElementChild;b;b=b.nextElementSibling)a++;return a},get children(){for(var a=new d,b=0,c=this.firstElementChild;c;c=c.nextElementSibling)a[b++]=c;return a.length=b,a},remove:function(){var a=this.parentNode;a&&a.removeChild(this)}},f={get nextElementSibling(){return b(this.nextSibling)},get previousElementSibling(){return c(this.previousSibling)}};a.ChildNodeInterface=f,a.ParentNodeInterface=e}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){d.call(this,a)}var c=a.ChildNodeInterface,d=a.wrappers.Node,e=a.enqueueMutation,f=a.mixin,g=a.registerWrapper,h=window.CharacterData;b.prototype=Object.create(d.prototype),f(b.prototype,{get textContent(){return this.data},set textContent(a){this.data=a},get data(){return this.impl.data},set data(a){var b=this.impl.data;e(this,"characterData",{oldValue:b}),this.impl.data=a}}),f(b.prototype,c),g(h,b,document.createTextNode("")),a.wrappers.CharacterData=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){return a>>>0}function c(a){d.call(this,a)}var d=a.wrappers.CharacterData,e=(a.enqueueMutation,a.mixin),f=a.registerWrapper,g=window.Text;c.prototype=Object.create(d.prototype),e(c.prototype,{splitText:function(a){a=b(a);var c=this.data;if(a>c.length)throw new Error("IndexSizeError");var d=c.slice(0,a),e=c.slice(a);this.data=d;var f=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling),f}}),f(g,c,document.createTextNode("")),a.wrappers.Text=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(b,c){var d=b.parentNode;if(d&&d.shadowRoot){var e=a.getRendererForHost(d);e.dependsOnAttribute(c)&&e.invalidate()}}function c(a,b,c){k(a,"attributes",{name:b,namespace:null,oldValue:c})}function d(a){h.call(this,a)}function e(a,c,d){var e=d||c;Object.defineProperty(a,c,{get:function(){return this.impl[c]},set:function(a){this.impl[c]=a,b(this,e)},configurable:!0,enumerable:!0})}var f=a.ChildNodeInterface,g=a.GetElementsByInterface,h=a.wrappers.Node,i=a.ParentNodeInterface,j=a.SelectorsInterface,k=(a.addWrapNodeListMethod,a.enqueueMutation),l=a.mixin,m=(a.oneOf,a.registerWrapper),n=a.wrappers,o=window.Element,p=["matches","mozMatchesSelector","msMatchesSelector","webkitMatchesSelector"].filter(function(a){return o.prototype[a]}),q=p[0],r=o.prototype[q];d.prototype=Object.create(h.prototype),l(d.prototype,{createShadowRoot:function(){var b=new n.ShadowRoot(this);this.impl.polymerShadowRoot_=b;var c=a.getRendererForHost(this);return c.invalidate(),b},get shadowRoot(){return this.impl.polymerShadowRoot_||null},setAttribute:function(a,d){var e=this.impl.getAttribute(a);this.impl.setAttribute(a,d),c(this,a,e),b(this,a)},removeAttribute:function(a){var d=this.impl.getAttribute(a);this.impl.removeAttribute(a),c(this,a,d),b(this,a)},matches:function(a){return r.call(this.impl,a)}}),p.forEach(function(a){"matches"!==a&&(d.prototype[a]=function(a){return this.matches(a)})}),o.prototype.webkitCreateShadowRoot&&(d.prototype.webkitCreateShadowRoot=d.prototype.createShadowRoot),e(d.prototype,"id"),e(d.prototype,"className","class"),l(d.prototype,f),l(d.prototype,g),l(d.prototype,i),l(d.prototype,j),m(o,d,document.createElementNS(null,"x")),a.matchesNames=p,a.wrappers.Element=d}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){switch(a){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function c(a){return a.replace(z,b)}function d(a){return a.replace(A,b)}function e(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function f(a,b){switch(a.nodeType){case Node.ELEMENT_NODE:for(var e,f=a.tagName.toLowerCase(),h="<"+f,i=a.attributes,j=0;e=i[j];j++)h+=" "+e.name+'="'+c(e.value)+'"';return h+=">",B[f]?h:h+g(a)+"</"+f+">";case Node.TEXT_NODE:var k=a.data;return b&&C[b.localName]?k:d(k);case Node.COMMENT_NODE:return"<!--"+a.data+"-->";default:throw console.error(a),new Error("not implemented")}}function g(a){a instanceof y.HTMLTemplateElement&&(a=a.content);for(var b="",c=a.firstChild;c;c=c.nextSibling)b+=f(c,a);return b}function h(a,b,c){var d=c||"div";a.textContent="";var e=w(a.ownerDocument.createElement(d));e.innerHTML=b;for(var f;f=e.firstChild;)a.appendChild(x(f))}function i(a){o.call(this,a)}function j(a,b){var c=w(a.cloneNode(!1));c.innerHTML=b;for(var d,e=w(document.createDocumentFragment());d=c.firstChild;)e.appendChild(d);return x(e)}function k(b){return function(){return a.renderAllPending(),this.impl[b]}}function l(a){p(i,a,k(a))}function m(b){Object.defineProperty(i.prototype,b,{get:k(b),set:function(c){a.renderAllPending(),this.impl[b]=c},configurable:!0,enumerable:!0})}function n(b){Object.defineProperty(i.prototype,b,{value:function(){return a.renderAllPending(),this.impl[b].apply(this.impl,arguments)},configurable:!0,enumerable:!0})}var o=a.wrappers.Element,p=a.defineGetter,q=a.enqueueMutation,r=a.mixin,s=a.nodesWereAdded,t=a.nodesWereRemoved,u=a.registerWrapper,v=a.snapshotNodeList,w=a.unwrap,x=a.wrap,y=a.wrappers,z=/[&\u00A0"]/g,A=/[&\u00A0<>]/g,B=e(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),C=e(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),D=/MSIE/.test(navigator.userAgent),E=window.HTMLElement,F=window.HTMLTemplateElement;i.prototype=Object.create(o.prototype),r(i.prototype,{get innerHTML(){return g(this)},set innerHTML(a){if(D&&C[this.localName])return void(this.textContent=a);var b=v(this.childNodes);this.invalidateShadowRenderer()?this instanceof y.HTMLTemplateElement?h(this.content,a):h(this,a,this.tagName):!F&&this instanceof y.HTMLTemplateElement?h(this.content,a):this.impl.innerHTML=a;var c=v(this.childNodes);q(this,"childList",{addedNodes:c,removedNodes:b}),t(b),s(c,this)},get outerHTML(){return f(this,this.parentNode)},set outerHTML(a){var b=this.parentNode;if(b){b.invalidateShadowRenderer();var c=j(b,a);b.replaceChild(c,this)}},insertAdjacentHTML:function(a,b){var c,d;switch(String(a).toLowerCase()){case"beforebegin":c=this.parentNode,d=this;break;case"afterend":c=this.parentNode,d=this.nextSibling;break;case"afterbegin":c=this,d=this.firstChild;break;case"beforeend":c=this,d=null;break;default:return}var e=j(c,b);c.insertBefore(e,d)}}),["clientHeight","clientLeft","clientTop","clientWidth","offsetHeight","offsetLeft","offsetTop","offsetWidth","scrollHeight","scrollWidth"].forEach(l),["scrollLeft","scrollTop"].forEach(m),["getBoundingClientRect","getClientRects","scrollIntoView"].forEach(n),u(E,i,document.createElement("b")),a.wrappers.HTMLElement=i,a.getInnerHTML=g,a.setInnerHTML=h}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.wrap,g=window.HTMLCanvasElement;b.prototype=Object.create(c.prototype),d(b.prototype,{getContext:function(){var a=this.impl.getContext.apply(this.impl,arguments);return a&&f(a)}}),e(g,b,document.createElement("canvas")),a.wrappers.HTMLCanvasElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=window.HTMLContentElement;b.prototype=Object.create(c.prototype),d(b.prototype,{get select(){return this.getAttribute("select")},set select(a){this.setAttribute("select",a)},setAttribute:function(a,b){c.prototype.setAttribute.call(this,a,b),"select"===String(a).toLowerCase()&&this.invalidateShadowRenderer(!0)}}),f&&e(f,b),a.wrappers.HTMLContentElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){d.call(this,a)}function c(a,b){if(!(this instanceof c))throw new TypeError("DOM object constructor cannot be called as a function.");var e=f(document.createElement("img"));d.call(this,e),g(e,this),void 0!==a&&(e.width=a),void 0!==b&&(e.height=b)}var d=a.wrappers.HTMLElement,e=a.registerWrapper,f=a.unwrap,g=a.rewrap,h=window.HTMLImageElement;b.prototype=Object.create(d.prototype),e(h,b,document.createElement("img")),c.prototype=b.prototype,a.wrappers.HTMLImageElement=b,a.wrappers.Image=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=window.HTMLShadowElement;b.prototype=Object.create(c.prototype),d(b.prototype,{}),f&&e(f,b),a.wrappers.HTMLShadowElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){if(!a.defaultView)return a;var b=k.get(a);if(!b){for(b=a.implementation.createHTMLDocument("");b.lastChild;)b.removeChild(b.lastChild);k.set(a,b)}return b}function c(a){for(var c,d=b(a.ownerDocument),e=h(d.createDocumentFragment());c=a.firstChild;)e.appendChild(c);return e}function d(a){if(e.call(this,a),!l){var b=c(a);j.set(this,i(b))}}var e=a.wrappers.HTMLElement,f=a.mixin,g=a.registerWrapper,h=a.unwrap,i=a.wrap,j=new WeakMap,k=new WeakMap,l=window.HTMLTemplateElement;d.prototype=Object.create(e.prototype),f(d.prototype,{get content(){return l?i(this.impl.content):j.get(this)}}),l&&g(l,d),a.wrappers.HTMLTemplateElement=d}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.registerWrapper,e=window.HTMLMediaElement;b.prototype=Object.create(c.prototype),d(e,b,document.createElement("audio")),a.wrappers.HTMLMediaElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){d.call(this,a)}function c(a){if(!(this instanceof c))throw new TypeError("DOM object constructor cannot be called as a function.");var b=f(document.createElement("audio"));d.call(this,b),g(b,this),b.setAttribute("preload","auto"),void 0!==a&&b.setAttribute("src",a)}var d=a.wrappers.HTMLMediaElement,e=a.registerWrapper,f=a.unwrap,g=a.rewrap,h=window.HTMLAudioElement;b.prototype=Object.create(d.prototype),e(h,b,document.createElement("audio")),c.prototype=b.prototype,a.wrappers.HTMLAudioElement=b,a.wrappers.Audio=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){return a.replace(/\s+/g," ").trim()}function c(a){e.call(this,a)}function d(a,b,c,f){if(!(this instanceof d))throw new TypeError("DOM object constructor cannot be called as a function.");var g=i(document.createElement("option"));e.call(this,g),h(g,this),void 0!==a&&(g.text=a),void 0!==b&&g.setAttribute("value",b),c===!0&&g.setAttribute("selected",""),g.selected=f===!0}var e=a.wrappers.HTMLElement,f=a.mixin,g=a.registerWrapper,h=a.rewrap,i=a.unwrap,j=a.wrap,k=window.HTMLOptionElement;c.prototype=Object.create(e.prototype),f(c.prototype,{get text(){return b(this.textContent)},set text(a){this.textContent=b(String(a))},get form(){return j(i(this).form)}}),g(k,c,document.createElement("option")),d.prototype=c.prototype,a.wrappers.HTMLOptionElement=c,a.wrappers.Option=d}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.unwrap,g=a.wrap,h=window.HTMLSelectElement;b.prototype=Object.create(c.prototype),d(b.prototype,{add:function(a,b){"object"==typeof b&&(b=f(b)),f(this).add(f(a),b)},remove:function(a){return void 0===a?void c.prototype.remove.call(this):("object"==typeof a&&(a=f(a)),void f(this).remove(a))},get form(){return g(f(this).form)}}),e(h,b,document.createElement("select")),a.wrappers.HTMLSelectElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.unwrap,g=a.wrap,h=a.wrapHTMLCollection,i=window.HTMLTableElement;b.prototype=Object.create(c.prototype),d(b.prototype,{get caption(){return g(f(this).caption)},createCaption:function(){return g(f(this).createCaption())},get tHead(){return g(f(this).tHead)},createTHead:function(){return g(f(this).createTHead())},createTFoot:function(){return g(f(this).createTFoot())},get tFoot(){return g(f(this).tFoot)},get tBodies(){return h(f(this).tBodies)},createTBody:function(){return g(f(this).createTBody())},get rows(){return h(f(this).rows)},insertRow:function(a){return g(f(this).insertRow(a))}}),e(i,b,document.createElement("table")),a.wrappers.HTMLTableElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.wrapHTMLCollection,g=a.unwrap,h=a.wrap,i=window.HTMLTableSectionElement;b.prototype=Object.create(c.prototype),d(b.prototype,{get rows(){return f(g(this).rows)},insertRow:function(a){return h(g(this).insertRow(a))}}),e(i,b,document.createElement("thead")),a.wrappers.HTMLTableSectionElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.wrapHTMLCollection,g=a.unwrap,h=a.wrap,i=window.HTMLTableRowElement;b.prototype=Object.create(c.prototype),d(b.prototype,{get cells(){return f(g(this).cells)},insertCell:function(a){return h(g(this).insertCell(a))}}),e(i,b,document.createElement("tr")),a.wrappers.HTMLTableRowElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){switch(a.localName){case"content":return new c(a);case"shadow":return new e(a);case"template":return new f(a)}d.call(this,a)}var c=a.wrappers.HTMLContentElement,d=a.wrappers.HTMLElement,e=a.wrappers.HTMLShadowElement,f=a.wrappers.HTMLTemplateElement,g=(a.mixin,a.registerWrapper),h=window.HTMLUnknownElement;b.prototype=Object.create(d.prototype),g(h,b),a.wrappers.HTMLUnknownElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";var b=a.registerObject,c="http://www.w3.org/2000/svg",d=document.createElementNS(c,"title"),e=b(d),f=Object.getPrototypeOf(e.prototype).constructor;a.wrappers.SVGElement=f}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){m.call(this,a)}var c=a.mixin,d=a.registerWrapper,e=a.unwrap,f=a.wrap,g=window.SVGUseElement,h="http://www.w3.org/2000/svg",i=f(document.createElementNS(h,"g")),j=document.createElementNS(h,"use"),k=i.constructor,l=Object.getPrototypeOf(k.prototype),m=l.constructor;b.prototype=Object.create(l),"instanceRoot"in j&&c(b.prototype,{get instanceRoot(){return f(e(this).instanceRoot)},get animatedInstanceRoot(){return f(e(this).animatedInstanceRoot)}}),d(g,b,j),a.wrappers.SVGUseElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.EventTarget,d=a.mixin,e=a.registerWrapper,f=a.wrap,g=window.SVGElementInstance;g&&(b.prototype=Object.create(c.prototype),d(b.prototype,{get correspondingElement(){return f(this.impl.correspondingElement)},get correspondingUseElement(){return f(this.impl.correspondingUseElement)},get parentNode(){return f(this.impl.parentNode)},get childNodes(){throw new Error("Not implemented")},get firstChild(){return f(this.impl.firstChild)},get lastChild(){return f(this.impl.lastChild)},get previousSibling(){return f(this.impl.previousSibling)},get nextSibling(){return f(this.impl.nextSibling)}}),e(g,b),a.wrappers.SVGElementInstance=b)}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){this.impl=a}var c=a.mixin,d=a.registerWrapper,e=a.unwrap,f=a.unwrapIfNeeded,g=a.wrap,h=window.CanvasRenderingContext2D;c(b.prototype,{get canvas(){return g(this.impl.canvas)},drawImage:function(){arguments[0]=f(arguments[0]),this.impl.drawImage.apply(this.impl,arguments)},createPattern:function(){return arguments[0]=e(arguments[0]),this.impl.createPattern.apply(this.impl,arguments)}}),d(h,b,document.createElement("canvas").getContext("2d")),a.wrappers.CanvasRenderingContext2D=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){this.impl=a}var c=a.mixin,d=a.registerWrapper,e=a.unwrapIfNeeded,f=a.wrap,g=window.WebGLRenderingContext;if(g){c(b.prototype,{get canvas(){return f(this.impl.canvas)},texImage2D:function(){arguments[5]=e(arguments[5]),this.impl.texImage2D.apply(this.impl,arguments)},texSubImage2D:function(){arguments[6]=e(arguments[6]),this.impl.texSubImage2D.apply(this.impl,arguments)}});var h=/WebKit/.test(navigator.userAgent)?{drawingBufferHeight:null,drawingBufferWidth:null}:{};d(g,b,h),a.wrappers.WebGLRenderingContext=b}}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){this.impl=a}var c=a.registerWrapper,d=a.unwrap,e=a.unwrapIfNeeded,f=a.wrap,g=window.Range;b.prototype={get startContainer(){return f(this.impl.startContainer)},get endContainer(){return f(this.impl.endContainer)},get commonAncestorContainer(){return f(this.impl.commonAncestorContainer)},setStart:function(a,b){this.impl.setStart(e(a),b)},setEnd:function(a,b){this.impl.setEnd(e(a),b)},setStartBefore:function(a){this.impl.setStartBefore(e(a))},setStartAfter:function(a){this.impl.setStartAfter(e(a))},setEndBefore:function(a){this.impl.setEndBefore(e(a))},setEndAfter:function(a){this.impl.setEndAfter(e(a))},selectNode:function(a){this.impl.selectNode(e(a))},selectNodeContents:function(a){this.impl.selectNodeContents(e(a))},compareBoundaryPoints:function(a,b){return this.impl.compareBoundaryPoints(a,d(b))},extractContents:function(){return f(this.impl.extractContents())
},cloneContents:function(){return f(this.impl.cloneContents())},insertNode:function(a){this.impl.insertNode(e(a))},surroundContents:function(a){this.impl.surroundContents(e(a))},cloneRange:function(){return f(this.impl.cloneRange())},isPointInRange:function(a,b){return this.impl.isPointInRange(e(a),b)},comparePoint:function(a,b){return this.impl.comparePoint(e(a),b)},intersectsNode:function(a){return this.impl.intersectsNode(e(a))},toString:function(){return this.impl.toString()}},g.prototype.createContextualFragment&&(b.prototype.createContextualFragment=function(a){return f(this.impl.createContextualFragment(a))}),c(window.Range,b,document.createRange()),a.wrappers.Range=b}(window.ShadowDOMPolyfill),function(a){"use strict";var b=a.GetElementsByInterface,c=a.ParentNodeInterface,d=a.SelectorsInterface,e=a.mixin,f=a.registerObject,g=f(document.createDocumentFragment());e(g.prototype,c),e(g.prototype,d),e(g.prototype,b);var h=f(document.createComment(""));a.wrappers.Comment=h,a.wrappers.DocumentFragment=g}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){var b=k(a.impl.ownerDocument.createDocumentFragment());c.call(this,b),i(b,this),this.treeScope_=new d(this,g(a));var e=a.shadowRoot;m.set(this,e),l.set(this,a)}var c=a.wrappers.DocumentFragment,d=a.TreeScope,e=a.elementFromPoint,f=a.getInnerHTML,g=a.getTreeScope,h=a.mixin,i=a.rewrap,j=a.setInnerHTML,k=a.unwrap,l=new WeakMap,m=new WeakMap,n=/[ \t\n\r\f]/;b.prototype=Object.create(c.prototype),h(b.prototype,{get innerHTML(){return f(this)},set innerHTML(a){j(this,a),this.invalidateShadowRenderer()},get olderShadowRoot(){return m.get(this)||null},get host(){return l.get(this)||null},invalidateShadowRenderer:function(){return l.get(this).invalidateShadowRenderer()},elementFromPoint:function(a,b){return e(this,this.ownerDocument,a,b)},getElementById:function(a){return n.test(a)?null:this.querySelector('[id="'+a+'"]')}}),a.wrappers.ShadowRoot=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){a.previousSibling_=a.previousSibling,a.nextSibling_=a.nextSibling,a.parentNode_=a.parentNode}function c(a,c,e){var f=G(a),g=G(c),h=e?G(e):null;if(d(c),b(c),e)a.firstChild===e&&(a.firstChild_=e),e.previousSibling_=e.previousSibling;else{a.lastChild_=a.lastChild,a.lastChild===a.firstChild&&(a.firstChild_=a.firstChild);var i=H(f.lastChild);i&&(i.nextSibling_=i.nextSibling)}f.insertBefore(g,h)}function d(a){var c=G(a),d=c.parentNode;if(d){var e=H(d);b(a),a.previousSibling&&(a.previousSibling.nextSibling_=a),a.nextSibling&&(a.nextSibling.previousSibling_=a),e.lastChild===a&&(e.lastChild_=a),e.firstChild===a&&(e.firstChild_=a),d.removeChild(c)}}function e(a,b){g(b).push(a),x(a,b);var c=J.get(a);c||J.set(a,c=[]),c.push(b)}function f(a){I.set(a,[])}function g(a){var b=I.get(a);return b||I.set(a,b=[]),b}function h(a){for(var b=[],c=0,d=a.firstChild;d;d=d.nextSibling)b[c++]=d;return b}function i(a,b,c){for(var d=a.firstChild;d;d=d.nextSibling)if(b(d)){if(c(d)===!1)return}else i(d,b,c)}function j(a,b){var c=b.getAttribute("select");if(!c)return!0;if(c=c.trim(),!c)return!0;if(!(a instanceof z))return!1;if("*"===c||c===a.localName)return!0;if(!M.test(c))return!1;if(":"===c[0]&&!N.test(c))return!1;try{return a.matches(c)}catch(d){return!1}}function k(){for(var a=0;a<P.length;a++){var b=P[a],c=b.parentRenderer;c&&c.dirty||b.render()}P=[]}function l(){y=null,k()}function m(a){var b=L.get(a);return b||(b=new q(a),L.set(a,b)),b}function n(a){var b=E(a).root;return b instanceof D?b:null}function o(a){return m(a.host)}function p(a){this.skip=!1,this.node=a,this.childNodes=[]}function q(a){this.host=a,this.dirty=!1,this.invalidateAttributes(),this.associateNode(a)}function r(a){return a instanceof A}function s(a){return a instanceof A}function t(a){return a instanceof B}function u(a){return a instanceof B}function v(a){return a.shadowRoot}function w(a){for(var b=[],c=a.shadowRoot;c;c=c.olderShadowRoot)b.push(c);return b}function x(a,b){K.set(a,b)}var y,z=a.wrappers.Element,A=a.wrappers.HTMLContentElement,B=a.wrappers.HTMLShadowElement,C=a.wrappers.Node,D=a.wrappers.ShadowRoot,E=(a.assert,a.getTreeScope),F=(a.mixin,a.oneOf),G=a.unwrap,H=a.wrap,I=new WeakMap,J=new WeakMap,K=new WeakMap,L=new WeakMap,M=/^[*.:#[a-zA-Z_|]/,N=new RegExp("^:("+["link","visited","target","enabled","disabled","checked","indeterminate","nth-child","nth-last-child","nth-of-type","nth-last-of-type","first-child","last-child","first-of-type","last-of-type","only-of-type"].join("|")+")"),O=F(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout"]),P=[],Q=new ArraySplice;Q.equals=function(a,b){return G(a.node)===b},p.prototype={append:function(a){var b=new p(a);return this.childNodes.push(b),b},sync:function(a){if(!this.skip){for(var b=this.node,e=this.childNodes,f=h(G(b)),g=a||new WeakMap,i=Q.calculateSplices(e,f),j=0,k=0,l=0,m=0;m<i.length;m++){for(var n=i[m];l<n.index;l++)k++,e[j++].sync(g);for(var o=n.removed.length,p=0;o>p;p++){var q=H(f[k++]);g.get(q)||d(q)}for(var r=n.addedCount,s=f[k]&&H(f[k]),p=0;r>p;p++){var t=e[j++],u=t.node;c(b,u,s),g.set(u,!0),t.sync(g)}l+=r}for(var m=l;m<e.length;m++)e[m].sync(g)}}},q.prototype={render:function(a){if(this.dirty){this.invalidateAttributes(),this.treeComposition();var b=this.host,c=b.shadowRoot;this.associateNode(b);for(var d=!e,e=a||new p(b),f=c.firstChild;f;f=f.nextSibling)this.renderNode(c,e,f,!1);d&&e.sync(),this.dirty=!1}},get parentRenderer(){return E(this.host).renderer},invalidate:function(){if(!this.dirty){if(this.dirty=!0,P.push(this),y)return;y=window[O](l,0)}},renderNode:function(a,b,c,d){if(v(c)){b=b.append(c);var e=m(c);e.dirty=!0,e.render(b)}else r(c)?this.renderInsertionPoint(a,b,c,d):t(c)?this.renderShadowInsertionPoint(a,b,c):this.renderAsAnyDomTree(a,b,c,d)},renderAsAnyDomTree:function(a,b,c,d){if(b=b.append(c),v(c)){var e=m(c);b.skip=!e.dirty,e.render(b)}else for(var f=c.firstChild;f;f=f.nextSibling)this.renderNode(a,b,f,d)},renderInsertionPoint:function(a,b,c,d){var e=g(c);if(e.length){this.associateNode(c);for(var f=0;f<e.length;f++){var h=e[f];r(h)&&d?this.renderInsertionPoint(a,b,h,d):this.renderAsAnyDomTree(a,b,h,d)}}else this.renderFallbackContent(a,b,c);this.associateNode(c.parentNode)},renderShadowInsertionPoint:function(a,b,c){var d=a.olderShadowRoot;if(d){x(d,c),this.associateNode(c.parentNode);for(var e=d.firstChild;e;e=e.nextSibling)this.renderNode(d,b,e,!0)}else this.renderFallbackContent(a,b,c)},renderFallbackContent:function(a,b,c){this.associateNode(c),this.associateNode(c.parentNode);for(var d=c.firstChild;d;d=d.nextSibling)this.renderAsAnyDomTree(a,b,d,!1)},invalidateAttributes:function(){this.attributes=Object.create(null)},updateDependentAttributes:function(a){if(a){var b=this.attributes;/\.\w+/.test(a)&&(b["class"]=!0),/#\w+/.test(a)&&(b.id=!0),a.replace(/\[\s*([^\s=\|~\]]+)/g,function(a,c){b[c]=!0})}},dependsOnAttribute:function(a){return this.attributes[a]},distribute:function(a,b){var c=this;i(a,s,function(a){f(a),c.updateDependentAttributes(a.getAttribute("select"));for(var d=0;d<b.length;d++){var g=b[d];void 0!==g&&j(g,a)&&(e(g,a),b[d]=void 0)}})},treeComposition:function(){for(var a=this.host,b=a.shadowRoot,c=[],d=a.firstChild;d;d=d.nextSibling)if(r(d)){var e=g(d);e&&e.length||(e=h(d)),c.push.apply(c,e)}else c.push(d);for(var f,j;b;){if(f=void 0,i(b,u,function(a){return f=a,!1}),j=f,this.distribute(b,c),j){var k=b.olderShadowRoot;if(k){b=k,x(b,j);continue}break}break}},associateNode:function(a){a.impl.polymerShadowRenderer_=this}},C.prototype.invalidateShadowRenderer=function(){var a=this.impl.polymerShadowRenderer_;return a?(a.invalidate(),!0):!1},A.prototype.getDistributedNodes=function(){return k(),g(this)},B.prototype.nodeIsInserted_=A.prototype.nodeIsInserted_=function(){this.invalidateShadowRenderer();var a,b=n(this);b&&(a=o(b)),this.impl.polymerShadowRenderer_=a,a&&a.invalidate()},a.eventParentsTable=J,a.getRendererForHost=m,a.getShadowTrees=w,a.insertionParentTable=K,a.renderAllPending=k,a.visual={insertBefore:c,remove:d}}(window.ShadowDOMPolyfill),function(a){"use strict";function b(b){if(window[b]){d(!a.wrappers[b]);var i=function(a){c.call(this,a)};i.prototype=Object.create(c.prototype),e(i.prototype,{get form(){return h(g(this).form)}}),f(window[b],i,document.createElement(b.slice(4,-7))),a.wrappers[b]=i}}var c=a.wrappers.HTMLElement,d=a.assert,e=a.mixin,f=a.registerWrapper,g=a.unwrap,h=a.wrap,i=["HTMLButtonElement","HTMLFieldSetElement","HTMLInputElement","HTMLKeygenElement","HTMLLabelElement","HTMLLegendElement","HTMLObjectElement","HTMLOutputElement","HTMLTextAreaElement"];i.forEach(b)}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){this.impl=a}{var c=a.registerWrapper,d=a.unwrap,e=a.unwrapIfNeeded,f=a.wrap;window.Selection}b.prototype={get anchorNode(){return f(this.impl.anchorNode)},get focusNode(){return f(this.impl.focusNode)},addRange:function(a){this.impl.addRange(d(a))},collapse:function(a,b){this.impl.collapse(e(a),b)},containsNode:function(a,b){return this.impl.containsNode(e(a),b)},extend:function(a,b){this.impl.extend(e(a),b)},getRangeAt:function(a){return f(this.impl.getRangeAt(a))},removeRange:function(a){this.impl.removeRange(d(a))},selectAllChildren:function(a){this.impl.selectAllChildren(e(a))},toString:function(){return this.impl.toString()}},c(window.Selection,b,window.getSelection()),a.wrappers.Selection=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){k.call(this,a),this.treeScope_=new p(this,null)}function c(a){var c=document[a];b.prototype[a]=function(){return A(c.apply(this.impl,arguments))}}function d(a,b){D.call(b.impl,z(a)),e(a,b)}function e(a,b){a.shadowRoot&&b.adoptNode(a.shadowRoot),a instanceof o&&f(a,b);for(var c=a.firstChild;c;c=c.nextSibling)e(c,b)}function f(a,b){var c=a.olderShadowRoot;c&&b.adoptNode(c)}function g(a){this.impl=a}function h(a,b){var c=document.implementation[b];a.prototype[b]=function(){return A(c.apply(this.impl,arguments))}}function i(a,b){var c=document.implementation[b];a.prototype[b]=function(){return c.apply(this.impl,arguments)}}var j=a.GetElementsByInterface,k=a.wrappers.Node,l=a.ParentNodeInterface,m=a.wrappers.Selection,n=a.SelectorsInterface,o=a.wrappers.ShadowRoot,p=a.TreeScope,q=a.cloneNode,r=a.defineWrapGetter,s=a.elementFromPoint,t=a.forwardMethodsToWrapper,u=a.matchesNames,v=a.mixin,w=a.registerWrapper,x=a.renderAllPending,y=a.rewrap,z=a.unwrap,A=a.wrap,B=a.wrapEventTargetMethods,C=(a.wrapNodeList,new WeakMap);b.prototype=Object.create(k.prototype),r(b,"documentElement"),r(b,"body"),r(b,"head"),["createComment","createDocumentFragment","createElement","createElementNS","createEvent","createEventNS","createRange","createTextNode","getElementById"].forEach(c);var D=document.adoptNode,E=document.getSelection;if(v(b.prototype,{adoptNode:function(a){return a.parentNode&&a.parentNode.removeChild(a),d(a,this),a},elementFromPoint:function(a,b){return s(this,this,a,b)},importNode:function(a,b){return q(a,b,this.impl)},getSelection:function(){return x(),new m(E.call(z(this)))}}),document.registerElement){var F=document.registerElement;b.prototype.registerElement=function(b,c){function d(a){return a?void(this.impl=a):f?document.createElement(f,b):document.createElement(b)}var e,f;if(void 0!==c&&(e=c.prototype,f=c.extends),e||(e=Object.create(HTMLElement.prototype)),a.nativePrototypeTable.get(e))throw new Error("NotSupportedError");for(var g,h=Object.getPrototypeOf(e),i=[];h&&!(g=a.nativePrototypeTable.get(h));)i.push(h),h=Object.getPrototypeOf(h);if(!g)throw new Error("NotSupportedError");for(var j=Object.create(g),k=i.length-1;k>=0;k--)j=Object.create(j);["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"].forEach(function(a){var b=e[a];b&&(j[a]=function(){A(this)instanceof d||y(this),b.apply(A(this),arguments)})});var l={prototype:j};f&&(l.extends=f),d.prototype=e,d.prototype.constructor=d,a.constructorTable.set(j,d),a.nativePrototypeTable.set(e,j);F.call(z(this),b,l);return d},t([window.HTMLDocument||window.Document],["registerElement"])}t([window.HTMLBodyElement,window.HTMLDocument||window.Document,window.HTMLHeadElement,window.HTMLHtmlElement],["appendChild","compareDocumentPosition","contains","getElementsByClassName","getElementsByTagName","getElementsByTagNameNS","insertBefore","querySelector","querySelectorAll","removeChild","replaceChild"].concat(u)),t([window.HTMLDocument||window.Document],["adoptNode","importNode","contains","createComment","createDocumentFragment","createElement","createElementNS","createEvent","createEventNS","createRange","createTextNode","elementFromPoint","getElementById","getSelection"]),v(b.prototype,j),v(b.prototype,l),v(b.prototype,n),v(b.prototype,{get implementation(){var a=C.get(this);return a?a:(a=new g(z(this).implementation),C.set(this,a),a)}}),w(window.Document,b,document.implementation.createHTMLDocument("")),window.HTMLDocument&&w(window.HTMLDocument,b),B([window.HTMLBodyElement,window.HTMLDocument||window.Document,window.HTMLHeadElement]),h(g,"createDocumentType"),h(g,"createDocument"),h(g,"createHTMLDocument"),i(g,"hasFeature"),w(window.DOMImplementation,g),t([window.DOMImplementation],["createDocumentType","createDocument","createHTMLDocument","hasFeature"]),a.adoptNodeNoRemove=d,a.wrappers.DOMImplementation=g,a.wrappers.Document=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.EventTarget,d=a.wrappers.Selection,e=a.mixin,f=a.registerWrapper,g=a.renderAllPending,h=a.unwrap,i=a.unwrapIfNeeded,j=a.wrap,k=window.Window,l=window.getComputedStyle,m=window.getSelection;b.prototype=Object.create(c.prototype),k.prototype.getComputedStyle=function(a,b){return j(this||window).getComputedStyle(i(a),b)},k.prototype.getSelection=function(){return j(this||window).getSelection()},delete window.getComputedStyle,delete window.getSelection,["addEventListener","removeEventListener","dispatchEvent"].forEach(function(a){k.prototype[a]=function(){var b=j(this||window);return b[a].apply(b,arguments)},delete window[a]}),e(b.prototype,{getComputedStyle:function(a,b){return g(),l.call(h(this),i(a),b)},getSelection:function(){return g(),new d(m.call(h(this)))}}),f(k,b),a.wrappers.Window=b}(window.ShadowDOMPolyfill),function(a){"use strict";var b=a.unwrap,c=window.DataTransfer||window.Clipboard,d=c.prototype.setDragImage;c.prototype.setDragImage=function(a,c,e){d.call(this,b(a),c,e)}}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){var b=c[a],d=window[b];if(d){var e=document.createElement(a),f=e.constructor;window[b]=f}}var c=(a.isWrapperFor,{a:"HTMLAnchorElement",area:"HTMLAreaElement",audio:"HTMLAudioElement",base:"HTMLBaseElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",col:"HTMLTableColElement",content:"HTMLContentElement",data:"HTMLDataElement",datalist:"HTMLDataListElement",del:"HTMLModElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",font:"HTMLFontElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",head:"HTMLHeadElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",marquee:"HTMLMarqueeElement",menu:"HTMLMenuElement",menuitem:"HTMLMenuItemElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",script:"HTMLScriptElement",select:"HTMLSelectElement",shadow:"HTMLShadowElement",source:"HTMLSourceElement",span:"HTMLSpanElement",style:"HTMLStyleElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",template:"HTMLTemplateElement",textarea:"HTMLTextAreaElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",ul:"HTMLUListElement",video:"HTMLVideoElement"});Object.keys(c).forEach(b),Object.getOwnPropertyNames(a.wrappers).forEach(function(b){window[b]=a.wrappers[b]})}(window.ShadowDOMPolyfill),function(){window.wrap=ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=ShadowDOMPolyfill.unwrapIfNeeded,Object.defineProperty(Element.prototype,"webkitShadowRoot",Object.getOwnPropertyDescriptor(Element.prototype,"shadowRoot"));var a=Element.prototype.createShadowRoot;Element.prototype.createShadowRoot=function(){var b=a.call(this);return CustomElements.watchShadow(this),b},Element.prototype.webkitCreateShadowRoot=Element.prototype.createShadowRoot}(),function(a){function b(a,b){var c="";return Array.prototype.forEach.call(a,function(a){c+=a.textContent+"\n\n"}),b||(c=c.replace(l,"")),c}function c(a){var b=document.createElement("style");return b.textContent=a,b}function d(a){var b=c(a);document.head.appendChild(b);var d=[];if(b.sheet)try{d=b.sheet.cssRules}catch(e){}else console.warn("sheet not found",b);return b.parentNode.removeChild(b),d}function e(){v.initialized=!0,document.body.appendChild(v);var a=v.contentDocument,b=a.createElement("base");b.href=document.baseURI,a.head.appendChild(b)}function f(a){v.initialized||e(),document.body.appendChild(v),a(v.contentDocument),document.body.removeChild(v)}function g(a,b){if(b){var e;if(a.match("@import")&&x){var g=c(a);f(function(a){a.head.appendChild(g.impl),e=g.sheet.cssRules,b(e)})}else e=d(a),b(e)}}function h(a){a&&j().appendChild(document.createTextNode(a))}function i(a,b){var d=c(a);d.setAttribute(b,""),d.setAttribute(z,""),document.head.appendChild(d)}function j(){return w||(w=document.createElement("style"),w.setAttribute(z,""),w[z]=!0),w}var k={strictStyling:!1,registry:{},shimStyling:function(a,c,d){var e=this.prepareRoot(a,c,d),f=this.isTypeExtension(d),g=this.makeScopeSelector(c,f),h=b(e,!0);h=this.scopeCssText(h,g),a&&(a.shimmedStyle=h),this.addCssToDocument(h,c)},shimStyle:function(a,b){return this.shimCssText(a.textContent,b)},shimCssText:function(a,b){return a=this.insertDirectives(a),this.scopeCssText(a,b)},makeScopeSelector:function(a,b){return a?b?"[is="+a+"]":a:""},isTypeExtension:function(a){return a&&a.indexOf("-")<0},prepareRoot:function(a,b,c){var d=this.registerRoot(a,b,c);return this.replaceTextInStyles(d.rootStyles,this.insertDirectives),this.removeStyles(a,d.rootStyles),this.strictStyling&&this.applyScopeToContent(a,b),d.scopeStyles},removeStyles:function(a,b){for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)c.parentNode.removeChild(c)},registerRoot:function(a,b,c){var d=this.registry[b]={root:a,name:b,extendsName:c},e=this.findStyles(a);d.rootStyles=e,d.scopeStyles=d.rootStyles;var f=this.registry[d.extendsName];return f&&(d.scopeStyles=f.scopeStyles.concat(d.scopeStyles)),d},findStyles:function(a){if(!a)return[];var b=a.querySelectorAll("style");return Array.prototype.filter.call(b,function(a){return!a.hasAttribute(A)})},applyScopeToContent:function(a,b){a&&(Array.prototype.forEach.call(a.querySelectorAll("*"),function(a){a.setAttribute(b,"")}),Array.prototype.forEach.call(a.querySelectorAll("template"),function(a){this.applyScopeToContent(a.content,b)},this))},insertDirectives:function(a){return a=this.insertPolyfillDirectivesInCssText(a),this.insertPolyfillRulesInCssText(a)},insertPolyfillDirectivesInCssText:function(a){return a=a.replace(m,function(a,b){return b.slice(0,-2)+"{"}),a.replace(n,function(a,b){return b+" {"})},insertPolyfillRulesInCssText:function(a){return a=a.replace(o,function(a,b){return b.slice(0,-1)}),a.replace(p,function(a,b,c,d){var e=a.replace(b,"").replace(c,"");return d+e})},scopeCssText:function(a,b){var c=this.extractUnscopedRulesFromCssText(a);if(a=this.insertPolyfillHostInCssText(a),a=this.convertColonHost(a),a=this.convertColonHostContext(a),a=this.convertCombinators(a),b){var a,d=this;g(a,function(c){a=d.scopeRules(c,b)})}return a=a+"\n"+c,a.trim()},extractUnscopedRulesFromCssText:function(a){for(var b,c="";b=q.exec(a);)c+=b[1].slice(0,-1)+"\n\n";for(;b=r.exec(a);)c+=b[0].replace(b[2],"").replace(b[1],b[3])+"\n\n";return c},convertColonHost:function(a){return this.convertColonRule(a,cssColonHostRe,this.colonHostPartReplacer)},convertColonHostContext:function(a){return this.convertColonRule(a,cssColonHostContextRe,this.colonHostContextPartReplacer)},convertColonRule:function(a,b,c){return a.replace(b,function(a,b,d,e){if(b=polyfillHostNoCombinator,d){for(var f,g=d.split(","),h=[],i=0,j=g.length;j>i&&(f=g[i]);i++)f=f.trim(),h.push(c(b,f,e));return h.join(",")}return b+e})},colonHostContextPartReplacer:function(a,b,c){return b.match(s)?this.colonHostPartReplacer(a,b,c):a+b+c+", "+b+" "+a+c},colonHostPartReplacer:function(a,b,c){return a+b.replace(s,"")+c},convertCombinators:function(a){for(var b=0;b<combinatorsRe.length;b++)a=a.replace(combinatorsRe[b]," ");return a},scopeRules:function(a,b){var c="";return a&&Array.prototype.forEach.call(a,function(a){a.selectorText&&a.style&&a.style.cssText?(c+=this.scopeSelector(a.selectorText,b,this.strictStyling)+" {\n	",c+=this.propertiesFromRule(a)+"\n}\n\n"):a.type===CSSRule.MEDIA_RULE?(c+="@media "+a.media.mediaText+" {\n",c+=this.scopeRules(a.cssRules,b),c+="\n}\n\n"):a.cssText&&(c+=a.cssText+"\n\n")},this),c},scopeSelector:function(a,b,c){var d=[],e=a.split(",");return e.forEach(function(a){a=a.trim(),this.selectorNeedsScoping(a,b)&&(a=c&&!a.match(polyfillHostNoCombinator)?this.applyStrictSelectorScope(a,b):this.applySelectorScope(a,b)),d.push(a)},this),d.join(", ")},selectorNeedsScoping:function(a,b){if(Array.isArray(b))return!0;var c=this.makeScopeMatcher(b);return!a.match(c)},makeScopeMatcher:function(a){return a=a.replace(/\[/g,"\\[").replace(/\[/g,"\\]"),new RegExp("^("+a+")"+selectorReSuffix,"m")},applySelectorScope:function(a,b){return Array.isArray(b)?this.applySelectorScopeList(a,b):this.applySimpleSelectorScope(a,b)},applySelectorScopeList:function(a,b){for(var c,d=[],e=0;c=b[e];e++)d.push(this.applySimpleSelectorScope(a,c));return d.join(", ")},applySimpleSelectorScope:function(a,b){return a.match(polyfillHostRe)?(a=a.replace(polyfillHostNoCombinator,b),a.replace(polyfillHostRe,b+" ")):b+" "+a},applyStrictSelectorScope:function(a,b){b=b.replace(/\[is=([^\]]*)\]/g,"$1");var c=[" ",">","+","~"],d=a,e="["+b+"]";return c.forEach(function(a){var b=d.split(a);d=b.map(function(a){var b=a.trim().replace(polyfillHostRe,"");return b&&c.indexOf(b)<0&&b.indexOf(e)<0&&(a=b.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3")),a}).join(a)}),d},insertPolyfillHostInCssText:function(a){return a.replace(colonHostContextRe,t).replace(colonHostRe,s)},propertiesFromRule:function(a){var b=a.style.cssText;a.style.content&&!a.style.content.match(/['"]+|attr/)&&(b=b.replace(/content:[^;]*;/g,"content: '"+a.style.content+"';"));var c=a.style;for(var d in c)"initial"===c[d]&&(b+=d+": initial; ");return b},replaceTextInStyles:function(a,b){a&&b&&(a instanceof Array||(a=[a]),Array.prototype.forEach.call(a,function(a){a.textContent=b.call(this,a.textContent)},this))},addCssToDocument:function(a,b){a.match("@import")?i(a,b):h(a)}},l=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,m=/\/\*\s*@polyfill ([^*]*\*+([^/*][^*]*\*+)*\/)([^{]*?){/gim,n=/polyfill-next-selector[^}]*content\:[\s]*'([^']*)'[^}]*}([^{]*?){/gim,o=/\/\*\s@polyfill-rule([^*]*\*+([^/*][^*]*\*+)*)\//gim,p=/(polyfill-rule)[^}]*(content\:[\s]*'([^']*)'[^;]*;)[^}]*}/gim,q=/\/\*\s@polyfill-unscoped-rule([^*]*\*+([^/*][^*]*\*+)*)\//gim,r=/(polyfill-unscoped-rule)[^}]*(content\:[\s]*'([^']*)'[^;]*;)[^}]*}/gim,s="-shadowcsshost",t="-shadowcsscontext",u=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)";cssColonHostRe=new RegExp("("+s+u,"gim"),cssColonHostContextRe=new RegExp("("+t+u,"gim"),selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",colonHostRe=/\:host/gim,colonHostContextRe=/\:host-context/gim,polyfillHostNoCombinator=s+"-no-combinator",polyfillHostRe=new RegExp(s,"gim"),polyfillHostContextRe=new RegExp(t,"gim"),combinatorsRe=[/\^\^/g,/\^/g,/\/shadow\//g,/\/shadow-deep\//g,/::shadow/g,/\/deep\//g];var v=document.createElement("iframe");v.style.display="none";var w,x=navigator.userAgent.match("Chrome"),y="shim-shadowdom",z="shim-shadowdom-css",A="no-shim";if(window.ShadowDOMPolyfill){h("style { display: none !important; }\n");var B=wrap(document),C=B.querySelector("head");C.insertBefore(j(),C.childNodes[0]),document.addEventListener("DOMContentLoaded",function(){var b=a.urlResolver;if(window.HTMLImports&&!HTMLImports.useNative){var c="link[rel=stylesheet]["+y+"]",d="style["+y+"]";HTMLImports.importer.documentPreloadSelectors+=","+c,HTMLImports.importer.importsPreloadSelectors+=","+c,HTMLImports.parser.documentSelectors=[HTMLImports.parser.documentSelectors,c,d].join(",");var e=HTMLImports.parser.parseGeneric;HTMLImports.parser.parseGeneric=function(a){if(!a[z]){var c=a.__importElement||a;if(!c.hasAttribute(y))return void e.call(this,a);a.__resource?(c=a.ownerDocument.createElement("style"),c.textContent=b.resolveCssText(a.__resource,a.href)):b.resolveStyle(c),c.textContent=k.shimStyle(c),c.removeAttribute(y,""),c.setAttribute(z,""),c[z]=!0,c.parentNode!==C&&(a.parentNode===C?C.replaceChild(c,a):C.appendChild(c)),c.__importParsed=!0,this.markParsingComplete(a)}};var f=HTMLImports.parser.hasResource;HTMLImports.parser.hasResource=function(a){return"link"===a.localName&&"stylesheet"===a.rel&&a.hasAttribute(y)?a.__resource:f.call(this,a)}}})}a.ShadowCSS=k}(window.Platform)):!function(){window.templateContent=window.templateContent||function(a){return a.content},window.wrap=window.unwrap=function(a){return a},addEventListener("DOMContentLoaded",function(){if(CustomElements.useNative===!1){var a=Element.prototype.createShadowRoot;Element.prototype.createShadowRoot=function(){var b=a.call(this);return CustomElements.watchShadow(this),b}}}),window.templateContent=function(a){if(window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(a),!a.content&&!a._content){for(var b=document.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a._content=b}return a.content||a._content}}(),function(a){"use strict";function b(a){return void 0!==m[a]}function c(){h.call(this),this._isInvalid=!0}function d(a){return""==a&&c.call(this),a.toLowerCase()}function e(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1==[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function f(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1==[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function g(a,g,h){function i(a){t.push(a)}var j=g||"scheme start",k=0,l="",r=!1,s=!1,t=[];a:for(;(a[k-1]!=o||0==k)&&!this._isInvalid;){var u=a[k];switch(j){case"scheme start":if(!u||!p.test(u)){if(g){i("Invalid scheme.");break a}l="",j="no scheme";continue}l+=u.toLowerCase(),j="scheme";break;case"scheme":if(u&&q.test(u))l+=u.toLowerCase();else{if(":"!=u){if(g){if(o==u)break a;i("Code point not allowed in scheme: "+u);break a}l="",k=0,j="no scheme";continue}if(this._scheme=l,l="",g)break a;b(this._scheme)&&(this._isRelative=!0),j="file"==this._scheme?"relative":this._isRelative&&h&&h._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==u?(query="?",j="query"):"#"==u?(this._fragment="#",j="fragment"):o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._schemeData+=e(u));break;case"no scheme":if(h&&b(h._scheme)){j="relative";continue}i("Missing scheme."),c.call(this);break;case"relative or authority":if("/"!=u||"/"!=a[k+1]){i("Expected /, got: "+u),j="relative";continue}j="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=h._scheme),o==u){this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query;break a}if("/"==u||"\\"==u)"\\"==u&&i("\\ is an invalid code point."),j="relative slash";else if("?"==u)this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query="?",j="query";else{if("#"!=u){var v=a[k+1],w=a[k+2];("file"!=this._scheme||!p.test(u)||":"!=v&&"|"!=v||o!=w&&"/"!=w&&"\\"!=w&&"?"!=w&&"#"!=w)&&(this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._path.pop()),j="relative path";continue}this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._fragment="#",j="fragment"}break;case"relative slash":if("/"!=u&&"\\"!=u){"file"!=this._scheme&&(this._host=h._host,this._port=h._port),j="relative path";continue}"\\"==u&&i("\\ is an invalid code point."),j="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=u){i("Expected '/', got: "+u),j="authority ignore slashes";continue}j="authority second slash";break;case"authority second slash":if(j="authority ignore slashes","/"!=u){i("Expected '/', got: "+u);continue}break;case"authority ignore slashes":if("/"!=u&&"\\"!=u){j="authority";continue}i("Expected authority, got: "+u);break;case"authority":if("@"==u){r&&(i("@ already seen."),l+="%40"),r=!0;for(var x=0;x<l.length;x++){var y=l[x];if("	"!=y&&"\n"!=y&&"\r"!=y)if(":"!=y||null!==this._password){var z=e(y);null!==this._password?this._password+=z:this._username+=z}else this._password="";else i("Invalid whitespace in authority.")}l=""}else{if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){k-=l.length,l="",j="host";continue}l+=u}break;case"file host":if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){2!=l.length||!p.test(l[0])||":"!=l[1]&&"|"!=l[1]?0==l.length?j="relative path start":(this._host=d.call(this,l),l="",j="relative path start"):j="relative path";continue}"	"==u||"\n"==u||"\r"==u?i("Invalid whitespace in file host."):l+=u;break;case"host":case"hostname":if(":"!=u||s){if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){if(this._host=d.call(this,l),l="",j="relative path start",g)break a;continue}"	"!=u&&"\n"!=u&&"\r"!=u?("["==u?s=!0:"]"==u&&(s=!1),l+=u):i("Invalid code point in host/hostname: "+u)}else if(this._host=d.call(this,l),l="",j="port","hostname"==g)break a;break;case"port":if(/[0-9]/.test(u))l+=u;else{if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u||g){if(""!=l){var A=parseInt(l,10);A!=m[this._scheme]&&(this._port=A+""),l=""}if(g)break a;j="relative path start";continue}"	"==u||"\n"==u||"\r"==u?i("Invalid code point in port: "+u):c.call(this)}break;case"relative path start":if("\\"==u&&i("'\\' not allowed in path."),j="relative path","/"!=u&&"\\"!=u)continue;break;case"relative path":if(o!=u&&"/"!=u&&"\\"!=u&&(g||"?"!=u&&"#"!=u))"	"!=u&&"\n"!=u&&"\r"!=u&&(l+=e(u));else{"\\"==u&&i("\\ not allowed in relative path.");var B;(B=n[l.toLowerCase()])&&(l=B),".."==l?(this._path.pop(),"/"!=u&&"\\"!=u&&this._path.push("")):"."==l&&"/"!=u&&"\\"!=u?this._path.push(""):"."!=l&&("file"==this._scheme&&0==this._path.length&&2==l.length&&p.test(l[0])&&"|"==l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"==u?(this._query="?",j="query"):"#"==u&&(this._fragment="#",j="fragment")}break;case"query":g||"#"!=u?o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._query+=f(u)):(this._fragment="#",j="fragment");break;case"fragment":o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._fragment+=u)}k++}}function h(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function i(a,b){void 0===b||b instanceof i||(b=new i(String(b))),this._url=a,h.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");g.call(this,c,null,b)}var j=!1;if(!a.forceJURL)try{var k=new URL("b","http://a");j="http://a/b"===k.href}catch(l){}if(!j){var m=Object.create(null);m.ftp=21,m.file=0,m.gopher=70,m.http=80,m.https=443,m.ws=80,m.wss=443;var n=Object.create(null);n["%2e"]=".",n[".%2e"]="..",n["%2e."]="..",n["%2e%2e"]="..";var o=void 0,p=/[a-zA-Z]/,q=/[a-zA-Z0-9\+\-\.]/;i.prototype={get href(){if(this._isInvalid)return this._url;
var a="";return(""!=this._username||null!=this._password)&&(a=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){h.call(this),g.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||g.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],g.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"==a[0]&&(a=a.slice(1)),g.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"==a[0]&&(a=a.slice(1)),g.call(this,a,"fragment"))}},a.URL=i}}(window),function(a){function b(a){for(var b=a||{},d=1;d<arguments.length;d++){var e=arguments[d];try{for(var f in e)c(f,e,b)}catch(g){}}return b}function c(a,b,c){var e=d(b,a);Object.defineProperty(c,a,e)}function d(a,b){if(a){var c=Object.getOwnPropertyDescriptor(a,b);return c||d(Object.getPrototypeOf(a),b)}}Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),b.apply(a,d)}}),a.mixin=b}(window.Platform),function(a){"use strict";function b(a,b,c){var d="string"==typeof a?document.createElement(a):a.cloneNode(!0);if(d.innerHTML=b,c)for(var e in c)d.setAttribute(e,c[e]);return d}var c=DOMTokenList.prototype.add,d=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var a=0;a<arguments.length;a++)c.call(this,arguments[a])},DOMTokenList.prototype.remove=function(){for(var a=0;a<arguments.length;a++)d.call(this,arguments[a])},DOMTokenList.prototype.toggle=function(a,b){1==arguments.length&&(b=!this.contains(a)),b?this.add(a):this.remove(a)},DOMTokenList.prototype.switch=function(a,b){a&&this.remove(a),b&&this.add(b)};var e=function(){return Array.prototype.slice.call(this)},f=window.NamedNodeMap||window.MozNamedAttrMap||{};if(NodeList.prototype.array=e,f.prototype.array=e,HTMLCollection.prototype.array=e,!window.performance){var g=Date.now();window.performance={now:function(){return Date.now()-g}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var a=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return a?function(b){return a(function(){b(performance.now())})}:function(a){return window.setTimeout(a,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(a){clearTimeout(a)}}());var h=[],i=function(){h.push(arguments)};window.Polymer=i,a.deliverDeclarations=function(){return a.deliverDeclarations=function(){throw"Possible attempt to load Polymer twice"},h},window.addEventListener("DOMContentLoaded",function(){window.Polymer===i&&(window.Polymer=function(){console.error('You tried to use polymer without loading it first. To load polymer, <link rel="import" href="components/polymer/polymer.html">')})}),a.createDOM=b}(window.Platform),window.templateContent=window.templateContent||function(a){return a.content},function(a){a=a||(window.Inspector={});var b;window.sinspect=function(a,d){b||(b=window.open("","ShadowDOM Inspector",null,!0),b.document.write(c),b.api={shadowize:shadowize}),f(a||wrap(document.body),d)};var c=["<!DOCTYPE html>","<html>","  <head>","    <title>ShadowDOM Inspector</title>","    <style>","      body {","      }","      pre {",'        font: 9pt "Courier New", monospace;',"        line-height: 1.5em;","      }","      tag {","        color: purple;","      }","      ul {","         margin: 0;","         padding: 0;","         list-style: none;","      }","      li {","         display: inline-block;","         background-color: #f1f1f1;","         padding: 4px 6px;","         border-radius: 4px;","         margin-right: 4px;","      }","    </style>","  </head>","  <body>",'    <ul id="crumbs">',"    </ul>",'    <div id="tree"></div>',"  </body>","</html>"].join("\n"),d=[],e=function(){var a=b.document,c=a.querySelector("#crumbs");c.textContent="";for(var e,g=0;e=d[g];g++){var h=a.createElement("a");h.href="#",h.textContent=e.localName,h.idx=g,h.onclick=function(a){for(var b;d.length>this.idx;)b=d.pop();f(b.shadow||b,b),a.preventDefault()},c.appendChild(a.createElement("li")).appendChild(h)}},f=function(a,c){var f=b.document;k=[];var g=c||a;d.push(g),e(),f.body.querySelector("#tree").innerHTML="<pre>"+j(a,a.childNodes)+"</pre>"},g=Array.prototype.forEach.call.bind(Array.prototype.forEach),h={STYLE:1,SCRIPT:1,"#comment":1,TEMPLATE:1},i=function(a){return h[a.nodeName]},j=function(a,b,c){if(i(a))return"";var d=c||"";if(a.localName||11==a.nodeType){var e=a.localName||"shadow-root",f=d+l(a);"content"==e&&(b=a.getDistributedNodes()),f+="<br/>";var h=d+"&nbsp;&nbsp;";g(b,function(a){f+=j(a,a.childNodes,h)}),f+=d,{br:1}[e]||(f+="<tag>&lt;/"+e+"&gt;</tag>",f+="<br/>")}else{var k=a.textContent.trim();f=k?d+'"'+k+'"<br/>':""}return f},k=[],l=function(a){var b="<tag>&lt;",c=a.localName||"shadow-root";return a.webkitShadowRoot||a.shadowRoot?(b+=' <button idx="'+k.length+'" onclick="api.shadowize.call(this)">'+c+"</button>",k.push(a)):b+=c||"shadow-root",a.attributes&&g(a.attributes,function(a){b+=" "+a.name+(a.value?'="'+a.value+'"':"")}),b+="&gt;</tag>"};shadowize=function(){var a=Number(this.attributes.idx.value),b=k[a];b?f(b.webkitShadowRoot||b.shadowRoot,b):(console.log("bad shadowize node"),console.dir(this))},a.output=j}(window.Inspector),function(){var a=document.createElement("style");a.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; } \n";var b=document.querySelector("head");b.insertBefore(a,b.firstChild)}(Platform),function(a){function b(a,b){return b=b||[],b.map||(b=[b]),a.apply(this,b.map(d))}function c(a,c,d){var e;switch(arguments.length){case 0:return;case 1:e=null;break;case 2:e=c.apply(this);break;default:e=b(d,c)}f[a]=e}function d(a){return f[a]}function e(a,c){HTMLImports.whenImportsReady(function(){b(c,a)})}var f={};a.marshal=d,a.module=c,a.using=e}(window),function(a){function b(a){f.textContent=d++,e.push(a)}function c(){for(;e.length;)e.shift()()}var d=0,e=[],f=document.createTextNode("");new(window.MutationObserver||JsMutationObserver)(c).observe(f,{characterData:!0}),a.endOfMicrotask=b}(Platform),function(a){function b(a,b,d){return a.replace(d,function(a,d,e,f){var g=e.replace(/["']/g,"");return g=c(b,g),d+"'"+g+"'"+f})}function c(a,b){var c=new URL(b,a);return d(c.href)}function d(a){var b=document.location,c=new URL(a,b);return c.host===b.host&&c.port===b.port&&c.protocol===b.protocol?e(b.pathname,c.pathname):a}function e(a,b){for(var c=a.split("/"),d=b.split("/");c.length&&c[0]===d[0];)c.shift(),d.shift();for(var e=0,f=c.length-1;f>e;e++)d.unshift("..");return d.join("/")}var f={resolveDom:function(a,b){b=b||a.ownerDocument.baseURI,this.resolveAttributes(a,b),this.resolveStyles(a,b);var c=a.querySelectorAll("template");if(c)for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)d.content&&this.resolveDom(d.content,b)},resolveTemplate:function(a){this.resolveDom(a.content,a.ownerDocument.baseURI)},resolveStyles:function(a,b){var c=a.querySelectorAll("style");if(c)for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)this.resolveStyle(d,b)},resolveStyle:function(a,b){b=b||a.ownerDocument.baseURI,a.textContent=this.resolveCssText(a.textContent,b)},resolveCssText:function(a,c){return a=b(a,c,g),b(a,c,h)},resolveAttributes:function(a,b){a.hasAttributes&&a.hasAttributes()&&this.resolveElementAttributes(a,b);var c=a&&a.querySelectorAll(j);if(c)for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)this.resolveElementAttributes(d,b)},resolveElementAttributes:function(a,d){d=d||a.ownerDocument.baseURI,i.forEach(function(e){var f,h=a.attributes[e],i=h&&h.value;i&&i.search(k)<0&&(f="style"===e?b(i,d,g):c(d,i),h.value=f)})}},g=/(url\()([^)]*)(\))/g,h=/(@import[\s]+(?!url\())([^;]*)(;)/g,i=["href","src","action","style"],j="["+i.join("],[")+"]",k="{{.*}}";a.urlResolver=f}(Platform),function(a){function b(a){u.push(a),t||(t=!0,q(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=p.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=p.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var p=new WeakMap,q=window.msSetImmediate;if(!q){var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),q=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=p.get(a);d||p.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=p.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=p.get(a);b||p.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=p.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){return!a.attributes||a.attributeFilter&&a.attributeFilter.length&&-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c)?void 0:a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){return a.characterData?a.characterDataOldValue?k(g):e:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,d=a.relatedNode,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",d);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(d,function(a){return a.childList?e:void 0})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g)}(this),window.HTMLImports=window.HTMLImports||{flags:{}},function(a){var b=(a.path,a.xhr),c=a.flags,d=function(a,b){this.cache={},this.onload=a,this.oncomplete=b,this.inflight=0,this.pending={}};d.prototype={addNodes:function(a){this.inflight+=a.length;for(var b,c=0,d=a.length;d>c&&(b=a[c]);c++)this.require(b);this.checkDone()},addNode:function(a){this.inflight++,this.require(a),this.checkDone()},require:function(a){var b=a.src||a.href;a.__nodeUrl=b,this.dedupe(b,a)||this.fetch(b,a)},dedupe:function(a,b){if(this.pending[a])return this.pending[a].push(b),!0;return this.cache[a]?(this.onload(a,b,this.cache[a]),this.tail(),!0):(this.pending[a]=[b],!1)},fetch:function(a,d){if(c.load&&console.log("fetch",a,d),a.match(/^data:/)){var e=a.split(","),f=e[0],g=e[1];g=f.indexOf(";base64")>-1?atob(g):decodeURIComponent(g),setTimeout(function(){this.receive(a,d,null,g)}.bind(this),0)}else{var h=function(b,c){this.receive(a,d,b,c)}.bind(this);b.load(a,h)}},receive:function(a,b,c,d){this.cache[a]=d;for(var e,f=this.pending[a],g=0,h=f.length;h>g&&(e=f[g]);g++)this.onload(a,e,d),this.tail();this.pending[a]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},b=b||{async:!0,ok:function(a){return a.status>=200&&a.status<300||304===a.status||0===a.status},load:function(c,d,e){var f=new XMLHttpRequest;return(a.flags.debug||a.flags.bust)&&(c+="?"+Math.random()),f.open("GET",c,b.async),f.addEventListener("readystatechange",function(){4===f.readyState&&d.call(e,!b.ok(f)&&f,f.response||f.responseText,c)}),f.send(),f},loadDocument:function(a,b,c){this.load(a,b,c).responseType="document"}},a.xhr=b,a.Loader=d}(window.HTMLImports),function(a){function b(a){return"link"===a.localName&&a.rel===g}function c(a){var b,c=d(a);try{b=btoa(c)}catch(e){b=btoa(unescape(encodeURIComponent(c))),console.warn("Script contained non-latin characters that were forced to latin. Some characters may be wrong.",a)}return"data:text/javascript;base64,"+b}function d(a){return a.textContent+e(a)}function e(a){var b=a.__nodeUrl;if(!b){b=a.ownerDocument.baseURI;var c="["+Math.floor(1e3*(Math.random()+1))+"]",d=a.textContent.match(/Polymer\(['"]([^'"]*)/);c=d&&d[1]||c,b+="/"+c+".js"}return"\n//# sourceURL="+b+"\n"}function f(a){var b=a.ownerDocument.createElement("style");return b.textContent=a.textContent,n.resolveUrlsInStyle(b),b}var g="import",h=a.flags,i=/Trident/.test(navigator.userAgent),j=window.ShadowDOMPolyfill?window.ShadowDOMPolyfill.wrapIfNeeded(document):document,k={documentSelectors:"link[rel="+g+"]",importsSelectors:["link[rel="+g+"]","link[rel=stylesheet]","style","script:not([type])",'script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},parseNext:function(){var a=this.nextToParse();a&&this.parse(a)},parse:function(a){if(this.isParsed(a))return void(h.parse&&console.log("[%s] is already parsed",a.localName));var b=this[this.map[a.localName]];b&&(this.markParsing(a),b.call(this,a))},markParsing:function(a){h.parse&&console.log("parsing",a),this.parsingElement=a},markParsingComplete:function(a){a.__importParsed=!0,a.__importElement&&(a.__importElement.__importParsed=!0),this.parsingElement=null,h.parse&&console.log("completed",a),this.parseNext()},parseImport:function(a){if(a.import.__importParsed=!0,HTMLImports.__importsParsingHook&&HTMLImports.__importsParsingHook(a),a.dispatchEvent(a.__resource?new CustomEvent("load",{bubbles:!1}):new CustomEvent("error",{bubbles:!1})),a.__pending)for(var b;a.__pending.length;)b=a.__pending.shift(),b&&b({target:a});this.markParsingComplete(a)},parseLink:function(a){b(a)?this.parseImport(a):(a.href=a.href,this.parseGeneric(a))},parseStyle:function(a){var b=a;a=f(a),a.__importElement=b,this.parseGeneric(a)},parseGeneric:function(a){this.trackElement(a),document.head.appendChild(a)},trackElement:function(a,b){var c=this,d=function(d){b&&b(d),c.markParsingComplete(a)};if(a.addEventListener("load",d),a.addEventListener("error",d),i&&"style"===a.localName){var e=!1;if(-1==a.textContent.indexOf("@import"))e=!0;else if(a.sheet){e=!0;for(var f,g=a.sheet.cssRules,h=g?g.length:0,j=0;h>j&&(f=g[j]);j++)f.type===CSSRule.IMPORT_RULE&&(e=e&&Boolean(f.styleSheet))}e&&a.dispatchEvent(new CustomEvent("load",{bubbles:!1}))}},parseScript:function(b){var d=document.createElement("script");d.__importElement=b,d.src=b.src?b.src:c(b),a.currentScript=b,this.trackElement(d,function(){d.parentNode.removeChild(d),a.currentScript=null}),document.head.appendChild(d)},nextToParse:function(){return!this.parsingElement&&this.nextToParseInDoc(j)},nextToParseInDoc:function(a,c){for(var d,e=a.querySelectorAll(this.parseSelectorsForNode(a)),f=0,g=e.length;g>f&&(d=e[f]);f++)if(!this.isParsed(d))return this.hasResource(d)?b(d)?this.nextToParseInDoc(d.import,d):d:void 0;return c},parseSelectorsForNode:function(a){var b=a.ownerDocument||a;return b===j?this.documentSelectors:this.importsSelectors},isParsed:function(a){return a.__importParsed},hasResource:function(a){return b(a)&&!a.import?!1:!0}},l=/(url\()([^)]*)(\))/g,m=/(@import[\s]+(?!url\())([^;]*)(;)/g,n={resolveUrlsInStyle:function(a){var b=a.ownerDocument,c=b.createElement("a");return a.textContent=this.resolveUrlsInCssText(a.textContent,c),a},resolveUrlsInCssText:function(a,b){var c=this.replaceUrls(a,b,l);return c=this.replaceUrls(c,b,m)},replaceUrls:function(a,b,c){return a.replace(c,function(a,c,d,e){var f=d.replace(/["']/g,"");return b.href=f,f=b.href,c+"'"+f+"'"+e})}};a.parser=k,a.path=n,a.isIE=i}(HTMLImports),function(a){function b(a){return c(a,m)}function c(a,b){return"link"===a.localName&&a.getAttribute("rel")===b}function d(a,b){var c=a;c instanceof Document||(c=document.implementation.createHTMLDocument(m)),c._URL=b;var d=c.createElement("base");d.setAttribute("href",b),c.baseURI||(c.baseURI=b);var e=c.createElement("meta");return e.setAttribute("charset","utf-8"),c.head.appendChild(e),c.head.appendChild(d),a instanceof Document||(c.body.innerHTML=a),window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(c),c}function e(a,b){b=b||n,g(function(){h(a,b)},b)}function f(a){return"complete"===a.readyState||a.readyState===u}function g(a,b){if(f(b))a&&a();else{var c=function(){("complete"===b.readyState||b.readyState===u)&&(b.removeEventListener(v,c),g(a,b))};b.addEventListener(v,c)}}function h(a,b){function c(){f==g&&requestAnimationFrame(a)}function d(){f++,c()}var e=b.querySelectorAll("link[rel=import]"),f=0,g=e.length;if(g)for(var h,j=0;g>j&&(h=e[j]);j++)i(h)?d.call(h):(h.addEventListener("load",d),h.addEventListener("error",d));else c()}function i(a){return k?a.import&&"loading"!==a.import.readyState:a.__importParsed}var j="import"in document.createElement("link"),k=j,l=a.flags,m="import",n=window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrapIfNeeded(document):document;if(k)var o={};else var p=(a.xhr,a.Loader),q=a.parser,o={documents:{},documentPreloadSelectors:"link[rel="+m+"]",importsPreloadSelectors:["link[rel="+m+"]"].join(","),loadNode:function(a){r.addNode(a)},loadSubtree:function(a){var b=this.marshalNodes(a);r.addNodes(b)},marshalNodes:function(a){return a.querySelectorAll(this.loadSelectorsForNode(a))},loadSelectorsForNode:function(a){var b=a.ownerDocument||a;return b===n?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(a,c,e){if(l.load&&console.log("loaded",a,c),c.__resource=e,b(c)){var f=this.documents[a];f||(f=d(e,a),f.__importLink=c,this.bootDocument(f),this.documents[a]=f),c.import=f}q.parseNext()},bootDocument:function(a){this.loadSubtree(a),this.observe(a),q.parseNext()},loadedAll:function(){q.parseNext()}},r=new p(o.loaded.bind(o),o.loadedAll.bind(o));var s={get:function(){return HTMLImports.currentScript||document.currentScript},configurable:!0};if(Object.defineProperty(document,"_currentScript",s),Object.defineProperty(n,"_currentScript",s),!document.baseURI){var t={get:function(){return window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",t),Object.defineProperty(n,"baseURI",t)}var u=HTMLImports.isIE?"complete":"interactive",v="readystatechange";a.hasNative=j,a.useNative=k,a.importer=o,a.whenImportsReady=e,a.IMPORT_LINK_TYPE=m,a.isImportLoaded=i,a.importLoader=r}(window.HTMLImports),function(a){function b(a){for(var b,d=0,e=a.length;e>d&&(b=a[d]);d++)"childList"===b.type&&b.addedNodes.length&&c(b.addedNodes)}function c(a){for(var b,e=0,g=a.length;g>e&&(b=a[e]);e++)d(b)&&f.loadNode(b),b.children&&b.children.length&&c(b.children)}function d(a){return 1===a.nodeType&&g.call(a,f.loadSelectorsForNode(a))}function e(a){h.observe(a,{childList:!0,subtree:!0})}var f=(a.IMPORT_LINK_TYPE,a.importer),g=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,h=new MutationObserver(b);a.observe=e,f.observe=e}(HTMLImports),function(){function a(){HTMLImports.importer.bootDocument(b)}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(a,b){var c=document.createEvent("HTMLEvents");return c.initEvent(a,b.bubbles===!1?!1:!0,b.cancelable===!1?!1:!0,b.detail),c});var b=window.ShadowDOMPolyfill?window.ShadowDOMPolyfill.wrapIfNeeded(document):document;HTMLImports.whenImportsReady(function(){HTMLImports.ready=!0,HTMLImports.readyTime=(new Date).getTime(),b.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))}),HTMLImports.useNative||("complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?a():document.addEventListener("DOMContentLoaded",a))}(),window.CustomElements=window.CustomElements||{flags:{}},function(a){function b(a,c,d){var e=a.firstElementChild;if(!e)for(e=a.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;for(;e;)c(e,d)!==!0&&b(e,c,d),e=e.nextElementSibling;return null}function c(a,b){for(var c=a.shadowRoot;c;)d(c,b),c=c.olderShadowRoot}function d(a,d){b(a,function(a){return d(a)?!0:void c(a,d)}),c(a,d)}function e(a){return h(a)?(i(a),!0):void l(a)}function f(a){d(a,function(a){return e(a)?!0:void 0})}function g(a){return e(a)||f(a)}function h(b){if(!b.__upgraded__&&b.nodeType===Node.ELEMENT_NODE){var c=b.getAttribute("is")||b.localName,d=a.registry[c];if(d)return A.dom&&console.group("upgrade:",b.localName),a.upgrade(b),A.dom&&console.groupEnd(),!0}}function i(a){l(a),r(a)&&d(a,function(a){l(a)})}function j(a){if(E.push(a),!D){D=!0;var b=window.Platform&&window.Platform.endOfMicrotask||setTimeout;b(k)}}function k(){D=!1;for(var a,b=E,c=0,d=b.length;d>c&&(a=b[c]);c++)a();E=[]}function l(a){C?j(function(){m(a)}):m(a)}function m(a){(a.attachedCallback||a.detachedCallback||a.__upgraded__&&A.dom)&&(A.dom&&console.group("inserted:",a.localName),r(a)&&(a.__inserted=(a.__inserted||0)+1,a.__inserted<1&&(a.__inserted=1),a.__inserted>1?A.dom&&console.warn("inserted:",a.localName,"insert/remove count:",a.__inserted):a.attachedCallback&&(A.dom&&console.log("inserted:",a.localName),a.attachedCallback())),A.dom&&console.groupEnd())}function n(a){o(a),d(a,function(a){o(a)})}function o(a){C?j(function(){p(a)}):p(a)}function p(a){(a.attachedCallback||a.detachedCallback||a.__upgraded__&&A.dom)&&(A.dom&&console.group("removed:",a.localName),r(a)||(a.__inserted=(a.__inserted||0)-1,a.__inserted>0&&(a.__inserted=0),a.__inserted<0?A.dom&&console.warn("removed:",a.localName,"insert/remove count:",a.__inserted):a.detachedCallback&&a.detachedCallback()),A.dom&&console.groupEnd())}function q(a){return window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrapIfNeeded(a):a}function r(a){for(var b=a,c=q(document);b;){if(b==c)return!0;b=b.parentNode||b.host}}function s(a){if(a.shadowRoot&&!a.shadowRoot.__watched){A.dom&&console.log("watching shadow-root for: ",a.localName);for(var b=a.shadowRoot;b;)t(b),b=b.olderShadowRoot}}function t(a){a.__watched||(w(a),a.__watched=!0)}function u(a){if(A.dom){var b=a[0];if(b&&"childList"===b.type&&b.addedNodes&&b.addedNodes){for(var c=b.addedNodes[0];c&&c!==document&&!c.host;)c=c.parentNode;var d=c&&(c.URL||c._URL||c.host&&c.host.localName)||"";d=d.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",a.length,d||"")}a.forEach(function(a){"childList"===a.type&&(G(a.addedNodes,function(a){a.localName&&g(a)}),G(a.removedNodes,function(a){a.localName&&n(a)}))}),A.dom&&console.groupEnd()}function v(){u(F.takeRecords()),k()}function w(a){F.observe(a,{childList:!0,subtree:!0})}function x(a){w(a)}function y(a){A.dom&&console.group("upgradeDocument: ",a.baseURI.split("/").pop()),g(a),A.dom&&console.groupEnd()}function z(a){a=q(a);for(var b,c=a.querySelectorAll("link[rel="+B+"]"),d=0,e=c.length;e>d&&(b=c[d]);d++)b.import&&b.import.__parsed&&z(b.import);y(a)}var A=window.logFlags||{},B=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none",C=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;a.hasPolyfillMutations=C;var D=!1,E=[],F=new MutationObserver(u),G=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.IMPORT_LINK_TYPE=B,a.watchShadow=s,a.upgradeDocumentTree=z,a.upgradeAll=g,a.upgradeSubtree=f,a.insertedNode=i,a.observeDocument=x,a.upgradeDocument=y,a.takeRecords=v}(window.CustomElements),function(a){function b(b,g){var h=g||{};if(!b)throw new Error("document.registerElement: first argument `name` must not be empty");if(b.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(b)+"'.");if(c(b))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(b)+"'. The type name is invalid.");if(n(b))throw new Error("DuplicateDefinitionError: a type with name '"+String(b)+"' is already registered");if(!h.prototype)throw new Error("Options missing required prototype property");return h.__name=b.toLowerCase(),h.lifecycle=h.lifecycle||{},h.ancestry=d(h.extends),e(h),f(h),l(h.prototype),o(h.__name,h),h.ctor=p(h),h.ctor.prototype=h.prototype,h.prototype.constructor=h.ctor,a.ready&&a.upgradeDocumentTree(document),h.ctor}function c(a){for(var b=0;b<y.length;b++)if(a===y[b])return!0}function d(a){var b=n(a);return b?d(b.extends).concat([b]):[]}function e(a){for(var b,c=a.extends,d=0;b=a.ancestry[d];d++)c=b.is&&b.tag;a.tag=c||a.__name,c&&(a.is=a.__name)}function f(a){if(!Object.__proto__){var b=HTMLElement.prototype;if(a.is){var c=document.createElement(a.tag);b=Object.getPrototypeOf(c)}for(var d,e=a.prototype;e&&e!==b;){var d=Object.getPrototypeOf(e);e.__proto__=d,e=d}}a.native=b}function g(a){return h(B(a.tag),a)}function h(b,c){return c.is&&b.setAttribute("is",c.is),b.removeAttribute("unresolved"),i(b,c),b.__upgraded__=!0,k(b),a.insertedNode(b),a.upgradeSubtree(b),b}function i(a,b){Object.__proto__?a.__proto__=b.prototype:(j(a,b.prototype,b.native),a.__proto__=b.prototype)}function j(a,b,c){for(var d={},e=b;e!==c&&e!==HTMLElement.prototype;){for(var f,g=Object.getOwnPropertyNames(e),h=0;f=g[h];h++)d[f]||(Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(e,f)),d[f]=1);e=Object.getPrototypeOf(e)}}function k(a){a.createdCallback&&a.createdCallback()}function l(a){if(!a.setAttribute._polyfilled){var b=a.setAttribute;a.setAttribute=function(a,c){m.call(this,a,c,b)};var c=a.removeAttribute;a.removeAttribute=function(a){m.call(this,a,null,c)},a.setAttribute._polyfilled=!0}}function m(a,b,c){var d=this.getAttribute(a);c.apply(this,arguments);var e=this.getAttribute(a);this.attributeChangedCallback&&e!==d&&this.attributeChangedCallback(a,d,e)}function n(a){return a?z[a.toLowerCase()]:void 0}function o(a,b){z[a]=b}function p(a){return function(){return g(a)}}function q(a,b,c){return a===A?r(b,c):C(a,b)}function r(a,b){var c=n(b||a);if(c){if(a==c.tag&&b==c.is)return new c.ctor;if(!b&&!c.is)return new c.ctor}if(b){var d=r(a);return d.setAttribute("is",b),d}var d=B(a);return a.indexOf("-")>=0&&i(d,HTMLElement),d}function s(a){if(!a.__upgraded__&&a.nodeType===Node.ELEMENT_NODE){var b=a.getAttribute("is"),c=n(b||a.localName);if(c){if(b&&c.tag==a.localName)return h(a,c);if(!b&&!c.extends)return h(a,c)}}}function t(b){var c=D.call(this,b);return a.upgradeAll(c),c}a||(a=window.CustomElements={flags:{}});var u=a.flags,v=Boolean(document.registerElement),w=!u.register&&v&&!window.ShadowDOMPolyfill;if(w){var x=function(){};a.registry={},a.upgradeElement=x,a.watchShadow=x,a.upgrade=x,a.upgradeAll=x,a.upgradeSubtree=x,a.observeDocument=x,a.upgradeDocument=x,a.upgradeDocumentTree=x,a.takeRecords=x,a.reservedTagList=[]}else{var y=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],z={},A="http://www.w3.org/1999/xhtml",B=document.createElement.bind(document),C=document.createElementNS.bind(document),D=Node.prototype.cloneNode;document.registerElement=b,document.createElement=r,document.createElementNS=q,Node.prototype.cloneNode=t,a.registry=z,a.upgrade=s}var E;E=Object.__proto__||w?function(a,b){return a instanceof b}:function(a,b){for(var c=a;c;){if(c===b.prototype)return!0;c=c.__proto__}return!1},a.instanceof=E,a.reservedTagList=y,document.register=document.registerElement,a.hasNative=v,a.useNative=w}(window.CustomElements),function(a){function b(a){return"link"===a.localName&&a.getAttribute("rel")===c}var c=a.IMPORT_LINK_TYPE,d={selectors:["link[rel="+c+"]"],map:{link:"parseLink"},parse:function(a){if(!a.__parsed){a.__parsed=!0;var b=a.querySelectorAll(d.selectors);e(b,function(a){d[d.map[a.localName]](a)}),CustomElements.upgradeDocument(a),CustomElements.observeDocument(a)}},parseLink:function(a){b(a)&&this.parseImport(a)},parseImport:function(a){a.import&&d.parse(a.import)}},e=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.parser=d,a.IMPORT_LINK_TYPE=c}(window.CustomElements),function(a){function b(){CustomElements.parser.parse(document),CustomElements.upgradeDocument(document);var a=window.Platform&&Platform.endOfMicrotask?Platform.endOfMicrotask:setTimeout;a(function(){CustomElements.ready=!0,CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0})),window.HTMLImports&&(HTMLImports.__importsParsingHook=function(a){CustomElements.parser.parse(a.import)})})}if("function"!=typeof window.CustomEvent&&(window.CustomEvent=function(a){var b=document.createEvent("HTMLEvents");return b.initEvent(a,!0,!0),b}),"complete"===document.readyState||a.flags.eager)b();
else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var c=window.HTMLImports&&!HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(c,b)}else b()}(window.CustomElements),function(){if(window.ShadowDOMPolyfill){var a=["upgradeAll","upgradeSubtree","observeDocument","upgradeDocument"],b={};a.forEach(function(a){b[a]=CustomElements[a]}),a.forEach(function(a){CustomElements[a]=function(c){return b[a](wrap(c))}})}}(),function(a){function b(a){this.regex=a}var c=a.endOfMicrotask;b.prototype={extractUrls:function(a,b){for(var c,d,e=[];c=this.regex.exec(a);)d=new URL(c[1],b),e.push({matched:c[0],url:d.href});return e},process:function(a,b,c){var d=this.extractUrls(a,b);this.fetch(d,{},c)},fetch:function(a,b,d){var e=a.length;if(!e)return d(b);for(var f,g,h,i=function(){0===--e&&d(b)},j=function(a,c){var d=c.match,e=d.url;if(a)return b[e]="",i();var f=c.response||c.responseText;b[e]=f,this.fetch(this.extractUrls(f,e),b,i)},k=0;e>k;k++)f=a[k],h=f.url,b[h]?c(i):(g=this.xhr(h,j,this),g.match=f,b[h]=g)},xhr:function(a,b,c){var d=new XMLHttpRequest;return d.open("GET",a,!0),d.send(),d.onload=function(){b.call(c,null,d)},d.onerror=function(){b.call(c,null,d)},d}},a.Loader=b}(window.Platform),function(a){function b(){this.loader=new d(this.regex)}var c=a.urlResolver,d=a.Loader;b.prototype={regex:/@import\s+(?:url)?["'\(]*([^'"\)]*)['"\)]*;/g,resolve:function(a,b,c){var d=function(d){c(this.flatten(a,b,d))}.bind(this);this.loader.process(a,b,d)},resolveNode:function(a,b){var c=a.textContent,d=a.ownerDocument.baseURI,e=function(c){a.textContent=c,b(a)};this.resolve(c,d,e)},flatten:function(a,b,d){for(var e,f,g,h=this.loader.extractUrls(a,b),i=0;i<h.length;i++)e=h[i],f=e.url,g=c.resolveCssText(d[f],f),g=this.flatten(g,b,d),a=a.replace(e.matched,g);return a},loadStyles:function(a,b){function c(){e++,e===f&&b&&b()}for(var d,e=0,f=a.length,g=0;f>g&&(d=a[g]);g++)this.resolveNode(d,c)}};var e=new b;a.styleResolver=e}(window.Platform),function(){"use strict";function a(a){for(;a.parentNode;)a=a.parentNode;return"function"==typeof a.getElementById?a:null}function b(a,b,c){var d=a.bindings_;return d||(d=a.bindings_={}),d[b]&&c[b].close(),d[b]=c}function c(a,b,c){return c}function d(a){return null==a?"":a}function e(a,b){a.data=d(b)}function f(a){return function(b){return e(a,b)}}function g(a,b,c,e){return c?void(e?a.setAttribute(b,""):a.removeAttribute(b)):void a.setAttribute(b,d(e))}function h(a,b,c){return function(d){g(a,b,c,d)}}function i(a){switch(a.type){case"checkbox":return u;case"radio":case"select-multiple":case"select-one":return"change";case"range":if(/Trident|MSIE/.test(navigator.userAgent))return"change";default:return"input"}}function j(a,b,c,e){a[b]=(e||d)(c)}function k(a,b,c){return function(d){return j(a,b,d,c)}}function l(){}function m(a,b,c,d){function e(){c.setValue(a[b]),c.discardChanges(),(d||l)(a),Platform.performMicrotaskCheckpoint()}var f=i(a);return a.addEventListener(f,e),{close:function(){a.removeEventListener(f,e),c.close()},observable_:c}}function n(a){return Boolean(a)}function o(b){if(b.form)return s(b.form.elements,function(a){return a!=b&&"INPUT"==a.tagName&&"radio"==a.type&&a.name==b.name});var c=a(b);if(!c)return[];var d=c.querySelectorAll('input[type="radio"][name="'+b.name+'"]');return s(d,function(a){return a!=b&&!a.form})}function p(a){"INPUT"===a.tagName&&"radio"===a.type&&o(a).forEach(function(a){var b=a.bindings_.checked;b&&b.observable_.setValue(!1)})}function q(a,b){var c,e,f,g=a.parentNode;g instanceof HTMLSelectElement&&g.bindings_&&g.bindings_.value&&(c=g,e=c.bindings_.value,f=c.value),a.value=d(b),c&&c.value!=f&&(e.observable_.setValue(c.value),e.observable_.discardChanges(),Platform.performMicrotaskCheckpoint())}function r(a){return function(b){q(a,b)}}var s=Array.prototype.filter.call.bind(Array.prototype.filter);Node.prototype.bind=function(a,b){console.error("Unhandled binding to Node: ",this,a,b)},Node.prototype.bindFinished=function(){};var t=c;Object.defineProperty(Platform,"enableBindingsReflection",{get:function(){return t===b},set:function(a){return t=a?b:c,a},configurable:!0}),Text.prototype.bind=function(a,b,c){if("textContent"!==a)return Node.prototype.bind.call(this,a,b,c);if(c)return e(this,b);var d=b;return e(this,d.open(f(this))),t(this,a,d)},Element.prototype.bind=function(a,b,c){var d="?"==a[a.length-1];if(d&&(this.removeAttribute(a),a=a.slice(0,-1)),c)return g(this,a,d,b);var e=b;return g(this,a,d,e.open(h(this,a,d))),t(this,a,e)};var u;!function(){var a=document.createElement("div"),b=a.appendChild(document.createElement("input"));b.setAttribute("type","checkbox");var c,d=0;b.addEventListener("click",function(){d++,c=c||"click"}),b.addEventListener("change",function(){d++,c=c||"change"});var e=document.createEvent("MouseEvent");e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(e),u=1==d?"change":c}(),HTMLInputElement.prototype.bind=function(a,c,e){if("value"!==a&&"checked"!==a)return HTMLElement.prototype.bind.call(this,a,c,e);this.removeAttribute(a);var f="checked"==a?n:d,g="checked"==a?p:l;if(e)return j(this,a,c,f);var h=c,i=m(this,a,h,g);return j(this,a,h.open(k(this,a,f)),f),b(this,a,i)},HTMLTextAreaElement.prototype.bind=function(a,b,c){if("value"!==a)return HTMLElement.prototype.bind.call(this,a,b,c);if(this.removeAttribute("value"),c)return j(this,"value",b);var e=b,f=m(this,"value",e);return j(this,"value",e.open(k(this,"value",d))),t(this,a,f)},HTMLOptionElement.prototype.bind=function(a,b,c){if("value"!==a)return HTMLElement.prototype.bind.call(this,a,b,c);if(this.removeAttribute("value"),c)return q(this,b);var d=b,e=m(this,"value",d);return q(this,d.open(r(this))),t(this,a,e)},HTMLSelectElement.prototype.bind=function(a,c,d){if("selectedindex"===a&&(a="selectedIndex"),"selectedIndex"!==a&&"value"!==a)return HTMLElement.prototype.bind.call(this,a,c,d);if(this.removeAttribute(a),d)return j(this,a,c);var e=c,f=m(this,a,e);return j(this,a,e.open(k(this,a))),b(this,a,f)}}(this),function(a){"use strict";function b(a){if(!a)throw new Error("Assertion failed")}function c(a){for(var b;b=a.parentNode;)a=b;return a}function d(a,b){if(b){for(var d,e="#"+b;!d&&(a=c(a),a.protoContent_?d=a.protoContent_.querySelector(e):a.getElementById&&(d=a.getElementById(b)),!d&&a.templateCreator_);)a=a.templateCreator_;return d}}function e(a){return"template"==a.tagName&&"http://www.w3.org/2000/svg"==a.namespaceURI}function f(a){return"TEMPLATE"==a.tagName&&"http://www.w3.org/1999/xhtml"==a.namespaceURI}function g(a){return Boolean(L[a.tagName]&&a.hasAttribute("template"))}function h(a){return void 0===a.isTemplate_&&(a.isTemplate_="TEMPLATE"==a.tagName||g(a)),a.isTemplate_}function i(a,b){var c=a.querySelectorAll(N);h(a)&&b(a),G(c,b)}function j(a){function b(a){HTMLTemplateElement.decorate(a)||j(a.content)}i(a,b)}function k(a,b){Object.getOwnPropertyNames(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))})}function l(a){var b=a.ownerDocument;if(!b.defaultView)return b;var c=b.templateContentsOwner_;if(!c){for(c=b.implementation.createHTMLDocument("");c.lastChild;)c.removeChild(c.lastChild);b.templateContentsOwner_=c}return c}function m(a){if(!a.stagingDocument_){var b=a.ownerDocument;if(!b.stagingDocument_){b.stagingDocument_=b.implementation.createHTMLDocument(""),b.stagingDocument_.isStagingDocument=!0;var c=b.stagingDocument_.createElement("base");c.href=document.baseURI,b.stagingDocument_.head.appendChild(c),b.stagingDocument_.stagingDocument_=b.stagingDocument_}a.stagingDocument_=b.stagingDocument_}return a.stagingDocument_}function n(a){var b=a.ownerDocument.createElement("template");a.parentNode.insertBefore(b,a);for(var c=a.attributes,d=c.length;d-->0;){var e=c[d];K[e.name]&&("template"!==e.name&&b.setAttribute(e.name,e.value),a.removeAttribute(e.name))}return b}function o(a){var b=a.ownerDocument.createElement("template");a.parentNode.insertBefore(b,a);for(var c=a.attributes,d=c.length;d-->0;){var e=c[d];b.setAttribute(e.name,e.value),a.removeAttribute(e.name)}return a.parentNode.removeChild(a),b}function p(a,b,c){var d=a.content;if(c)return void d.appendChild(b);for(var e;e=b.firstChild;)d.appendChild(e)}function q(a){P?a.__proto__=HTMLTemplateElement.prototype:k(a,HTMLTemplateElement.prototype)}function r(a){a.setModelFn_||(a.setModelFn_=function(){a.setModelFnScheduled_=!1;var b=z(a,a.delegate_&&a.delegate_.prepareBinding);w(a,b,a.model_)}),a.setModelFnScheduled_||(a.setModelFnScheduled_=!0,Observer.runEOM_(a.setModelFn_))}function s(a,b,c,d){if(a&&a.length){for(var e,f=a.length,g=0,h=0,i=0,j=!0;f>h;){var g=a.indexOf("{{",h),k=a.indexOf("[[",h),l=!1,m="}}";if(k>=0&&(0>g||g>k)&&(g=k,l=!0,m="]]"),i=0>g?-1:a.indexOf(m,g+2),0>i){if(!e)return;e.push(a.slice(h));break}e=e||[],e.push(a.slice(h,g));var n=a.slice(g+2,i).trim();e.push(l),j=j&&l;var o=d&&d(n,b,c);e.push(null==o?Path.get(n):null),e.push(o),h=i+2}return h===f&&e.push(""),e.hasOnePath=5===e.length,e.isSimplePath=e.hasOnePath&&""==e[0]&&""==e[4],e.onlyOneTime=j,e.combinator=function(a){for(var b=e[0],c=1;c<e.length;c+=4){var d=e.hasOnePath?a:a[(c-1)/4];void 0!==d&&(b+=d),b+=e[c+3]}return b},e}}function t(a,b,c,d){if(b.hasOnePath){var e=b[3],f=e?e(d,c,!0):b[2].getValueFrom(d);return b.isSimplePath?f:b.combinator(f)}for(var g=[],h=1;h<b.length;h+=4){var e=b[h+2];g[(h-1)/4]=e?e(d,c):b[h+1].getValueFrom(d)}return b.combinator(g)}function u(a,b,c,d){var e=b[3],f=e?e(d,c,!1):new PathObserver(d,b[2]);return b.isSimplePath?f:new ObserverTransform(f,b.combinator)}function v(a,b,c,d){if(b.onlyOneTime)return t(a,b,c,d);if(b.hasOnePath)return u(a,b,c,d);for(var e=new CompoundObserver,f=1;f<b.length;f+=4){var g=b[f],h=b[f+2];if(h){var i=h(d,c,g);g?e.addPath(i):e.addObserver(i)}else{var j=b[f+1];g?e.addPath(j.getValueFrom(d)):e.addPath(d,j)}}return new ObserverTransform(e,b.combinator)}function w(a,b,c,d){for(var e=0;e<b.length;e+=2){var f=b[e],g=b[e+1],h=v(f,g,a,c),i=a.bind(f,h,g.onlyOneTime);i&&d&&d.push(i)}if(a.bindFinished(),b.isTemplate){a.model_=c;var j=a.processBindingDirectives_(b);d&&j&&d.push(j)}}function x(a,b,c){var d=a.getAttribute(b);return s(""==d?"{{}}":d,b,a,c)}function y(a,c){b(a);for(var d=[],e=0;e<a.attributes.length;e++){for(var f=a.attributes[e],g=f.name,i=f.value;"_"===g[0];)g=g.substring(1);if(!h(a)||g!==J&&g!==H&&g!==I){var j=s(i,g,a,c);j&&d.push(g,j)}}return h(a)&&(d.isTemplate=!0,d.if=x(a,J,c),d.bind=x(a,H,c),d.repeat=x(a,I,c),!d.if||d.bind||d.repeat||(d.bind=s("{{}}",H,a,c))),d}function z(a,b){if(a.nodeType===Node.ELEMENT_NODE)return y(a,b);if(a.nodeType===Node.TEXT_NODE){var c=s(a.data,"textContent",a,b);if(c)return["textContent",c]}return[]}function A(a,b,c,d,e,f,g){for(var h=b.appendChild(c.importNode(a,!1)),i=0,j=a.firstChild;j;j=j.nextSibling)A(j,h,c,d.children[i++],e,f,g);return d.isTemplate&&(HTMLTemplateElement.decorate(h,a),f&&h.setDelegate_(f)),w(h,d,e,g),h}function B(a,b){var c=z(a,b);c.children={};for(var d=0,e=a.firstChild;e;e=e.nextSibling)c.children[d++]=B(e,b);return c}function C(a){var b=a.id_;return b||(b=a.id_=S++),b}function D(a,b){var c=C(a);if(b){var d=b.bindingMaps[c];return d||(d=b.bindingMaps[c]=B(a,b.prepareBinding)||[]),d}var d=a.bindingMap_;return d||(d=a.bindingMap_=B(a,void 0)||[]),d}function E(a){this.closed=!1,this.templateElement_=a,this.instances=[],this.deps=void 0,this.iteratedValue=[],this.presentValue=void 0,this.arrayObserver=void 0}var F,G=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.Map&&"function"==typeof a.Map.prototype.forEach?F=a.Map:(F=function(){this.keys=[],this.values=[]},F.prototype={set:function(a,b){var c=this.keys.indexOf(a);0>c?(this.keys.push(a),this.values.push(b)):this.values[c]=b},get:function(a){var b=this.keys.indexOf(a);if(!(0>b))return this.values[b]},"delete":function(a){var b=this.keys.indexOf(a);return 0>b?!1:(this.keys.splice(b,1),this.values.splice(b,1),!0)},forEach:function(a,b){for(var c=0;c<this.keys.length;c++)a.call(b||this,this.values[c],this.keys[c],this)}});"function"!=typeof document.contains&&(Document.prototype.contains=function(a){return a===this||a.parentNode===this?!0:this.documentElement.contains(a)});var H="bind",I="repeat",J="if",K={template:!0,repeat:!0,bind:!0,ref:!0},L={THEAD:!0,TBODY:!0,TFOOT:!0,TH:!0,TR:!0,TD:!0,COLGROUP:!0,COL:!0,CAPTION:!0,OPTION:!0,OPTGROUP:!0},M="undefined"!=typeof HTMLTemplateElement;M&&!function(){var a=document.createElement("template"),b=a.content.ownerDocument,c=b.appendChild(b.createElement("html")),d=c.appendChild(b.createElement("head")),e=b.createElement("base");e.href=document.baseURI,d.appendChild(e)}();var N="template, "+Object.keys(L).map(function(a){return a.toLowerCase()+"[template]"}).join(", ");document.addEventListener("DOMContentLoaded",function(){j(document),Platform.performMicrotaskCheckpoint()},!1),M||(a.HTMLTemplateElement=function(){throw TypeError("Illegal constructor")});var O,P="__proto__"in{};"function"==typeof MutationObserver&&(O=new MutationObserver(function(a){for(var b=0;b<a.length;b++)a[b].target.refChanged_()})),HTMLTemplateElement.decorate=function(a,c){if(a.templateIsDecorated_)return!1;var d=a;d.templateIsDecorated_=!0;var h=f(d)&&M,i=h,k=!h,m=!1;if(h||(g(d)?(b(!c),d=n(a),d.templateIsDecorated_=!0,h=M,m=!0):e(d)&&(d=o(a),d.templateIsDecorated_=!0,h=M)),!h){q(d);var r=l(d);d.content_=r.createDocumentFragment()}return c?d.instanceRef_=c:k?p(d,a,m):i&&j(d.content),!0},HTMLTemplateElement.bootstrap=j;var Q=a.HTMLUnknownElement||HTMLElement,R={get:function(){return this.content_},enumerable:!0,configurable:!0};M||(HTMLTemplateElement.prototype=Object.create(Q.prototype),Object.defineProperty(HTMLTemplateElement.prototype,"content",R)),k(HTMLTemplateElement.prototype,{bind:function(a,b,c){if("ref"!=a)return Element.prototype.bind.call(this,a,b,c);var d=this,e=c?b:b.open(function(a){d.setAttribute("ref",a),d.refChanged_()});return this.setAttribute("ref",e),this.refChanged_(),c?void 0:(this.bindings_?this.bindings_.ref=b:this.bindings_={ref:b},b)},processBindingDirectives_:function(a){return this.iterator_&&this.iterator_.closeDeps(),a.if||a.bind||a.repeat?(this.iterator_||(this.iterator_=new E(this)),this.iterator_.updateDependencies(a,this.model_),O&&O.observe(this,{attributes:!0,attributeFilter:["ref"]}),this.iterator_):void(this.iterator_&&(this.iterator_.close(),this.iterator_=void 0))},createInstance:function(a,b,c){b?c=this.newDelegate_(b):c||(c=this.delegate_),this.refContent_||(this.refContent_=this.ref_.content);var d=this.refContent_;if(null===d.firstChild)return T;var e=D(d,c),f=m(this),g=f.createDocumentFragment();g.templateCreator_=this,g.protoContent_=d,g.bindings_=[],g.terminator_=null;for(var h=g.templateInstance_={firstNode:null,lastNode:null,model:a},i=0,j=!1,k=d.firstChild;k;k=k.nextSibling){null===k.nextSibling&&(j=!0);var l=A(k,g,f,e.children[i++],a,c,g.bindings_);l.templateInstance_=h,j&&(g.terminator_=l)}return h.firstNode=g.firstChild,h.lastNode=g.lastChild,g.templateCreator_=void 0,g.protoContent_=void 0,g},get model(){return this.model_},set model(a){this.model_=a,r(this)},get bindingDelegate(){return this.delegate_&&this.delegate_.raw},refChanged_:function(){this.iterator_&&this.refContent_!==this.ref_.content&&(this.refContent_=void 0,this.iterator_.valueChanged(),this.iterator_.updateIteratedValue())},clear:function(){this.model_=void 0,this.delegate_=void 0,this.bindings_&&this.bindings_.ref&&this.bindings_.ref.close(),this.refContent_=void 0,this.iterator_&&(this.iterator_.valueChanged(),this.iterator_.close(),this.iterator_=void 0)},setDelegate_:function(a){this.delegate_=a,this.bindingMap_=void 0,this.iterator_&&(this.iterator_.instancePositionChangedFn_=void 0,this.iterator_.instanceModelFn_=void 0)},newDelegate_:function(a){function b(b){var c=a&&a[b];if("function"==typeof c)return function(){return c.apply(a,arguments)}}if(a)return{bindingMaps:{},raw:a,prepareBinding:b("prepareBinding"),prepareInstanceModel:b("prepareInstanceModel"),prepareInstancePositionChanged:b("prepareInstancePositionChanged")}},set bindingDelegate(a){if(this.delegate_)throw Error("Template must be cleared before a new bindingDelegate can be assigned");this.setDelegate_(this.newDelegate_(a))},get ref_(){var a=d(this,this.getAttribute("ref"));if(a||(a=this.instanceRef_),!a)return this;var b=a.ref_;return b?b:a}});var S=1;Object.defineProperty(Node.prototype,"templateInstance",{get:function(){var a=this.templateInstance_;return a?a:this.parentNode?this.parentNode.templateInstance:void 0}});var T=document.createDocumentFragment();T.bindings_=[],T.terminator_=null,E.prototype={closeDeps:function(){var a=this.deps;a&&(a.ifOneTime===!1&&a.ifValue.close(),a.oneTime===!1&&a.value.close())},updateDependencies:function(a,b){this.closeDeps();var c=this.deps={},d=this.templateElement_;if(a.if){if(c.hasIf=!0,c.ifOneTime=a.if.onlyOneTime,c.ifValue=v(J,a.if,d,b),c.ifOneTime&&!c.ifValue)return void this.updateIteratedValue();c.ifOneTime||c.ifValue.open(this.updateIteratedValue,this)}a.repeat?(c.repeat=!0,c.oneTime=a.repeat.onlyOneTime,c.value=v(I,a.repeat,d,b)):(c.repeat=!1,c.oneTime=a.bind.onlyOneTime,c.value=v(H,a.bind,d,b)),c.oneTime||c.value.open(this.updateIteratedValue,this),this.updateIteratedValue()},updateIteratedValue:function(){if(this.deps.hasIf){var a=this.deps.ifValue;if(this.deps.ifOneTime||(a=a.discardChanges()),!a)return void this.valueChanged()}var b=this.deps.value;this.deps.oneTime||(b=b.discardChanges()),this.deps.repeat||(b=[b]);var c=this.deps.repeat&&!this.deps.oneTime&&Array.isArray(b);this.valueChanged(b,c)},valueChanged:function(a,b){Array.isArray(a)||(a=[]),a!==this.iteratedValue&&(this.unobserve(),this.presentValue=a,b&&(this.arrayObserver=new ArrayObserver(this.presentValue),this.arrayObserver.open(this.handleSplices,this)),this.handleSplices(ArrayObserver.calculateSplices(this.presentValue,this.iteratedValue)))},getLastInstanceNode:function(a){if(-1==a)return this.templateElement_;var b=this.instances[a],c=b.terminator_;if(!c)return this.getLastInstanceNode(a-1);if(c.nodeType!==Node.ELEMENT_NODE||this.templateElement_===c)return c;var d=c.iterator_;return d?d.getLastTemplateNode():c},getLastTemplateNode:function(){return this.getLastInstanceNode(this.instances.length-1)},insertInstanceAt:function(a,b){var c=this.getLastInstanceNode(a-1),d=this.templateElement_.parentNode;this.instances.splice(a,0,b),d.insertBefore(b,c.nextSibling)},extractInstanceAt:function(a){for(var b=this.getLastInstanceNode(a-1),c=this.getLastInstanceNode(a),d=this.templateElement_.parentNode,e=this.instances.splice(a,1)[0];c!==b;){var f=b.nextSibling;f==c&&(c=b),e.appendChild(d.removeChild(f))}return e},getDelegateFn:function(a){return a=a&&a(this.templateElement_),"function"==typeof a?a:null},handleSplices:function(a){if(!this.closed&&a.length){var b=this.templateElement_;if(!b.parentNode)return void this.close();ArrayObserver.applySplices(this.iteratedValue,this.presentValue,a);var c=b.delegate_;void 0===this.instanceModelFn_&&(this.instanceModelFn_=this.getDelegateFn(c&&c.prepareInstanceModel)),void 0===this.instancePositionChangedFn_&&(this.instancePositionChangedFn_=this.getDelegateFn(c&&c.prepareInstancePositionChanged));for(var d=new F,e=0,f=0;f<a.length;f++){for(var g=a[f],h=g.removed,i=0;i<h.length;i++){var j=h[i],k=this.extractInstanceAt(g.index+e);k!==T&&d.set(j,k)}e-=g.addedCount}for(var f=0;f<a.length;f++)for(var g=a[f],l=g.index;l<g.index+g.addedCount;l++){var j=this.iteratedValue[l],k=d.get(j);k?d.delete(j):(this.instanceModelFn_&&(j=this.instanceModelFn_(j)),k=void 0===j?T:b.createInstance(j,void 0,c)),this.insertInstanceAt(l,k)}d.forEach(function(a){this.closeInstanceBindings(a)},this),this.instancePositionChangedFn_&&this.reportInstancesMoved(a)}},reportInstanceMoved:function(a){var b=this.instances[a];b!==T&&this.instancePositionChangedFn_(b.templateInstance_,a)},reportInstancesMoved:function(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=a[d];if(0!=c)for(;b<e.index;)this.reportInstanceMoved(b),b++;else b=e.index;for(;b<e.index+e.addedCount;)this.reportInstanceMoved(b),b++;c+=e.addedCount-e.removed.length}if(0!=c)for(var f=this.instances.length;f>b;)this.reportInstanceMoved(b),b++},closeInstanceBindings:function(a){for(var b=a.bindings_,c=0;c<b.length;c++)b[c].close()},unobserve:function(){this.arrayObserver&&(this.arrayObserver.close(),this.arrayObserver=void 0)},close:function(){if(!this.closed){this.unobserve();for(var a=0;a<this.instances.length;a++)this.closeInstanceBindings(this.instances[a]);this.instances.length=0,this.closeDeps(),this.templateElement_.iterator_=void 0,this.closed=!0}}},HTMLTemplateElement.forAllTemplatesFrom_=i}(this),function(a){function b(){e||(e=!0,a.endOfMicrotask(function(){e=!1,logFlags.data&&console.group("Platform.flush()"),a.performMicrotaskCheckpoint(),logFlags.data&&console.groupEnd()}))}var c=document.createElement("style");c.textContent="template {display: none !important;} /* injected by platform.js */";var d=document.querySelector("head");d.insertBefore(c,d.firstChild);var e;if(Observer.hasObjectObserve)b=function(){};else{var f=125;window.addEventListener("WebComponentsReady",function(){b(),a.flushPoll=setInterval(b,f)})}if(window.CustomElements&&!CustomElements.useNative){var g=Document.prototype.importNode;Document.prototype.importNode=function(a,b){var c=g.call(this,a,b);return CustomElements.upgradeAll(c),c}}a.flush=b}(window.Platform);
//# sourceMappingURL=platform.js.map
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvVXNlcnMvYW5keWF4dG9uL1Byb2plY3RzL3Njb3V0LXYyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvYW5keWF4dG9uL1Byb2plY3RzL3Njb3V0LXYyL2FwcC9zY3JpcHRzL2FwcC5qcyIsIi9Vc2Vycy9hbmR5YXh0b24vUHJvamVjdHMvc2NvdXQtdjIvYm93ZXJfY29tcG9uZW50cy9wbGF0Zm9ybS9wbGF0Zm9ybS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIHBvbHltZXIgPSByZXF1aXJlKFwiLi8uLi8uLi9ib3dlcl9jb21wb25lbnRzL3BsYXRmb3JtL3BsYXRmb3JtLmpzXCIpO1xuXG4iLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8vIEB2ZXJzaW9uOiAwLjIuM1xuXG53aW5kb3cuUGxhdGZvcm09d2luZG93LlBsYXRmb3JtfHx7fSx3aW5kb3cubG9nRmxhZ3M9d2luZG93LmxvZ0ZsYWdzfHx7fSxmdW5jdGlvbihhKXt2YXIgYj1hLmZsYWdzfHx7fTtsb2NhdGlvbi5zZWFyY2guc2xpY2UoMSkuc3BsaXQoXCImXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KFwiPVwiKSxhWzBdJiYoYlthWzBdXT1hWzFdfHwhMCl9KTt2YXIgYz1kb2N1bWVudC5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj1cInBsYXRmb3JtLmpzXCJdJyk7aWYoYylmb3IodmFyIGQsZT1jLmF0dHJpYnV0ZXMsZj0wO2Y8ZS5sZW5ndGg7ZisrKWQ9ZVtmXSxcInNyY1wiIT09ZC5uYW1lJiYoYltkLm5hbWVdPWQudmFsdWV8fCEwKTtiLmxvZyYmYi5sb2cuc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7d2luZG93LmxvZ0ZsYWdzW2FdPSEwfSksYi5zaGFkb3c9Yi5zaGFkb3d8fGIuc2hhZG93ZG9tfHxiLnBvbHlmaWxsLGIuc2hhZG93PVwibmF0aXZlXCI9PT1iLnNoYWRvdz8hMTpiLnNoYWRvd3x8IUhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290LGIuc2hhZG93JiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0XCIpLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oXCJwbGF0Zm9ybS5qcyBpcyBub3QgdGhlIGZpcnN0IHNjcmlwdCBvbiB0aGUgcGFnZS4gU2VlIGh0dHA6Ly93d3cucG9seW1lci1wcm9qZWN0Lm9yZy9kb2NzL3N0YXJ0L3BsYXRmb3JtLmh0bWwjc2V0dXAgZm9yIGRldGFpbHMuXCIpLGIucmVnaXN0ZXImJih3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5DdXN0b21FbGVtZW50cy5mbGFncy5yZWdpc3Rlcj1iLnJlZ2lzdGVyKSxiLmltcG9ydHMmJih3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5IVE1MSW1wb3J0cy5mbGFncy5pbXBvcnRzPWIuaW1wb3J0cyksYS5mbGFncz1ifShQbGF0Zm9ybSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIFdlYWtNYXAmJiFmdW5jdGlvbigpe3ZhciBhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxiPURhdGUubm93KCklMWU5LGM9ZnVuY3Rpb24oKXt0aGlzLm5hbWU9XCJfX3N0XCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArXCJfX1wiKX07Yy5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihiLGMpe3ZhciBkPWJbdGhpcy5uYW1lXTtkJiZkWzBdPT09Yj9kWzFdPWM6YShiLHRoaXMubmFtZSx7dmFsdWU6W2IsY10sd3JpdGFibGU6ITB9KX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybihiPWFbdGhpcy5uYW1lXSkmJmJbMF09PT1hP2JbMV06dm9pZCAwfSxcImRlbGV0ZVwiOmZ1bmN0aW9uKGEpe3RoaXMuc2V0KGEsdm9pZCAwKX19LHdpbmRvdy5XZWFrTWFwPWN9KCksZnVuY3Rpb24oZ2xvYmFsKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkZXRlY3RPYmplY3RPYnNlcnZlKCl7ZnVuY3Rpb24gYShhKXtiPWF9aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0Lm9ic2VydmV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9W10sYz17fSxkPVtdO3JldHVybiBPYmplY3Qub2JzZXJ2ZShjLGEpLEFycmF5Lm9ic2VydmUoZCxhKSxjLmlkPTEsYy5pZD0yLGRlbGV0ZSBjLmlkLGQucHVzaCgxLDIpLGQubGVuZ3RoPTAsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLDUhPT1iLmxlbmd0aD8hMTpcImFkZFwiIT1iWzBdLnR5cGV8fFwidXBkYXRlXCIhPWJbMV0udHlwZXx8XCJkZWxldGVcIiE9YlsyXS50eXBlfHxcInNwbGljZVwiIT1iWzNdLnR5cGV8fFwic3BsaWNlXCIhPWJbNF0udHlwZT8hMTooT2JqZWN0LnVub2JzZXJ2ZShjLGEpLEFycmF5LnVub2JzZXJ2ZShkLGEpLCEwKX1mdW5jdGlvbiBkZXRlY3RFdmFsKCl7aWYoZ2xvYmFsLmRvY3VtZW50JiZcInNlY3VyaXR5UG9saWN5XCJpbiBnbG9iYWwuZG9jdW1lbnQmJiFnbG9iYWwuZG9jdW1lbnQuc2VjdXJpdHlQb2xpY3kuYWxsb3dzRXZhbClyZXR1cm4hMTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbihcIlwiLFwicmV0dXJuIHRydWU7XCIpO3JldHVybiBhKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGlzSW5kZXgoYSl7cmV0dXJuK2E9PT1hPj4+MH1mdW5jdGlvbiB0b051bWJlcihhKXtyZXR1cm4rYX1mdW5jdGlvbiBpc09iamVjdChhKXtyZXR1cm4gYT09PU9iamVjdChhKX1mdW5jdGlvbiBhcmVTYW1lVmFsdWUoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpudW1iZXJJc05hTihhKSYmbnVtYmVySXNOYU4oYik/ITA6YSE9PWEmJmIhPT1ifWZ1bmN0aW9uIGlzUGF0aFZhbGlkKGEpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhPyExOihhPWEudHJpbSgpLFwiXCI9PWE/ITA6XCIuXCI9PWFbMF0/ITE6cGF0aFJlZ0V4cC50ZXN0KGEpKX1mdW5jdGlvbiBQYXRoKGEsYil7aWYoYiE9PWNvbnN0cnVjdG9ySXNQcml2YXRlKXRocm93IEVycm9yKFwiVXNlIFBhdGguZ2V0IHRvIHJldHJpZXZlIHBhdGggb2JqZWN0c1wiKTtyZXR1cm5cIlwiPT1hLnRyaW0oKT90aGlzOmlzSW5kZXgoYSk/KHRoaXMucHVzaChhKSx0aGlzKTooYS5zcGxpdCgvXFxzKlxcLlxccyovKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGF9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucHVzaChhKX0sdGhpcyksdm9pZChoYXNFdmFsJiZ0aGlzLmxlbmd0aCYmKHRoaXMuZ2V0VmFsdWVGcm9tPXRoaXMuY29tcGlsZWRHZXRWYWx1ZUZyb21GbigpKSkpfWZ1bmN0aW9uIGdldFBhdGgoYSl7aWYoYSBpbnN0YW5jZW9mIFBhdGgpcmV0dXJuIGE7bnVsbD09YSYmKGE9XCJcIiksXCJzdHJpbmdcIiE9dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7dmFyIGI9cGF0aENhY2hlW2FdO2lmKGIpcmV0dXJuIGI7aWYoIWlzUGF0aFZhbGlkKGEpKXJldHVybiBpbnZhbGlkUGF0aDt2YXIgYj1uZXcgUGF0aChhLGNvbnN0cnVjdG9ySXNQcml2YXRlKTtyZXR1cm4gcGF0aENhY2hlW2FdPWIsYn1mdW5jdGlvbiBkaXJ0eUNoZWNrKGEpe2Zvcih2YXIgYj0wO01BWF9ESVJUWV9DSEVDS19DWUNMRVM+YiYmYS5jaGVja18oKTspYisrO3JldHVybiBnbG9iYWwudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihnbG9iYWwuZGlydHlDaGVja0N5Y2xlQ291bnQ9YiksYj4wfWZ1bmN0aW9uIG9iamVjdElzRW1wdHkoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZGlmZklzRW1wdHkoYSl7cmV0dXJuIG9iamVjdElzRW1wdHkoYS5hZGRlZCkmJm9iamVjdElzRW1wdHkoYS5yZW1vdmVkKSYmb2JqZWN0SXNFbXB0eShhLmNoYW5nZWQpfWZ1bmN0aW9uIGRpZmZPYmplY3RGcm9tT2xkT2JqZWN0KGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIHJ1bkVPTVRhc2tzKCl7aWYoIWVvbVRhc2tzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGVvbVRhc2tzLmxlbmd0aDthKyspZW9tVGFza3NbYV0oKTtyZXR1cm4gZW9tVGFza3MubGVuZ3RoPTAsITB9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRPYmplY3QoKXtmdW5jdGlvbiBhKGEpe2ImJmIuc3RhdGVfPT09T1BFTkVEJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcihcIk9ic2VydmVkT2JqZWN0IGluIHVzZVwiKTtlfHxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksYj1jLGU9ITF9LG9ic2VydmU6ZnVuY3Rpb24oYixkKXtjPWIsZD9BcnJheS5vYnNlcnZlKGMsYSk6T2JqZWN0Lm9ic2VydmUoYyxhKX0sZGVsaXZlcjpmdW5jdGlvbihiKXtkPWIsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGQ9ITF9LGNsb3NlOmZ1bmN0aW9uKCl7Yj12b2lkIDAsT2JqZWN0LnVub2JzZXJ2ZShjLGEpLG9ic2VydmVkT2JqZWN0Q2FjaGUucHVzaCh0aGlzKX19fWZ1bmN0aW9uIGdldE9ic2VydmVkT2JqZWN0KGEsYixjKXt2YXIgZD1vYnNlcnZlZE9iamVjdENhY2hlLnBvcCgpfHxuZXdPYnNlcnZlZE9iamVjdCgpO3JldHVybiBkLm9wZW4oYSksZC5vYnNlcnZlKGIsYyksZH1mdW5jdGlvbiBuZXdPYnNlcnZlZFNldCgpe2Z1bmN0aW9uIGEoYixmKXtiJiYoYj09PWQmJihlW2ZdPSEwKSxoLmluZGV4T2YoYik8MCYmKGgucHVzaChiKSxPYmplY3Qub2JzZXJ2ZShiLGMpKSxhKE9iamVjdC5nZXRQcm90b3R5cGVPZihiKSxmKSl9ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtpZihjLm9iamVjdCE9PWR8fGVbYy5uYW1lXXx8XCJzZXRQcm90b3R5cGVcIj09PWMudHlwZSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBjKGMpe2lmKCFiKGMpKXtmb3IodmFyIGQsZT0wO2U8Zy5sZW5ndGg7ZSsrKWQ9Z1tlXSxkLnN0YXRlXz09T1BFTkVEJiZkLml0ZXJhdGVPYmplY3RzXyhhKTtmb3IodmFyIGU9MDtlPGcubGVuZ3RoO2UrKylkPWdbZV0sZC5zdGF0ZV89PU9QRU5FRCYmZC5jaGVja18oKX19dmFyIGQsZSxmPTAsZz1bXSxoPVtdLGk9e29iamVjdDp2b2lkIDAsb2JqZWN0czpoLG9wZW46ZnVuY3Rpb24oYixjKXtkfHwoZD1jLGU9e30pLGcucHVzaChiKSxmKyssYi5pdGVyYXRlT2JqZWN0c18oYSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoZi0tLCEoZj4wKSl7Zm9yKHZhciBhPTA7YTxoLmxlbmd0aDthKyspT2JqZWN0LnVub2JzZXJ2ZShoW2FdLGMpLE9ic2VydmVyLnVub2JzZXJ2ZWRDb3VudCsrO2cubGVuZ3RoPTAsaC5sZW5ndGg9MCxkPXZvaWQgMCxlPXZvaWQgMCxvYnNlcnZlZFNldENhY2hlLnB1c2godGhpcyl9fX07cmV0dXJuIGl9ZnVuY3Rpb24gZ2V0T2JzZXJ2ZWRTZXQoYSxiKXtyZXR1cm4gbGFzdE9ic2VydmVkU2V0JiZsYXN0T2JzZXJ2ZWRTZXQub2JqZWN0PT09Ynx8KGxhc3RPYnNlcnZlZFNldD1vYnNlcnZlZFNldENhY2hlLnBvcCgpfHxuZXdPYnNlcnZlZFNldCgpLGxhc3RPYnNlcnZlZFNldC5vYmplY3Q9YiksbGFzdE9ic2VydmVkU2V0Lm9wZW4oYSxiKSxsYXN0T2JzZXJ2ZWRTZXR9ZnVuY3Rpb24gT2JzZXJ2ZXIoKXt0aGlzLnN0YXRlXz1VTk9QRU5FRCx0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuaWRfPW5leHRPYnNlcnZlcklkKyt9ZnVuY3Rpb24gYWRkVG9BbGwoYSl7T2JzZXJ2ZXIuX2FsbE9ic2VydmVyc0NvdW50KyssY29sbGVjdE9ic2VydmVycyYmYWxsT2JzZXJ2ZXJzLnB1c2goYSl9ZnVuY3Rpb24gcmVtb3ZlRnJvbUFsbCgpe09ic2VydmVyLl9hbGxPYnNlcnZlcnNDb3VudC0tfWZ1bmN0aW9uIE9iamVjdE9ic2VydmVyKGEpe09ic2VydmVyLmNhbGwodGhpcyksdGhpcy52YWx1ZV89YSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIEFycmF5T2JzZXJ2ZXIoYSl7aWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgRXJyb3IoXCJQcm92aWRlZCBvYmplY3QgaXMgbm90IGFuIEFycmF5XCIpO09iamVjdE9ic2VydmVyLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBQYXRoT2JzZXJ2ZXIoYSxiKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89Z2V0UGF0aChiKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDB9ZnVuY3Rpb24gQ29tcG91bmRPYnNlcnZlcihhKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl89YSx0aGlzLnZhbHVlXz1bXSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDAsdGhpcy5vYnNlcnZlZF89W119ZnVuY3Rpb24gaWRlbnRGbihhKXtyZXR1cm4gYX1mdW5jdGlvbiBPYnNlcnZlclRyYW5zZm9ybShhLGIsYyxkKXt0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz1hLHRoaXMuZ2V0VmFsdWVGbl89Ynx8aWRlbnRGbix0aGlzLnNldFZhbHVlRm5fPWN8fGlkZW50Rm4sdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfPWR9ZnVuY3Rpb24gbm90aWZ5KGEsYixjLGQpe2lmKCFhcmVTYW1lVmFsdWUoYyxkKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEucHJvcGVydHlDaGFuZ2VkXyYmYS5wcm9wZXJ0eUNoYW5nZWRfKGIsYyxkKSxoYXNPYnNlcnZlKSl7dmFyIGU9YS5ub3RpZmllcl87ZXx8KGU9YS5ub3RpZmllcl89T2JqZWN0LmdldE5vdGlmaWVyKGEpKSx1cGRhdGVSZWNvcmQub2JqZWN0PWEsdXBkYXRlUmVjb3JkLm5hbWU9Yix1cGRhdGVSZWNvcmQub2xkVmFsdWU9ZCxlLm5vdGlmeSh1cGRhdGVSZWNvcmQpfX1mdW5jdGlvbiBkaWZmT2JqZWN0RnJvbUNoYW5nZVJlY29yZHMoYSxiLGMpe2Zvcih2YXIgZD17fSxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtleHBlY3RlZFJlY29yZFR5cGVzW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLFwidXBkYXRlXCIhPWcudHlwZSYmKFwiYWRkXCIhPWcudHlwZT9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcihcIlVua25vd24gY2hhbmdlUmVjb3JkIHR5cGU6IFwiK2cudHlwZSksY29uc29sZS5lcnJvcihnKSl9Zm9yKHZhciBoIGluIGQpZFtoXT1hW2hdO2Zvcih2YXIgaCBpbiBlKWVbaF09dm9pZCAwO3ZhciBpPXt9O2Zvcih2YXIgaCBpbiBjKWlmKCEoaCBpbiBkfHxoIGluIGUpKXt2YXIgaj1hW2hdO2NbaF0hPT1qJiYoaVtoXT1qKX1yZXR1cm57YWRkZWQ6ZCxyZW1vdmVkOmUsY2hhbmdlZDppfX1mdW5jdGlvbiBuZXdTcGxpY2UoYSxiLGMpe3JldHVybntpbmRleDphLHJlbW92ZWQ6YixhZGRlZENvdW50OmN9fWZ1bmN0aW9uIEFycmF5U3BsaWNlKCl7fWZ1bmN0aW9uIGNhbGNTcGxpY2VzKGEsYixjLGQsZSxmKXtyZXR1cm4gYXJyYXlTcGxpY2UuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIGludGVyc2VjdChhLGIsYyxkKXtyZXR1cm4gYz5ifHxhPmQ/LTE6Yj09Y3x8ZD09YT8wOmM+YT9kPmI/Yi1jOmQtYzpiPmQ/ZC1hOmItYX1mdW5jdGlvbiBtZXJnZVNwbGljZShhLGIsYyxkKXtmb3IodmFyIGU9bmV3U3BsaWNlKGIsYyxkKSxmPSExLGc9MCxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBpPWFbaF07aWYoaS5pbmRleCs9ZywhZil7dmFyIGo9aW50ZXJzZWN0KGUuaW5kZXgsZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoLGkuaW5kZXgsaS5pbmRleCtpLmFkZGVkQ291bnQpO2lmKGo+PTApe2Euc3BsaWNlKGgsMSksaC0tLGctPWkuYWRkZWRDb3VudC1pLnJlbW92ZWQubGVuZ3RoLGUuYWRkZWRDb3VudCs9aS5hZGRlZENvdW50LWo7dmFyIGs9ZS5yZW1vdmVkLmxlbmd0aCtpLnJlbW92ZWQubGVuZ3RoLWo7aWYoZS5hZGRlZENvdW50fHxrKXt2YXIgYz1pLnJlbW92ZWQ7aWYoZS5pbmRleDxpLmluZGV4KXt2YXIgbD1lLnJlbW92ZWQuc2xpY2UoMCxpLmluZGV4LWUuaW5kZXgpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGwsYyksYz1sfWlmKGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aD5pLmluZGV4K2kuYWRkZWRDb3VudCl7dmFyIG09ZS5yZW1vdmVkLnNsaWNlKGkuaW5kZXgraS5hZGRlZENvdW50LWUuaW5kZXgpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGMsbSl9ZS5yZW1vdmVkPWMsaS5pbmRleDxlLmluZGV4JiYoZS5pbmRleD1pLmluZGV4KX1lbHNlIGY9ITB9ZWxzZSBpZihlLmluZGV4PGkuaW5kZXgpe2Y9ITAsYS5zcGxpY2UoaCwwLGUpLGgrKzt2YXIgbj1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aDtpLmluZGV4Kz1uLGcrPW59fX1mfHxhLnB1c2goZSl9ZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFNwbGljZXMoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO3N3aXRjaChlLnR5cGUpe2Nhc2VcInNwbGljZVwiOm1lcmdlU3BsaWNlKGMsZS5pbmRleCxlLnJlbW92ZWQuc2xpY2UoKSxlLmFkZGVkQ291bnQpO2JyZWFrO2Nhc2VcImFkZFwiOmNhc2VcInVwZGF0ZVwiOmNhc2VcImRlbGV0ZVwiOmlmKCFpc0luZGV4KGUubmFtZSkpY29udGludWU7dmFyIGY9dG9OdW1iZXIoZS5uYW1lKTtpZigwPmYpY29udGludWU7bWVyZ2VTcGxpY2UoYyxmLFtlLm9sZFZhbHVlXSwxKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIHJlY29yZCB0eXBlOiBcIitKU09OLnN0cmluZ2lmeShlKSl9fXJldHVybiBjfWZ1bmN0aW9uIHByb2plY3RBcnJheVNwbGljZXMoYSxiKXt2YXIgYz1bXTtyZXR1cm4gY3JlYXRlSW5pdGlhbFNwbGljZXMoYSxiKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiAxPT1iLmFkZGVkQ291bnQmJjE9PWIucmVtb3ZlZC5sZW5ndGg/dm9pZChiLnJlbW92ZWRbMF0hPT1hW2IuaW5kZXhdJiZjLnB1c2goYikpOnZvaWQoYz1jLmNvbmNhdChjYWxjU3BsaWNlcyhhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpKX0pLGN9dmFyIGhhc09ic2VydmU9ZGV0ZWN0T2JqZWN0T2JzZXJ2ZSgpLGhhc0V2YWw9ZGV0ZWN0RXZhbCgpLG51bWJlcklzTmFOPWdsb2JhbC5OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhJiZnbG9iYWwuaXNOYU4oYSl9LGNyZWF0ZU9iamVjdD1cIl9fcHJvdG9fX1wiaW57fT9mdW5jdGlvbihhKXtyZXR1cm4gYX06ZnVuY3Rpb24oYSl7dmFyIGI9YS5fX3Byb3RvX187aWYoIWIpcmV0dXJuIGE7dmFyIGM9T2JqZWN0LmNyZWF0ZShiKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSkuZm9yRWFjaChmdW5jdGlvbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKSl9KSxjfSxpZGVudFN0YXJ0PVwiWyRfYS16QS1aXVwiLGlkZW50UGFydD1cIlskX2EtekEtWjAtOV1cIixpZGVudD1pZGVudFN0YXJ0K1wiK1wiK2lkZW50UGFydCtcIipcIixlbGVtZW50SW5kZXg9XCIoPzpbMC05XXxbMS05XStbMC05XSspXCIsaWRlbnRPckVsZW1lbnRJbmRleD1cIig/OlwiK2lkZW50K1wifFwiK2VsZW1lbnRJbmRleCtcIilcIixwYXRoPVwiKD86XCIraWRlbnRPckVsZW1lbnRJbmRleCtcIikoPzpcXFxccypcXFxcLlxcXFxzKlwiK2lkZW50T3JFbGVtZW50SW5kZXgrXCIpKlwiLHBhdGhSZWdFeHA9bmV3IFJlZ0V4cChcIl5cIitwYXRoK1wiJFwiKSxjb25zdHJ1Y3RvcklzUHJpdmF0ZT17fSxwYXRoQ2FjaGU9e307UGF0aC5nZXQ9Z2V0UGF0aCxQYXRoLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpbXSx2YWxpZDohMCx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmpvaW4oXCIuXCIpfSxnZXRWYWx1ZUZyb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLmxlbmd0aDtiKyspe2lmKG51bGw9PWEpcmV0dXJuO2E9YVt0aGlzW2JdXX1yZXR1cm4gYX0saXRlcmF0ZU9iamVjdHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoO2MrKyl7aWYoYyYmKGE9YVt0aGlzW2MtMV1dKSwhaXNPYmplY3QoYSkpcmV0dXJuO2IoYSx0aGlzWzBdKX19LGNvbXBpbGVkR2V0VmFsdWVGcm9tRm46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gaXNJbmRleChhKT8nW1wiJythKydcIl0nOlwiLlwiK2F9KSxiPVwiXCIsYz1cIm9ialwiO2IrPVwiaWYgKG9iaiAhPSBudWxsXCI7Zm9yKHZhciBkPTA7ZDx0aGlzLmxlbmd0aC0xO2QrKyl7e3RoaXNbZF19Yys9YVtkXSxiKz1cIiAmJlxcbiAgICAgXCIrYytcIiAhPSBudWxsXCJ9cmV0dXJuIGIrPVwiKVxcblwiLGMrPWFbZF0sYis9XCIgIHJldHVybiBcIitjK1wiO1xcbmVsc2VcXG4gIHJldHVybiB1bmRlZmluZWQ7XCIsbmV3IEZ1bmN0aW9uKFwib2JqXCIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighaXNPYmplY3QoYSkpcmV0dXJuITE7YT1hW3RoaXNbY11dfXJldHVybiBpc09iamVjdChhKT8oYVt0aGlzW2NdXT1iLCEwKTohMX19KTt2YXIgaW52YWxpZFBhdGg9bmV3IFBhdGgoXCJcIixjb25zdHJ1Y3RvcklzUHJpdmF0ZSk7aW52YWxpZFBhdGgudmFsaWQ9ITEsaW52YWxpZFBhdGguZ2V0VmFsdWVGcm9tPWludmFsaWRQYXRoLnNldFZhbHVlRnJvbT1mdW5jdGlvbigpe307dmFyIE1BWF9ESVJUWV9DSEVDS19DWUNMRVM9MWUzLGVvbVRhc2tzPVtdLHJ1bkVPTT1oYXNPYnNlcnZlP2Z1bmN0aW9uKCl7dmFyIGE9e3BpbmdQb25nOiEwfSxiPSExO3JldHVybiBPYmplY3Qub2JzZXJ2ZShhLGZ1bmN0aW9uKCl7cnVuRU9NVGFza3MoKSxiPSExfSksZnVuY3Rpb24oYyl7ZW9tVGFza3MucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZW9tVGFza3MucHVzaChhKX19KCksb2JzZXJ2ZWRPYmplY3RDYWNoZT1bXSxvYnNlcnZlZFNldENhY2hlPVtdLGxhc3RPYnNlcnZlZFNldCxVTk9QRU5FRD0wLE9QRU5FRD0xLENMT1NFRD0yLFJFU0VUVElORz0zLG5leHRPYnNlcnZlcklkPTE7T2JzZXJ2ZXIucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEKXRocm93IEVycm9yKFwiT2JzZXJ2ZXIgaGFzIGFscmVhZHkgYmVlbiBvcGVuZWQuXCIpO3JldHVybiBhZGRUb0FsbCh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuY29ubmVjdF8oKSx0aGlzLnN0YXRlXz1PUEVORUQsdGhpcy52YWx1ZV99LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PU9QRU5FRCYmKHJlbW92ZUZyb21BbGwodGhpcyksdGhpcy5kaXNjb25uZWN0XygpLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnN0YXRlXz1DTE9TRUQpfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PU9QRU5FRCYmZGlydHlDaGVjayh0aGlzKX0scmVwb3J0XzpmdW5jdGlvbihhKXt0cnl7dGhpcy5jYWxsYmFja18uYXBwbHkodGhpcy50YXJnZXRfLGEpfWNhdGNoKGIpe09ic2VydmVyLl9lcnJvclRocm93bkR1cmluZ0NhbGxiYWNrPSEwLGNvbnNvbGUuZXJyb3IoXCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogXCIrKGIuc3RhY2t8fGIpKX19LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tfKHZvaWQgMCwhMCksdGhpcy52YWx1ZV99fTt2YXIgY29sbGVjdE9ic2VydmVycz0haGFzT2JzZXJ2ZSxhbGxPYnNlcnZlcnM7T2JzZXJ2ZXIuX2FsbE9ic2VydmVyc0NvdW50PTAsY29sbGVjdE9ic2VydmVycyYmKGFsbE9ic2VydmVycz1bXSk7dmFyIHJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50PSExLGhhc0RlYnVnRm9yY2VGdWxsRGVsaXZlcnk9aGFzT2JzZXJ2ZSYmZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGV2YWwoXCIlUnVuTWljcm90YXNrcygpXCIpLCEwfWNhdGNoKGV4KXtyZXR1cm4hMX19KCk7Z2xvYmFsLlBsYXRmb3JtPWdsb2JhbC5QbGF0Zm9ybXx8e30sZ2xvYmFsLlBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50PWZ1bmN0aW9uKCl7aWYoIXJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50KXtpZihoYXNEZWJ1Z0ZvcmNlRnVsbERlbGl2ZXJ5KXJldHVybiB2b2lkIGV2YWwoXCIlUnVuTWljcm90YXNrcygpXCIpO2lmKGNvbGxlY3RPYnNlcnZlcnMpe3J1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50PSEwO3ZhciBjeWNsZXM9MCxhbnlDaGFuZ2VkLHRvQ2hlY2s7ZG97Y3ljbGVzKyssdG9DaGVjaz1hbGxPYnNlcnZlcnMsYWxsT2JzZXJ2ZXJzPVtdLGFueUNoYW5nZWQ9ITE7Zm9yKHZhciBpPTA7aTx0b0NoZWNrLmxlbmd0aDtpKyspe3ZhciBvYnNlcnZlcj10b0NoZWNrW2ldO29ic2VydmVyLnN0YXRlXz09T1BFTkVEJiYob2JzZXJ2ZXIuY2hlY2tfKCkmJihhbnlDaGFuZ2VkPSEwKSxhbGxPYnNlcnZlcnMucHVzaChvYnNlcnZlcikpfXJ1bkVPTVRhc2tzKCkmJihhbnlDaGFuZ2VkPSEwKX13aGlsZShNQVhfRElSVFlfQ0hFQ0tfQ1lDTEVTPmN5Y2xlcyYmYW55Q2hhbmdlZCk7Z2xvYmFsLnRlc3RpbmdFeHBvc2VDeWNsZUNvdW50JiYoZ2xvYmFsLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWN5Y2xlcykscnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQ9ITF9fX0sY29sbGVjdE9ic2VydmVycyYmKGdsb2JhbC5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe2FsbE9ic2VydmVycz1bXX0pLE9iamVjdE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiExLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZT90aGlzLmRpcmVjdE9ic2VydmVyXz1nZXRPYnNlcnZlZE9iamVjdCh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1BcnJheS5pc0FycmF5KGEpP1tdOnt9O2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmKGIubGVuZ3RoPWEubGVuZ3RoKSxifSxjaGVja186ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihoYXNPYnNlcnZlKXtpZighYSlyZXR1cm4hMTtjPXt9LGI9ZGlmZk9iamVjdEZyb21DaGFuZ2VSZWNvcmRzKHRoaXMudmFsdWVfLGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0XyxiPWRpZmZPYmplY3RGcm9tT2xkT2JqZWN0KHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIGRpZmZJc0VtcHR5KGIpPyExOihoYXNPYnNlcnZlfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYi5hZGRlZHx8e30sYi5yZW1vdmVkfHx7fSxiLmNoYW5nZWR8fHt9LGZ1bmN0aW9uKGEpe3JldHVybiBjW2FdfV0pLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXtoYXNPYnNlcnZlPyh0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCk6dGhpcy5vbGRPYmplY3RfPXZvaWQgMH0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJihoYXNPYnNlcnZlP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfLmRlbGl2ZXIoITEpOmRpcnR5Q2hlY2sodGhpcykpfSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdE9ic2VydmVyXz90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCEwKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSx0aGlzLnZhbHVlX319KSxBcnJheU9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYmplY3RPYnNlcnZlci5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiEwLGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2xpY2UoKX0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGhhc09ic2VydmUpe2lmKCFhKXJldHVybiExO2I9cHJvamVjdEFycmF5U3BsaWNlcyh0aGlzLnZhbHVlXyxhKX1lbHNlIGI9Y2FsY1NwbGljZXModGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIGImJmIubGVuZ3RoPyhoYXNPYnNlcnZlfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYl0pLCEwKTohMX19KSxBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcz1mdW5jdGlvbihhLGIsYyl7Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bYy5pbmRleCxjLnJlbW92ZWQubGVuZ3RoXSxlPWMuaW5kZXg7ZTxjLmluZGV4K2MuYWRkZWRDb3VudDspZC5wdXNoKGJbZV0pLGUrKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGEsZCl9KX0sUGF0aE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtoYXNPYnNlcnZlJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRTZXQodGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksYnx8YXJlU2FtZVZhbHVlKHRoaXMudmFsdWVfLGMpPyExOih0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxhKX19KTt2YXIgb2JzZXJ2ZXJTZW50aW5lbD17fTtDb21wb3VuZE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtpZihoYXNPYnNlcnZlKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1vYnNlcnZlclNlbnRpbmVsKXtiPSEwO2JyZWFrfWImJih0aGlzLmRpcmVjdE9ic2VydmVyXz1nZXRPYnNlcnZlZFNldCh0aGlzLGEpKX10aGlzLmNoZWNrXyh2b2lkIDAsIXRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2ErPTIpdGhpcy5vYnNlcnZlZF9bYV09PT1vYnNlcnZlclNlbnRpbmVsJiZ0aGlzLm9ic2VydmVkX1thKzFdLmNsb3NlKCk7dGhpcy5vYnNlcnZlZF8ubGVuZ3RoPTAsdGhpcy52YWx1ZV8ubGVuZ3RoPTAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxhZGRQYXRoOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKFwiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuXCIpO3ZhciBiPWdldFBhdGgoYik7aWYodGhpcy5vYnNlcnZlZF8ucHVzaChhLGIpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pe3ZhciBjPXRoaXMub2JzZXJ2ZWRfLmxlbmd0aC8yLTE7dGhpcy52YWx1ZV9bY109Yi5nZXRWYWx1ZUZyb20oYSl9fSxhZGRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlXyE9VU5PUEVORUQmJnRoaXMuc3RhdGVfIT1SRVNFVFRJTkcpdGhyb3cgRXJyb3IoXCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuXCIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2gob2JzZXJ2ZXJTZW50aW5lbCxhKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYj10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2JdPWEub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyl9fSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPU9QRU5FRCl0aHJvdyBFcnJvcihcIkNhbiBvbmx5IHJlc2V0IHdoaWxlIG9wZW5cIik7dGhpcy5zdGF0ZV89UkVTRVRUSU5HLHRoaXMuZGlzY29ubmVjdF8oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKFwiQ2FuIG9ubHkgZmluaXNoUmVzZXQgYWZ0ZXIgc3RhcnRSZXNldFwiKTtyZXR1cm4gdGhpcy5zdGF0ZV89T1BFTkVELHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MiliPXRoaXMub2JzZXJ2ZWRfW2NdLGIhPT1vYnNlcnZlclNlbnRpbmVsJiZ0aGlzLm9ic2VydmVkX1tjKzFdLml0ZXJhdGVPYmplY3RzKGIsYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTA7ZDx0aGlzLm9ic2VydmVkXy5sZW5ndGg7ZCs9Mil7dmFyIGUsZj10aGlzLm9ic2VydmVkX1tkXSxnPXRoaXMub2JzZXJ2ZWRfW2QrMV07aWYoZj09PW9ic2VydmVyU2VudGluZWwpe3ZhciBoPWc7ZT10aGlzLnN0YXRlXz09PVVOT1BFTkVEP2gub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyk6aC5kaXNjYXJkQ2hhbmdlcygpfWVsc2UgZT1nLmdldFZhbHVlRnJvbShmKTtiP3RoaXMudmFsdWVfW2QvMl09ZTphcmVTYW1lVmFsdWUoZSx0aGlzLnZhbHVlX1tkLzJdKXx8KGM9Y3x8W10sY1tkLzJdPXRoaXMudmFsdWVfW2QvMl0sdGhpcy52YWx1ZV9bZC8yXT1lKX1yZXR1cm4gYz8odGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjLHRoaXMub2JzZXJ2ZWRfXSksITApOiExfX0pLE9ic2VydmVyVHJhbnNmb3JtLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5vcGVuKHRoaXMub2JzZXJ2ZWRDYWxsYmFja18sdGhpcykpLHRoaXMudmFsdWVffSxvYnNlcnZlZENhbGxiYWNrXzpmdW5jdGlvbihhKXtpZihhPXRoaXMuZ2V0VmFsdWVGbl8oYSksIWFyZVNhbWVWYWx1ZShhLHRoaXMudmFsdWVfKSl7dmFyIGI9dGhpcy52YWx1ZV87dGhpcy52YWx1ZV89YSx0aGlzLmNhbGxiYWNrXy5jYWxsKHRoaXMudGFyZ2V0Xyx0aGlzLnZhbHVlXyxiKX19LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLnZhbHVlX30sZGVsaXZlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9ic2VydmFibGVfLmRlbGl2ZXIoKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9dGhpcy5zZXRWYWx1ZUZuXyhhKSwhdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfJiZ0aGlzLm9ic2VydmFibGVfLnNldFZhbHVlP3RoaXMub2JzZXJ2YWJsZV8uc2V0VmFsdWUoYSk6dm9pZCAwfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMub2JzZXJ2YWJsZV8mJnRoaXMub2JzZXJ2YWJsZV8uY2xvc2UoKSx0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLm9ic2VydmFibGVfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5nZXRWYWx1ZUZuXz12b2lkIDAsdGhpcy5zZXRWYWx1ZUZuXz12b2lkIDB9fTt2YXIgZXhwZWN0ZWRSZWNvcmRUeXBlcz17YWRkOiEwLHVwZGF0ZTohMCxcImRlbGV0ZVwiOiEwfSx1cGRhdGVSZWNvcmQ9e29iamVjdDp2b2lkIDAsdHlwZTpcInVwZGF0ZVwiLG5hbWU6dm9pZCAwLG9sZFZhbHVlOnZvaWQgMH07T2JzZXJ2ZXIuY3JlYXRlQmluZGFibGVQcm90b3R5cGVBY2Nlc3Nvcj1mdW5jdGlvbihhLGIpe3ZhciBjPWIrXCJfXCIsZD1iK1wiT2JzZXJ2YWJsZV9cIjthW2NdPWFbYl0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpc1tkXTtyZXR1cm4gYSYmYS5kZWxpdmVyKCksdGhpc1tjXX0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXNbZF07aWYoZSlyZXR1cm4gdm9pZCBlLnNldFZhbHVlKGEpO3ZhciBmPXRoaXNbY107cmV0dXJuIHRoaXNbY109YSxub3RpZnkodGhpcyxiLGEsZiksYX0sY29uZmlndXJhYmxlOiEwfSl9LE9ic2VydmVyLmJpbmRUb0luc3RhbmNlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWIrXCJfXCIsZj1iK1wiT2JzZXJ2YWJsZV9cIjthW2ZdPWM7dmFyIGc9YVtlXSxoPWMub3BlbihmdW5jdGlvbihjLGQpe2FbZV09Yyxub3RpZnkoYSxiLGMsZCl9KTtpZihkJiYhYXJlU2FtZVZhbHVlKGcsaCkpe3ZhciBpPWQoZyxoKTthcmVTYW1lVmFsdWUoaCxpKXx8KGg9aSxjLnNldFZhbHVlJiZjLnNldFZhbHVlKGgpKX1yZXR1cm4gYVtlXT1oLG5vdGlmeShhLGIsaCxnKSx7Y2xvc2U6ZnVuY3Rpb24oKXtjLmNsb3NlKCksYVtmXT12b2lkIDB9fX07dmFyIEVESVRfTEVBVkU9MCxFRElUX1VQREFURT0xLEVESVRfQUREPTIsRURJVF9ERUxFVEU9MztBcnJheVNwbGljZS5wcm90b3R5cGU9e2NhbGNFZGl0RGlzdGFuY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmb3IodmFyIGc9Zi1lKzEsaD1jLWIrMSxpPW5ldyBBcnJheShnKSxqPTA7Zz5qO2orKylpW2pdPW5ldyBBcnJheShoKSxpW2pdWzBdPWo7Zm9yKHZhciBrPTA7aD5rO2srKylpWzBdW2tdPWs7Zm9yKHZhciBqPTE7Zz5qO2orKylmb3IodmFyIGs9MTtoPms7aysrKWlmKHRoaXMuZXF1YWxzKGFbYitrLTFdLGRbZStqLTFdKSlpW2pdW2tdPWlbai0xXVtrLTFdO2Vsc2V7dmFyIGw9aVtqLTFdW2tdKzEsbT1pW2pdW2stMV0rMTtpW2pdW2tdPW0+bD9sOm19cmV0dXJuIGl9LHNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgtMSxjPWFbMF0ubGVuZ3RoLTEsZD1hW2JdW2NdLGU9W107Yj4wfHxjPjA7KWlmKDAhPWIpaWYoMCE9Yyl7dmFyIGYsZz1hW2ItMV1bYy0xXSxoPWFbYi0xXVtjXSxpPWFbYl1bYy0xXTtmPWk+aD9nPmg/aDpnOmc+aT9pOmcsZj09Zz8oZz09ZD9lLnB1c2goRURJVF9MRUFWRSk6KGUucHVzaChFRElUX1VQREFURSksZD1nKSxiLS0sYy0tKTpmPT1oPyhlLnB1c2goRURJVF9ERUxFVEUpLGItLSxkPWgpOihlLnB1c2goRURJVF9BREQpLGMtLSxkPWkpfWVsc2UgZS5wdXNoKEVESVRfREVMRVRFKSxiLS07ZWxzZSBlLnB1c2goRURJVF9BREQpLGMtLTtyZXR1cm4gZS5yZXZlcnNlKCksZX0sY2FsY1NwbGljZXM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD0wLGk9TWF0aC5taW4oYy1iLGYtZSk7aWYoMD09YiYmMD09ZSYmKGc9dGhpcy5zaGFyZWRQcmVmaXgoYSxkLGkpKSxjPT1hLmxlbmd0aCYmZj09ZC5sZW5ndGgmJihoPXRoaXMuc2hhcmVkU3VmZml4KGEsZCxpLWcpKSxiKz1nLGUrPWcsYy09aCxmLT1oLGMtYj09MCYmZi1lPT0wKXJldHVybltdO2lmKGI9PWMpe2Zvcih2YXIgaj1uZXdTcGxpY2UoYixbXSwwKTtmPmU7KWoucmVtb3ZlZC5wdXNoKGRbZSsrXSk7cmV0dXJuW2pdfWlmKGU9PWYpcmV0dXJuW25ld1NwbGljZShiLFtdLGMtYildO2Zvcih2YXIgaz10aGlzLnNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlcyh0aGlzLmNhbGNFZGl0RGlzdGFuY2VzKGEsYixjLGQsZSxmKSksaj12b2lkIDAsbD1bXSxtPWIsbj1lLG89MDtvPGsubGVuZ3RoO28rKylzd2l0Y2goa1tvXSl7Y2FzZSBFRElUX0xFQVZFOmomJihsLnB1c2goaiksaj12b2lkIDApLG0rKyxuKys7YnJlYWs7Y2FzZSBFRElUX1VQREFURTpqfHwoaj1uZXdTcGxpY2UobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rKzticmVhaztjYXNlIEVESVRfQUREOmp8fChqPW5ld1NwbGljZShtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKys7YnJlYWs7Y2FzZSBFRElUX0RFTEVURTpqfHwoaj1uZXdTcGxpY2UobSxbXSwwKSksai5yZW1vdmVkLnB1c2goZFtuXSksbisrfXJldHVybiBqJiZsLnB1c2goaiksbH0sc2hhcmVkUHJlZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MDtjPmQ7ZCsrKWlmKCF0aGlzLmVxdWFscyhhW2RdLGJbZF0pKXJldHVybiBkO3JldHVybiBjfSxzaGFyZWRTdWZmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPWIubGVuZ3RoLGY9MDtjPmYmJnRoaXMuZXF1YWxzKGFbLS1kXSxiWy0tZV0pOylmKys7cmV0dXJuIGZ9LGNhbGN1bGF0ZVNwbGljZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxjU3BsaWNlcyhhLDAsYS5sZW5ndGgsYiwwLGIubGVuZ3RoKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifX07dmFyIGFycmF5U3BsaWNlPW5ldyBBcnJheVNwbGljZTtnbG9iYWwuT2JzZXJ2ZXI9T2JzZXJ2ZXIsZ2xvYmFsLk9ic2VydmVyLnJ1bkVPTV89cnVuRU9NLGdsb2JhbC5PYnNlcnZlci5vYnNlcnZlclNlbnRpbmVsXz1vYnNlcnZlclNlbnRpbmVsLGdsb2JhbC5PYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlPWhhc09ic2VydmUsZ2xvYmFsLkFycmF5T2JzZXJ2ZXI9QXJyYXlPYnNlcnZlcixnbG9iYWwuQXJyYXlPYnNlcnZlci5jYWxjdWxhdGVTcGxpY2VzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGFycmF5U3BsaWNlLmNhbGN1bGF0ZVNwbGljZXMoYSxiKX0sZ2xvYmFsLkFycmF5U3BsaWNlPUFycmF5U3BsaWNlLGdsb2JhbC5PYmplY3RPYnNlcnZlcj1PYmplY3RPYnNlcnZlcixnbG9iYWwuUGF0aE9ic2VydmVyPVBhdGhPYnNlcnZlcixnbG9iYWwuQ29tcG91bmRPYnNlcnZlcj1Db21wb3VuZE9ic2VydmVyLGdsb2JhbC5QYXRoPVBhdGgsZ2xvYmFsLk9ic2VydmVyVHJhbnNmb3JtPU9ic2VydmVyVHJhbnNmb3JtfShcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSxQbGF0Zm9ybS5mbGFncy5zaGFkb3c/KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcihcIkFzc2VydGlvbiBmYWlsZWRcIil9ZnVuY3Rpb24gYyhhLGIpe2Zvcih2YXIgYz1NKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtMKGEsZSxOKGIsZSkpfXJldHVybiBhfWZ1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9TShiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07c3dpdGNoKGUpe2Nhc2VcImFyZ3VtZW50c1wiOmNhc2VcImNhbGxlclwiOmNhc2VcImxlbmd0aFwiOmNhc2VcIm5hbWVcIjpjYXNlXCJwcm90b3R5cGVcIjpjYXNlXCJ0b1N0cmluZ1wiOmNvbnRpbnVlfUwoYSxlLE4oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY11pbiBhKXJldHVybiBiW2NdfWZ1bmN0aW9uIGYoYSxiLGMpe08udmFsdWU9YyxMKGEsYixPKX1mdW5jdGlvbiBnKGEpe3ZhciBiPWEuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1GLmdldChiKTtpZihjKXJldHVybiBjO3ZhciBkPWcoYiksZT11KGQpO3JldHVybiByKGIsZSxhKSxlfWZ1bmN0aW9uIGgoYSxiKXtwKGEsYiwhMCl9ZnVuY3Rpb24gaShhLGIpe3AoYixhLCExKX1mdW5jdGlvbiBqKGEpe3JldHVybi9eb25bYS16XSskLy50ZXN0KGEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuL15cXHdbYS16QS1aXzAtOV0qJC8udGVzdChhKX1mdW5jdGlvbiBsKGEpe3JldHVybiBJJiZrKGEpP25ldyBGdW5jdGlvbihcInJldHVybiB0aGlzLmltcGwuXCIrYSk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdfX1mdW5jdGlvbiBtKGEpe3JldHVybiBJJiZrKGEpP25ldyBGdW5jdGlvbihcInZcIixcInRoaXMuaW1wbC5cIithK1wiID0gdlwiKTpmdW5jdGlvbihiKXt0aGlzLmltcGxbYV09Yn19ZnVuY3Rpb24gbihhKXtyZXR1cm4gSSYmayhhKT9uZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpcy5pbXBsLlwiK2ErXCIuYXBwbHkodGhpcy5pbXBsLCBhcmd1bWVudHMpXCIpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19ZnVuY3Rpb24gbyhhLGIpe3RyeXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpfWNhdGNoKGMpe3JldHVybiBRfX1mdW5jdGlvbiBwKGIsYyxkKXtmb3IodmFyIGU9TShiKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07aWYoXCJwb2x5bWVyQmxhY2tMaXN0X1wiIT09ZyYmIShnIGluIGN8fGIucG9seW1lckJsYWNrTGlzdF8mJmIucG9seW1lckJsYWNrTGlzdF9bZ10pKXtQJiZiLl9fbG9va3VwR2V0dGVyX18oZyk7dmFyIGgsaSxrPW8oYixnKTtpZihkJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBrLnZhbHVlKWNbZ109bihnKTtlbHNle3ZhciBwPWooZyk7aD1wP2EuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyKGcpOmwoZyksKGsud3JpdGFibGV8fGsuc2V0KSYmKGk9cD9hLmdldEV2ZW50SGFuZGxlclNldHRlcihnKTptKGcpKSxMKGMsZyx7Z2V0Omgsc2V0OmksY29uZmlndXJhYmxlOmsuY29uZmlndXJhYmxlLGVudW1lcmFibGU6ay5lbnVtZXJhYmxlfSl9fX19ZnVuY3Rpb24gcShhLGIsYyl7dmFyIGU9YS5wcm90b3R5cGU7cihlLGIsYyksZChiLGEpfWZ1bmN0aW9uIHIoYSxjLGQpe3ZhciBlPWMucHJvdG90eXBlO2Iodm9pZCAwPT09Ri5nZXQoYSkpLEYuc2V0KGEsYyksRy5zZXQoZSxhKSxoKGEsZSksZCYmaShlLGQpLGYoZSxcImNvbnN0cnVjdG9yXCIsYyksYy5wcm90b3R5cGU9ZX1mdW5jdGlvbiBzKGEsYil7cmV0dXJuIEYuZ2V0KGIucHJvdG90eXBlKT09PWF9ZnVuY3Rpb24gdChhKXt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1nKGIpLGQ9dShjKTtyZXR1cm4gcihiLGQsYSksZH1mdW5jdGlvbiB1KGEpe2Z1bmN0aW9uIGIoYil7YS5jYWxsKHRoaXMsYil9dmFyIGM9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSk7cmV0dXJuIGMuY29uc3RydWN0b3I9YixiLnByb3RvdHlwZT1jLGJ9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEguRXZlbnRUYXJnZXR8fGEgaW5zdGFuY2VvZiBILkV2ZW50fHxhIGluc3RhbmNlb2YgSC5SYW5nZXx8YSBpbnN0YW5jZW9mIEguRE9NSW1wbGVtZW50YXRpb258fGEgaW5zdGFuY2VvZiBILkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHx8SC5XZWJHTFJlbmRlcmluZ0NvbnRleHQmJmEgaW5zdGFuY2VvZiBILldlYkdMUmVuZGVyaW5nQ29udGV4dH1mdW5jdGlvbiB3KGEpe3JldHVybiBTJiZhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFV8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgVnx8YSBpbnN0YW5jZW9mIFd8fGEgaW5zdGFuY2VvZiBSfHxhIGluc3RhbmNlb2YgWHx8WSYmYSBpbnN0YW5jZW9mIFl8fFomJmEgaW5zdGFuY2VvZiBafWZ1bmN0aW9uIHgoYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGIodyhhKSksYS5wb2x5bWVyV3JhcHBlcl98fChhLnBvbHltZXJXcmFwcGVyXz1uZXcoZyhhKSkoYSkpKX1mdW5jdGlvbiB5KGEpe3JldHVybiBudWxsPT09YT9udWxsOihiKHYoYSkpLGEuaW1wbCl9ZnVuY3Rpb24geihhKXtyZXR1cm4gYSYmdihhKT95KGEpOmF9ZnVuY3Rpb24gQShhKXtyZXR1cm4gYSYmIXYoYSk/eChhKTphfWZ1bmN0aW9uIEIoYSxjKXtudWxsIT09YyYmKGIodyhhKSksYih2b2lkIDA9PT1jfHx2KGMpKSxhLnBvbHltZXJXcmFwcGVyXz1jKX1mdW5jdGlvbiBDKGEsYixjKXskLmdldD1jLEwoYS5wcm90b3R5cGUsYiwkKX1mdW5jdGlvbiBEKGEsYil7QyhhLGIsZnVuY3Rpb24oKXtyZXR1cm4geCh0aGlzLmltcGxbYl0pfSl9ZnVuY3Rpb24gRShhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtiLmZvckVhY2goZnVuY3Rpb24oYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXt2YXIgYT1BKHRoaXMpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KX0pfXZhciBGPW5ldyBXZWFrTWFwLEc9bmV3IFdlYWtNYXAsSD1PYmplY3QuY3JlYXRlKG51bGwpLEk9IShcInNlY3VyaXR5UG9saWN5XCJpbiBkb2N1bWVudCl8fGRvY3VtZW50LnNlY3VyaXR5UG9saWN5LmFsbG93c0V2YWw7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNocm9tZSYmY2hyb21lLmFwcCYmY2hyb21lLmFwcC5ydW50aW1lJiYoST0hMSksSSl0cnl7dmFyIEo9bmV3IEZ1bmN0aW9uKFwiXCIsXCJyZXR1cm4gdHJ1ZTtcIik7ST1KKCl9Y2F0Y2goSyl7ST0hMX12YXIgTD1PYmplY3QuZGVmaW5lUHJvcGVydHksTT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxOPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsTz17dmFsdWU6dm9pZCAwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfTtNKHdpbmRvdyk7dmFyIFA9L0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksUT17Z2V0OmZ1bmN0aW9uKCl7fSxzZXQ6ZnVuY3Rpb24oKXt9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSxSPXdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixTPXdpbmRvdy5FdmVudFRhcmdldCxUPXdpbmRvdy5FdmVudCxVPXdpbmRvdy5Ob2RlLFY9d2luZG93LldpbmRvdyxXPXdpbmRvdy5SYW5nZSxYPXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsWT13aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0LFo9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZSwkPXtnZXQ6dm9pZCAwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfTthLmFzc2VydD1iLGEuY29uc3RydWN0b3JUYWJsZT1GLGEuZGVmaW5lR2V0dGVyPUMsYS5kZWZpbmVXcmFwR2V0dGVyPUQsYS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcj1FLGEuaXNXcmFwcGVyPXYsYS5pc1dyYXBwZXJGb3I9cyxhLm1peGluPWMsYS5uYXRpdmVQcm90b3R5cGVUYWJsZT1HLGEub25lT2Y9ZSxhLnJlZ2lzdGVyT2JqZWN0PXQsYS5yZWdpc3RlcldyYXBwZXI9cSxhLnJld3JhcD1CLGEudW53cmFwPXksYS51bndyYXBJZk5lZWRlZD16LGEud3JhcD14LGEud3JhcElmTmVlZGVkPUEsYS53cmFwcGVycz1IfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoKXtnPSExO3ZhciBhPWYuc2xpY2UoMCk7Zj1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl9ZnVuY3Rpb24gYyhhKXtmLnB1c2goYSksZ3x8KGc9ITAsZChiLDApKX12YXIgZCxlPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyLGY9W10sZz0hMTtpZihlKXt2YXIgaD0xLGk9bmV3IGUoYiksaj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShoKTtpLm9ic2VydmUoaix7Y2hhcmFjdGVyRGF0YTohMH0pLGQ9ZnVuY3Rpb24oKXtoPShoKzEpJTIsai5kYXRhPWh9fWVsc2UgZD13aW5kb3cuc2V0SW1tZWRpYXRlfHx3aW5kb3cuc2V0VGltZW91dDthLnNldEVuZE9mTWljcm90YXNrPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYigpe3B8fChrKGMpLHA9ITApfWZ1bmN0aW9uIGMoKXtwPSExO2RvIGZvcih2YXIgYT1vLnNsaWNlKCksYj0hMSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10sZT1kLnRha2VSZWNvcmRzKCk7ZihkKSxlLmxlbmd0aCYmKGQuY2FsbGJhY2tfKGUsZCksYj0hMCl9d2hpbGUoYil9ZnVuY3Rpb24gZChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucmVtb3ZlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGUoYSxiKXtmb3IoO2E7YT1hLnBhcmVudE5vZGUpe3ZhciBjPW4uZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07ZS5vcHRpb25zLnN1YnRyZWUmJmUuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYil9fX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj0wO2I8YS5ub2Rlc18ubGVuZ3RoO2IrKyl7dmFyIGM9YS5ub2Rlc19bYl0sZD1uLmdldChjKTtpZighZClyZXR1cm47Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07Zi5vYnNlcnZlcj09PWEmJmYucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9fX1mdW5jdGlvbiBnKGEsYyxlKXtmb3IodmFyIGY9T2JqZWN0LmNyZWF0ZShudWxsKSxnPU9iamVjdC5jcmVhdGUobnVsbCksaD1hO2g7aD1oLnBhcmVudE5vZGUpe3ZhciBpPW4uZ2V0KGgpO2lmKGkpZm9yKHZhciBqPTA7ajxpLmxlbmd0aDtqKyspe3ZhciBrPWlbal0sbD1rLm9wdGlvbnM7aWYoKGg9PT1hfHxsLnN1YnRyZWUpJiYhKFwiYXR0cmlidXRlc1wiPT09YyYmIWwuYXR0cmlidXRlc3x8XCJhdHRyaWJ1dGVzXCI9PT1jJiZsLmF0dHJpYnV0ZUZpbHRlciYmKG51bGwhPT1lLm5hbWVzcGFjZXx8LTE9PT1sLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGUubmFtZSkpfHxcImNoYXJhY3RlckRhdGFcIj09PWMmJiFsLmNoYXJhY3RlckRhdGF8fFwiY2hpbGRMaXN0XCI9PT1jJiYhbC5jaGlsZExpc3QpKXt2YXIgbT1rLm9ic2VydmVyO2ZbbS51aWRfXT1tLChcImF0dHJpYnV0ZXNcIj09PWMmJmwuYXR0cmlidXRlT2xkVmFsdWV8fFwiY2hhcmFjdGVyRGF0YVwiPT09YyYmbC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpJiYoZ1ttLnVpZF9dPWUub2xkVmFsdWUpfX19dmFyIG89ITE7Zm9yKHZhciBwIGluIGYpe3ZhciBtPWZbcF0scT1uZXcgZChjLGEpO1wibmFtZVwiaW4gZSYmXCJuYW1lc3BhY2VcImluIGUmJihxLmF0dHJpYnV0ZU5hbWU9ZS5uYW1lLHEuYXR0cmlidXRlTmFtZXNwYWNlPWUubmFtZXNwYWNlKSxlLmFkZGVkTm9kZXMmJihxLmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzKSxlLnJlbW92ZWROb2RlcyYmKHEucmVtb3ZlZE5vZGVzPWUucmVtb3ZlZE5vZGVzKSxlLnByZXZpb3VzU2libGluZyYmKHEucHJldmlvdXNTaWJsaW5nPWUucHJldmlvdXNTaWJsaW5nKSxlLm5leHRTaWJsaW5nJiYocS5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nKSx2b2lkIDAhPT1nW3BdJiYocS5vbGRWYWx1ZT1nW3BdKSxtLnJlY29yZHNfLnB1c2gocSksbz0hMH1vJiZiKCl9ZnVuY3Rpb24gaChhKXtpZih0aGlzLmNoaWxkTGlzdD0hIWEuY2hpbGRMaXN0LHRoaXMuc3VidHJlZT0hIWEuc3VidHJlZSx0aGlzLmF0dHJpYnV0ZXM9XCJhdHRyaWJ1dGVzXCJpbiBhfHwhKFwiYXR0cmlidXRlT2xkVmFsdWVcImluIGF8fFwiYXR0cmlidXRlRmlsdGVyXCJpbiBhKT8hIWEuYXR0cmlidXRlczohMCx0aGlzLmNoYXJhY3RlckRhdGE9XCJjaGFyYWN0ZXJEYXRhT2xkVmFsdWVcImluIGEmJiEoXCJjaGFyYWN0ZXJEYXRhXCJpbiBhKT8hMDohIWEuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoYS5hdHRyaWJ1dGVPbGRWYWx1ZXx8XCJhdHRyaWJ1dGVGaWx0ZXJcImluIGEpfHwhdGhpcy5jaGFyYWN0ZXJEYXRhJiZhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl0aHJvdyBuZXcgVHlwZUVycm9yO2lmKHRoaXMuY2hhcmFjdGVyRGF0YT0hIWEuY2hhcmFjdGVyRGF0YSx0aGlzLmF0dHJpYnV0ZU9sZFZhbHVlPSEhYS5hdHRyaWJ1dGVPbGRWYWx1ZSx0aGlzLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT0hIWEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlLFwiYXR0cmlidXRlRmlsdGVyXCJpbiBhKXtpZihudWxsPT1hLmF0dHJpYnV0ZUZpbHRlcnx8XCJvYmplY3RcIiE9dHlwZW9mIGEuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9cS5jYWxsKGEuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gaShhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrcixvLnB1c2godGhpcyl9ZnVuY3Rpb24gaihhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBrPWEuc2V0RW5kT2ZNaWNyb3Rhc2ssbD1hLndyYXBJZk5lZWRlZCxtPWEud3JhcHBlcnMsbj1uZXcgV2Vha01hcCxvPVtdLHA9ITEscT1BcnJheS5wcm90b3R5cGUuc2xpY2Uscj0wO2kucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGEsYil7YT1sKGEpO3ZhciBjLGQ9bmV3IGgoYiksZT1uLmdldChhKTtlfHxuLnNldChhLGU9W10pO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0ub2JzZXJ2ZXI9PT10aGlzJiYoYz1lW2ZdLGMucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCksYy5vcHRpb25zPWQpO2N8fChjPW5ldyBqKHRoaXMsYSxkKSxlLnB1c2goYyksdGhpcy5ub2Rlc18ucHVzaChhKSl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fSxqLnByb3RvdHlwZT17YWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1uLmdldChhKTtifHxuLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspZm9yKHZhciBjPWFbYl0sZD1uLmdldChjKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYoZFtlXT09PXRoaXMpe2Quc3BsaWNlKGUsMSk7YnJlYWt9fX0sYS5lbnF1ZXVlTXV0YXRpb249ZyxhLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzPWUsYS53cmFwcGVycy5NdXRhdGlvbk9ic2VydmVyPWksYS53cmFwcGVycy5NdXRhdGlvblJlY29yZD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSxiKXt0aGlzLnJvb3Q9YSx0aGlzLnBhcmVudD1ifWZ1bmN0aW9uIGMoYSxiKXtpZihhLnRyZWVTY29wZV8hPT1iKXthLnRyZWVTY29wZV89Yjtmb3IodmFyIGQ9YS5zaGFkb3dSb290O2Q7ZD1kLm9sZGVyU2hhZG93Um9vdClkLnRyZWVTY29wZV8ucGFyZW50PWI7Zm9yKHZhciBlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljKGUsYil9fWZ1bmN0aW9uIGQoYSl7aWYoYS50cmVlU2NvcGVfKXJldHVybiBhLnRyZWVTY29wZV87dmFyIGMsZT1hLnBhcmVudE5vZGU7cmV0dXJuIGM9ZT9kKGUpOm5ldyBiKGEsbnVsbCksYS50cmVlU2NvcGVfPWN9Yi5wcm90b3R5cGU9e2dldCByZW5kZXJlcigpe3JldHVybiB0aGlzLnJvb3QgaW5zdGFuY2VvZiBhLndyYXBwZXJzLlNoYWRvd1Jvb3Q/YS5nZXRSZW5kZXJlckZvckhvc3QodGhpcy5yb290Lmhvc3QpOm51bGx9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe2Zvcig7YTthPWEucGFyZW50KWlmKGE9PT10aGlzKXJldHVybiEwO3JldHVybiExfX0sYS5UcmVlU2NvcGU9YixhLmdldFRyZWVTY29wZT1kLGEuc2V0VHJlZVNjb3BlPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFIuU2hhZG93Um9vdH1mdW5jdGlvbiBjKGEpe3ZhciBiPWEubG9jYWxOYW1lO3JldHVyblwiY29udGVudFwiPT09Ynx8XCJzaGFkb3dcIj09PWJ9ZnVuY3Rpb24gZChhKXtyZXR1cm4hIWEuc2hhZG93Um9vdH1mdW5jdGlvbiBlKGEpe3ZhciBiO3JldHVybiBhLnBhcmVudE5vZGV8fChiPWEuZGVmYXVsdFZpZXcpJiZRKGIpfHxudWxsfWZ1bmN0aW9uIGYoZixnLGgpe2lmKGgubGVuZ3RoKXJldHVybiBoLnNoaWZ0KCk7aWYoYihmKSlyZXR1cm4gaihmKXx8Zi5ob3N0O3ZhciBpPWEuZXZlbnRQYXJlbnRzVGFibGUuZ2V0KGYpO2lmKGkpe2Zvcih2YXIgaz0xO2s8aS5sZW5ndGg7aysrKWhbay0xXT1pW2tdO3JldHVybiBpWzBdfWlmKGcmJmMoZikpe3ZhciBsPWYucGFyZW50Tm9kZTtpZihsJiZkKGwpKWZvcih2YXIgbT1hLmdldFNoYWRvd1RyZWVzKGwpLG49aihnKSxrPTA7azxtLmxlbmd0aDtrKyspaWYobVtrXS5jb250YWlucyhuKSlyZXR1cm4gbn1yZXR1cm4gZShmKX1mdW5jdGlvbiBnKGEpe2Zvcih2YXIgZD1bXSxlPWEsZz1bXSxpPVtdO2U7KXt2YXIgaj1udWxsO2lmKGMoZSkpe2o9aChkKTt2YXIgaz1kW2QubGVuZ3RoLTFdfHxlO2QucHVzaChrKX1lbHNlIGQubGVuZ3RofHxkLnB1c2goZSk7dmFyIGw9ZFtkLmxlbmd0aC0xXTtnLnB1c2goe3RhcmdldDpsLGN1cnJlbnRUYXJnZXQ6ZX0pLGIoZSkmJmQucG9wKCksZT1mKGUsaixpKX1yZXR1cm4gZ31mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1hLmxlbmd0aC0xO2I+PTA7Yi0tKWlmKCFjKGFbYl0pKXJldHVybiBhW2JdO3JldHVybiBudWxsfWZ1bmN0aW9uIGkoYSxkKXtmb3IodmFyIGU9W107YTspe2Zvcih2YXIgZz1bXSxpPWQsaj12b2lkIDA7aTspe3ZhciBtPW51bGw7aWYoZy5sZW5ndGgpe2lmKGMoaSkmJihtPWgoZyksayhqKSkpe3ZhciBuPWdbZy5sZW5ndGgtMV07Zy5wdXNoKG4pfX1lbHNlIGcucHVzaChpKTtpZihsKGksYSkpcmV0dXJuIGdbZy5sZW5ndGgtMV07YihpKSYmZy5wb3AoKSxqPWksaT1mKGksbSxlKX1hPWIoYSk/YS5ob3N0OmEucGFyZW50Tm9kZX19ZnVuY3Rpb24gaihiKXtyZXR1cm4gYS5pbnNlcnRpb25QYXJlbnRUYWJsZS5nZXQoYil9ZnVuY3Rpb24gayhhKXtyZXR1cm4gaihhKX1mdW5jdGlvbiBsKGEsYil7cmV0dXJuIE0oYSk9PT1NKGIpfWZ1bmN0aW9uIG0oYSl7aWYoIVQuZ2V0KGEpJiYoVC5zZXQoYSwhMCksbyhRKGEpLFEoYS50YXJnZXQpKSxLKSl7dmFyIGI9Szt0aHJvdyBLPW51bGwsYn19ZnVuY3Rpb24gbihhKXtzd2l0Y2goYS50eXBlKXtjYXNlXCJiZWZvcmV1bmxvYWRcIjpjYXNlXCJsb2FkXCI6Y2FzZVwidW5sb2FkXCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbyhiLGMpe2lmKFUuZ2V0KGIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWRTdGF0ZUVycm9yXCIpO1Uuc2V0KGIsITApLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBkPWcoYyk7cmV0dXJuIDI9PT1kLmxlbmd0aCYmZFswXS50YXJnZXQgaW5zdGFuY2VvZiBSLkRvY3VtZW50JiZuKGIpJiZkLnNoaWZ0KCksYWIuc2V0KGIsZCkscChiLGQpJiZxKGIsZCkmJnIoYixkKSxZLnNldChiLHUuTk9ORSksVy5kZWxldGUoYixudWxsKSxVLmRlbGV0ZShiKSxiLmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gcChhLGIpe2Zvcih2YXIgYyxkPWIubGVuZ3RoLTE7ZD4wO2QtLSl7dmFyIGU9YltkXS50YXJnZXQsZj1iW2RdLmN1cnJlbnRUYXJnZXQ7aWYoZSE9PWYmJihjPXUuQ0FQVFVSSU5HX1BIQVNFLCFzKGJbZF0sYSxjKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gcShhLGIpe3ZhciBjPXUuQVRfVEFSR0VUO3JldHVybiBzKGJbMF0sYSxjKX1mdW5jdGlvbiByKGEsYil7Zm9yKHZhciBjLGQ9YS5idWJibGVzLGU9MTtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXS50YXJnZXQsZz1iW2VdLmN1cnJlbnRUYXJnZXQ7aWYoZj09PWcpYz11LkFUX1RBUkdFVDtlbHNle2lmKCFkfHwkLmdldChhKSljb250aW51ZTtjPXUuQlVCQkxJTkdfUEhBU0V9aWYoIXMoYltlXSxhLGMpKXJldHVybn19ZnVuY3Rpb24gcyhhLGIsYyl7dmFyIGQ9YS50YXJnZXQsZT1hLmN1cnJlbnRUYXJnZXQsZj1TLmdldChlKTtpZighZilyZXR1cm4hMDtpZihcInJlbGF0ZWRUYXJnZXRcImluIGIpe3ZhciBnPVAoYiksaD1nLnJlbGF0ZWRUYXJnZXQ7aWYoaCl7aWYoaCBpbnN0YW5jZW9mIE9iamVjdCYmaC5hZGRFdmVudExpc3RlbmVyKXt2YXIgaj1RKGgpLGs9aShlLGopO2lmKGs9PT1kKXJldHVybiEwfWVsc2Ugaz1udWxsO1guc2V0KGIsayl9fVkuc2V0KGIsYyk7dmFyIGw9Yi50eXBlLG09ITE7Vi5zZXQoYixkKSxXLnNldChiLGUpO2Zvcih2YXIgbj0wO248Zi5sZW5ndGg7bisrKXt2YXIgbz1mW25dO2lmKG8ucmVtb3ZlZCltPSEwO2Vsc2UgaWYoIShvLnR5cGUhPT1sfHwhby5jYXB0dXJlJiZjPT09dS5DQVBUVVJJTkdfUEhBU0V8fG8uY2FwdHVyZSYmYz09PXUuQlVCQkxJTkdfUEhBU0UpKXRyeXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLmhhbmRsZXI/by5oYW5kbGVyLmNhbGwoZSxiKTpvLmhhbmRsZXIuaGFuZGxlRXZlbnQoYiksJC5nZXQoYikpcmV0dXJuITFcbn1jYXRjaChwKXtLfHwoSz1wKX19aWYobSl7dmFyIHE9Zi5zbGljZSgpO2YubGVuZ3RoPTA7Zm9yKHZhciBuPTA7bjxxLmxlbmd0aDtuKyspcVtuXS5yZW1vdmVkfHxmLnB1c2gocVtuXSl9cmV0dXJuIVouZ2V0KGIpfWZ1bmN0aW9uIHQoYSxiLGMpe3RoaXMudHlwZT1hLHRoaXMuaGFuZGxlcj1iLHRoaXMuY2FwdHVyZT1Cb29sZWFuKGMpfWZ1bmN0aW9uIHUoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBiYikpcmV0dXJuIFEoeShiYixcIkV2ZW50XCIsYSxiKSk7dmFyIGM9YTtyZXR1cm4gbWJ8fFwiYmVmb3JldW5sb2FkXCIhPT1jLnR5cGU/dm9pZCh0aGlzLmltcGw9Yyk6bmV3IHooYyl9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6UChhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6USh5KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTihlLnByb3RvdHlwZSxjKSxkKXRyeXtPKGQsZSxuZXcgZChcInRlbXBcIikpfWNhdGNoKGYpe08oZCxlLGRvY3VtZW50LmNyZWF0ZUV2ZW50KGEpKX1yZXR1cm4gZX1mdW5jdGlvbiB4KGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YXJndW1lbnRzW2JdPVAoYXJndW1lbnRzW2JdKTt2YXIgYz1QKHRoaXMpO2NbYV0uYXBwbHkoYyxhcmd1bWVudHMpfX1mdW5jdGlvbiB5KGEsYixjLGQpe2lmKGtiKXJldHVybiBuZXcgYShjLHYoZCkpO3ZhciBlPVAoZG9jdW1lbnQuY3JlYXRlRXZlbnQoYikpLGY9amJbYl0sZz1bY107cmV0dXJuIE9iamVjdC5rZXlzKGYpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCE9ZCYmYSBpbiBkP2RbYV06ZlthXTtcInJlbGF0ZWRUYXJnZXRcIj09PWEmJihiPVAoYikpLGcucHVzaChiKX0pLGVbXCJpbml0XCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIHooYSl7dS5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gQShhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhPyEwOmEmJmEuaGFuZGxlRXZlbnR9ZnVuY3Rpb24gQihhKXtzd2l0Y2goYSl7Y2FzZVwiRE9NQXR0ck1vZGlmaWVkXCI6Y2FzZVwiRE9NQXR0cmlidXRlTmFtZUNoYW5nZWRcIjpjYXNlXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIjpjYXNlXCJET01FbGVtZW50TmFtZUNoYW5nZWRcIjpjYXNlXCJET01Ob2RlSW5zZXJ0ZWRcIjpjYXNlXCJET01Ob2RlSW5zZXJ0ZWRJbnRvRG9jdW1lbnRcIjpjYXNlXCJET01Ob2RlUmVtb3ZlZFwiOmNhc2VcIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50XCI6Y2FzZVwiRE9NU3VidHJlZU1vZGlmaWVkXCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gQyhhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBEKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUi5TaGFkb3dSb290JiYoYT1hLmhvc3QpLFAoYSl9ZnVuY3Rpb24gRShhLGIpe3ZhciBjPVMuZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIWNbZF0ucmVtb3ZlZCYmY1tkXS50eXBlPT09YilyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBGKGEsYil7Zm9yKHZhciBjPVAoYSk7YztjPWMucGFyZW50Tm9kZSlpZihFKFEoYyksYikpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRyhhKXtMKGEsb2IpfWZ1bmN0aW9uIEgoYixjLGQsZSl7YS5yZW5kZXJBbGxQZW5kaW5nKCk7Zm9yKHZhciBmPVEocGIuY2FsbChjLmltcGwsZCxlKSksaD1nKGYsdGhpcyksaT0wO2k8aC5sZW5ndGg7aSsrKXt2YXIgaj1oW2ldO2lmKGouY3VycmVudFRhcmdldD09PWIpcmV0dXJuIGoudGFyZ2V0fXJldHVybiBudWxsfWZ1bmN0aW9uIEkoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9Xy5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEooYSl7dmFyIGI9YS5zbGljZSgyKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9Xy5nZXQodGhpcyk7ZHx8KGQ9T2JqZWN0LmNyZWF0ZShudWxsKSxfLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksXCJmdW5jdGlvblwiPT10eXBlb2YgYyl7dmFyIGY9ZnVuY3Rpb24oYil7dmFyIGQ9Yy5jYWxsKHRoaXMsYik7ZD09PSExP2IucHJldmVudERlZmF1bHQoKTpcIm9uYmVmb3JldW5sb2FkXCI9PT1hJiZcInN0cmluZ1wiPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBLLEw9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixNPWEuZ2V0VHJlZVNjb3BlLE49YS5taXhpbixPPWEucmVnaXN0ZXJXcmFwcGVyLFA9YS51bndyYXAsUT1hLndyYXAsUj1hLndyYXBwZXJzLFM9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxUPW5ldyBXZWFrTWFwLFU9bmV3IFdlYWtNYXAsVj1uZXcgV2Vha01hcCxXPW5ldyBXZWFrTWFwLFg9bmV3IFdlYWtNYXAsWT1uZXcgV2Vha01hcCxaPW5ldyBXZWFrTWFwLCQ9bmV3IFdlYWtNYXAsXz1uZXcgV2Vha01hcCxhYj1uZXcgV2Vha01hcDt0LnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhbmRsZXI9PT1hLmhhbmRsZXImJnRoaXMudHlwZT09PWEudHlwZSYmdGhpcy5jYXB0dXJlPT09YS5jYXB0dXJlfSxnZXQgcmVtb3ZlZCgpe3JldHVybiBudWxsPT09dGhpcy5oYW5kbGVyfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXI9bnVsbH19O3ZhciBiYj13aW5kb3cuRXZlbnQ7YmIucHJvdG90eXBlLnBvbHltZXJCbGFja0xpc3RfPXtyZXR1cm5WYWx1ZTohMCxrZXlMb2NhdGlvbjohMH0sdS5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gVi5nZXQodGhpcyl9LGdldCBjdXJyZW50VGFyZ2V0KCl7cmV0dXJuIFcuZ2V0KHRoaXMpfSxnZXQgZXZlbnRQaGFzZSgpe3JldHVybiBZLmdldCh0aGlzKX0sZ2V0IHBhdGgoKXt2YXIgYT1uZXcgUi5Ob2RlTGlzdCxiPWFiLmdldCh0aGlzKTtpZihiKXtmb3IodmFyIGM9MCxkPWIubGVuZ3RoLTEsZT1NKFcuZ2V0KHRoaXMpKSxmPTA7ZD49ZjtmKyspe3ZhciBnPWJbZl0uY3VycmVudFRhcmdldCxoPU0oZyk7aC5jb250YWlucyhlKSYmKGYhPT1kfHxnIGluc3RhbmNlb2YgUi5Ob2RlKSYmKGFbYysrXT1nKX1hLmxlbmd0aD1jfXJldHVybiBhfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtaLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Wi5zZXQodGhpcywhMCksJC5zZXQodGhpcywhMCl9fSxPKGJiLHUsZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSk7dmFyIGNiPXcoXCJVSUV2ZW50XCIsdSksZGI9dyhcIkN1c3RvbUV2ZW50XCIsdSksZWI9e2dldCByZWxhdGVkVGFyZ2V0KCl7dmFyIGE9WC5nZXQodGhpcyk7cmV0dXJuIHZvaWQgMCE9PWE/YTpRKFAodGhpcykucmVsYXRlZFRhcmdldCl9fSxmYj1OKHtpbml0TW91c2VFdmVudDp4KFwiaW5pdE1vdXNlRXZlbnRcIiwxNCl9LGViKSxnYj1OKHtpbml0Rm9jdXNFdmVudDp4KFwiaW5pdEZvY3VzRXZlbnRcIiw1KX0sZWIpLGhiPXcoXCJNb3VzZUV2ZW50XCIsY2IsZmIpLGliPXcoXCJGb2N1c0V2ZW50XCIsY2IsZ2IpLGpiPU9iamVjdC5jcmVhdGUobnVsbCksa2I9ZnVuY3Rpb24oKXt0cnl7bmV3IHdpbmRvdy5Gb2N1c0V2ZW50KFwiZm9jdXNcIil9Y2F0Y2goYSl7cmV0dXJuITF9cmV0dXJuITB9KCk7aWYoIWtiKXt2YXIgbGI9ZnVuY3Rpb24oYSxiLGMpe2lmKGMpe3ZhciBkPWpiW2NdO2I9TihOKHt9LGQpLGIpfWpiW2FdPWJ9O2xiKFwiRXZlbnRcIix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExfSksbGIoXCJDdXN0b21FdmVudFwiLHtkZXRhaWw6bnVsbH0sXCJFdmVudFwiKSxsYihcIlVJRXZlbnRcIix7dmlldzpudWxsLGRldGFpbDowfSxcIkV2ZW50XCIpLGxiKFwiTW91c2VFdmVudFwiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LFwiVUlFdmVudFwiKSxsYihcIkZvY3VzRXZlbnRcIix7cmVsYXRlZFRhcmdldDpudWxsfSxcIlVJRXZlbnRcIil9dmFyIG1iPXdpbmRvdy5CZWZvcmVVbmxvYWRFdmVudDt6LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSxOKHoucHJvdG90eXBlLHtnZXQgcmV0dXJuVmFsdWUoKXtyZXR1cm4gdGhpcy5pbXBsLnJldHVyblZhbHVlfSxzZXQgcmV0dXJuVmFsdWUoYSl7dGhpcy5pbXBsLnJldHVyblZhbHVlPWF9fSksbWImJk8obWIseik7dmFyIG5iPXdpbmRvdy5FdmVudFRhcmdldCxvYj1bXCJhZGRFdmVudExpc3RlbmVyXCIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsXCJkaXNwYXRjaEV2ZW50XCJdO1tOb2RlLFdpbmRvd10uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnByb3RvdHlwZTtvYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGErXCJfXCIse3ZhbHVlOmJbYV19KX0pfSksQy5wcm90b3R5cGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2lmKEEoYikmJiFCKGEpKXt2YXIgZD1uZXcgdChhLGIsYyksZT1TLmdldCh0aGlzKTtpZihlKXtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKylpZihkLmVxdWFscyhlW2ZdKSlyZXR1cm59ZWxzZSBlPVtdLFMuc2V0KHRoaXMsZSk7ZS5wdXNoKGQpO3ZhciBnPUQodGhpcyk7Zy5hZGRFdmVudExpc3RlbmVyXyhhLG0sITApfX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7Yz1Cb29sZWFuKGMpO3ZhciBkPVMuZ2V0KHRoaXMpO2lmKGQpe2Zvcih2YXIgZT0wLGY9ITEsZz0wO2c8ZC5sZW5ndGg7ZysrKWRbZ10udHlwZT09PWEmJmRbZ10uY2FwdHVyZT09PWMmJihlKyssZFtnXS5oYW5kbGVyPT09YiYmKGY9ITAsZFtnXS5yZW1vdmUoKSkpO2lmKGYmJjE9PT1lKXt2YXIgaD1EKHRoaXMpO2gucmVtb3ZlRXZlbnRMaXN0ZW5lcl8oYSxtLCEwKX19fSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGIpe3ZhciBjPVAoYiksZD1jLnR5cGU7VC5zZXQoYywhMSksYS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGU7Rih0aGlzLGQpfHwoZT1mdW5jdGlvbigpe30sdGhpcy5hZGRFdmVudExpc3RlbmVyKGQsZSwhMCkpO3RyeXtyZXR1cm4gUCh0aGlzKS5kaXNwYXRjaEV2ZW50XyhjKX1maW5hbGx5e2UmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLGUsITApfX19LG5iJiZPKG5iLEMpO3ZhciBwYj1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50O2EuYWRqdXN0UmVsYXRlZFRhcmdldD1pLGEuZWxlbWVudEZyb21Qb2ludD1ILGEuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyPUksYS5nZXRFdmVudEhhbmRsZXJTZXR0ZXI9SixhLndyYXBFdmVudFRhcmdldE1ldGhvZHM9RyxhLndyYXBwZXJzLkJlZm9yZVVubG9hZEV2ZW50PXosYS53cmFwcGVycy5DdXN0b21FdmVudD1kYixhLndyYXBwZXJzLkV2ZW50PXUsYS53cmFwcGVycy5FdmVudFRhcmdldD1DLGEud3JhcHBlcnMuRm9jdXNFdmVudD1pYixhLndyYXBwZXJzLk1vdXNlRXZlbnQ9aGIsYS53cmFwcGVycy5VSUV2ZW50PWNifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLGcpfWZ1bmN0aW9uIGMoKXt0aGlzLmxlbmd0aD0wLGIodGhpcyxcImxlbmd0aFwiKX1mdW5jdGlvbiBkKGEpe2lmKG51bGw9PWEpcmV0dXJuIGE7Zm9yKHZhciBiPW5ldyBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYltkXT1mKGFbZF0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZShhLGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19dmFyIGY9YS53cmFwLGc9e2VudW1lcmFibGU6ITF9O2MucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sYihjLnByb3RvdHlwZSxcIml0ZW1cIiksYS53cmFwcGVycy5Ob2RlTGlzdD1jLGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPWUsYS53cmFwTm9kZUxpc3Q9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjthLndyYXBIVE1MQ29sbGVjdGlvbj1hLndyYXBOb2RlTGlzdCxhLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uPWEud3JhcHBlcnMuTm9kZUxpc3R9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtBKGEgaW5zdGFuY2VvZiB3KX1mdW5jdGlvbiBjKGEpe3ZhciBiPW5ldyB5O3JldHVybiBiWzBdPWEsYi5sZW5ndGg9MSxifWZ1bmN0aW9uIGQoYSxiLGMpe0MoYixcImNoaWxkTGlzdFwiLHtyZW1vdmVkTm9kZXM6YyxwcmV2aW91c1NpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmcsbmV4dFNpYmxpbmc6YS5uZXh0U2libGluZ30pfWZ1bmN0aW9uIGUoYSxiKXtDKGEsXCJjaGlsZExpc3RcIix7cmVtb3ZlZE5vZGVzOmJ9KX1mdW5jdGlvbiBmKGEsYixkLGUpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZj1oKGEpO089ITA7Zm9yKHZhciBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pYS5yZW1vdmVDaGlsZChmW2ddKSxmW2ddLnBhcmVudE5vZGVfPWI7Tz0hMTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLnByZXZpb3VzU2libGluZ189ZltnLTFdfHxkLGZbZ10ubmV4dFNpYmxpbmdfPWZbZysxXXx8ZTtyZXR1cm4gZCYmKGQubmV4dFNpYmxpbmdfPWZbMF0pLGUmJihlLnByZXZpb3VzU2libGluZ189ZltmLmxlbmd0aC0xXSksZn12YXIgZj1jKGEpLGk9YS5wYXJlbnROb2RlO3JldHVybiBpJiZpLnJlbW92ZUNoaWxkKGEpLGEucGFyZW50Tm9kZV89YixhLnByZXZpb3VzU2libGluZ189ZCxhLm5leHRTaWJsaW5nXz1lLGQmJihkLm5leHRTaWJsaW5nXz1hKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWEpLGZ9ZnVuY3Rpb24gZyhhKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClyZXR1cm4gaChhKTt2YXIgYj1jKGEpLGU9YS5wYXJlbnROb2RlO3JldHVybiBlJiZkKGEsZSxiKSxifWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPW5ldyB5LGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYi5sZW5ndGg9YyxlKGEsYiksYn1mdW5jdGlvbiBpKGEpe3JldHVybiBhfWZ1bmN0aW9uIGooYSxiKXtJKGEsYiksYS5ub2RlSXNJbnNlcnRlZF8oKX1mdW5jdGlvbiBrKGEsYil7Zm9yKHZhciBjPUQoYiksZD0wO2Q8YS5sZW5ndGg7ZCsrKWooYVtkXSxjKX1mdW5jdGlvbiBsKGEpe0koYSxuZXcgeihhLG51bGwpKX1mdW5jdGlvbiBtKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWwoYVtiXSl9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubm9kZVR5cGU9PT13LkRPQ1VNRU5UX05PREU/YTphLm93bmVyRG9jdW1lbnQ7YyE9PWIub3duZXJEb2N1bWVudCYmYy5hZG9wdE5vZGUoYil9ZnVuY3Rpb24gbyhiLGMpe2lmKGMubGVuZ3RoKXt2YXIgZD1iLm93bmVyRG9jdW1lbnQ7aWYoZCE9PWNbMF0ub3duZXJEb2N1bWVudClmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylhLmFkb3B0Tm9kZU5vUmVtb3ZlKGNbZV0sZCl9fWZ1bmN0aW9uIHAoYSxiKXtvKGEsYik7dmFyIGM9Yi5sZW5ndGg7aWYoMT09PWMpcmV0dXJuIEooYlswXSk7Zm9yKHZhciBkPUooYS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksZT0wO2M+ZTtlKyspZC5hcHBlbmRDaGlsZChKKGJbZV0pKTtyZXR1cm4gZH1mdW5jdGlvbiBxKGEpe2lmKHZvaWQgMCE9PWEuZmlyc3RDaGlsZF8pZm9yKHZhciBiPWEuZmlyc3RDaGlsZF87Yjspe3ZhciBjPWI7Yj1iLm5leHRTaWJsaW5nXyxjLnBhcmVudE5vZGVfPWMucHJldmlvdXNTaWJsaW5nXz1jLm5leHRTaWJsaW5nXz12b2lkIDB9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89dm9pZCAwfWZ1bmN0aW9uIHIoYSl7aWYoYS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtiOyl7QShiLnBhcmVudE5vZGU9PT1hKTt2YXIgYz1iLm5leHRTaWJsaW5nLGQ9SihiKSxlPWQucGFyZW50Tm9kZTtlJiZWLmNhbGwoZSxkKSxiLnByZXZpb3VzU2libGluZ189Yi5uZXh0U2libGluZ189Yi5wYXJlbnROb2RlXz1udWxsLGI9Y31hLmZpcnN0Q2hpbGRfPWEubGFzdENoaWxkXz1udWxsfWVsc2UgZm9yKHZhciBjLGY9SihhKSxnPWYuZmlyc3RDaGlsZDtnOyljPWcubmV4dFNpYmxpbmcsVi5jYWxsKGYsZyksZz1jfWZ1bmN0aW9uIHMoYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfWZ1bmN0aW9uIHQoYSl7Zm9yKHZhciBiLGM9MDtjPGEubGVuZ3RoO2MrKyliPWFbY10sYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIHUoYSxiLGMpe3ZhciBkO2lmKGQ9TChjP1AuY2FsbChjLGEuaW1wbCwhMSk6US5jYWxsKGEuaW1wbCwhMSkpLGIpe2Zvcih2YXIgZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZC5hcHBlbmRDaGlsZCh1KGUsITAsYykpO2lmKGEgaW5zdGFuY2VvZiBOLkhUTUxUZW1wbGF0ZUVsZW1lbnQpZm9yKHZhciBmPWQuY29udGVudCxlPWEuY29udGVudC5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWYuYXBwZW5kQ2hpbGQodShlLCEwLGMpKX1yZXR1cm4gZH1mdW5jdGlvbiB2KGEsYil7aWYoIWJ8fEQoYSkhPT1EKGIpKXJldHVybiExO2Zvcih2YXIgYz1iO2M7Yz1jLnBhcmVudE5vZGUpaWYoYz09PWEpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdyhhKXtBKGEgaW5zdGFuY2VvZiBSKSx4LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwLHRoaXMudHJlZVNjb3BlXz12b2lkIDB9dmFyIHg9YS53cmFwcGVycy5FdmVudFRhcmdldCx5PWEud3JhcHBlcnMuTm9kZUxpc3Qsej1hLlRyZWVTY29wZSxBPWEuYXNzZXJ0LEI9YS5kZWZpbmVXcmFwR2V0dGVyLEM9YS5lbnF1ZXVlTXV0YXRpb24sRD1hLmdldFRyZWVTY29wZSxFPWEuaXNXcmFwcGVyLEY9YS5taXhpbixHPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsSD1hLnJlZ2lzdGVyV3JhcHBlcixJPWEuc2V0VHJlZVNjb3BlLEo9YS51bndyYXAsSz1hLnVud3JhcElmTmVlZGVkLEw9YS53cmFwLE09YS53cmFwSWZOZWVkZWQsTj1hLndyYXBwZXJzLE89ITEsUD1kb2N1bWVudC5pbXBvcnROb2RlLFE9d2luZG93Lk5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxSPXdpbmRvdy5Ob2RlLFM9d2luZG93LkRvY3VtZW50RnJhZ21lbnQsVD0oUi5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsUi5wcm90b3R5cGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLFU9Ui5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLFY9Ui5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsVz1SLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsWD0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxZPVg/ZnVuY3Rpb24oYSxiKXt0cnl7Vi5jYWxsKGEsYil9Y2F0Y2goYyl7aWYoIShhIGluc3RhbmNlb2YgUykpdGhyb3cgY319OmZ1bmN0aW9uKGEsYil7Vi5jYWxsKGEsYil9O3cucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeC5wcm90b3R5cGUpLEYody5wcm90b3R5cGUse2FwcGVuZENoaWxkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShhLG51bGwpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxjKXtiKGEpO3ZhciBkO2M/RShjKT9kPUooYyk6KGQ9YyxjPUwoZCkpOihjPW51bGwsZD1udWxsKSxjJiZBKGMucGFyZW50Tm9kZT09PXRoaXMpO3ZhciBlLGg9Yz9jLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZCxpPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtpZihlPWk/ZyhhKTpmKGEsdGhpcyxoLGMpLGkpbih0aGlzLGEpLHEodGhpcyksVS5jYWxsKHRoaXMuaW1wbCxKKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdKTt2YXIgaj1kP2QucGFyZW50Tm9kZTp0aGlzLmltcGw7aj9VLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBDKHRoaXMsXCJjaGlsZExpc3RcIix7YWRkZWROb2RlczplLG5leHRTaWJsaW5nOmMscHJldmlvdXNTaWJsaW5nOmh9KSxrKGUsdGhpcyksYX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSl7aWYoYihhKSxhLnBhcmVudE5vZGUhPT10aGlzKXtmb3IodmFyIGQ9ITEsZT0odGhpcy5jaGlsZE5vZGVzLHRoaXMuZmlyc3RDaGlsZCk7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZT09PWEpe2Q9ITA7YnJlYWt9aWYoIWQpdGhyb3cgbmV3IEVycm9yKFwiTm90Rm91bmRFcnJvclwiKX12YXIgZj1KKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlkoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxZKHRoaXMuaW1wbCxmKTtyZXR1cm4gT3x8Qyh0aGlzLFwiY2hpbGRMaXN0XCIse3JlbW92ZWROb2RlczpjKGEpLG5leHRTaWJsaW5nOmcscHJldmlvdXNTaWJsaW5nOmh9KSxHKHRoaXMsYSksYX0scmVwbGFjZUNoaWxkOmZ1bmN0aW9uKGEsZCl7YihhKTt2YXIgZTtpZihFKGQpP2U9SihkKTooZT1kLGQ9TChlKSksZC5wYXJlbnROb2RlIT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoXCJOb3RGb3VuZEVycm9yXCIpO3ZhciBoLGk9ZC5uZXh0U2libGluZyxqPWQucHJldmlvdXNTaWJsaW5nLG09IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFzKGEpO3JldHVybiBtP2g9ZyhhKTooaT09PWEmJihpPWEubmV4dFNpYmxpbmcpLGg9ZihhLHRoaXMsaixpKSksbT8obih0aGlzLGEpLHEodGhpcyksVy5jYWxsKHRoaXMuaW1wbCxKKGEpLGUpKToodGhpcy5maXJzdENoaWxkPT09ZCYmKHRoaXMuZmlyc3RDaGlsZF89aFswXSksdGhpcy5sYXN0Q2hpbGQ9PT1kJiYodGhpcy5sYXN0Q2hpbGRfPWhbaC5sZW5ndGgtMV0pLGQucHJldmlvdXNTaWJsaW5nXz1kLm5leHRTaWJsaW5nXz1kLnBhcmVudE5vZGVfPXZvaWQgMCxlLnBhcmVudE5vZGUmJlcuY2FsbChlLnBhcmVudE5vZGUscCh0aGlzLGgpLGUpKSxDKHRoaXMsXCJjaGlsZExpc3RcIix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCx0aGlzKSxkfSxub2RlSXNJbnNlcnRlZF86ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZUlzSW5zZXJ0ZWRfKCl9LGhhc0NoaWxkTm9kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZmlyc3RDaGlsZH0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wYXJlbnROb2RlXz90aGlzLnBhcmVudE5vZGVfOkwodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgZmlyc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmZpcnN0Q2hpbGRfP3RoaXMuZmlyc3RDaGlsZF86TCh0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpMKHRoaXMuaW1wbC5sYXN0Q2hpbGQpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5uZXh0U2libGluZ18/dGhpcy5uZXh0U2libGluZ186TCh0aGlzLmltcGwubmV4dFNpYmxpbmcpfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucHJldmlvdXNTaWJsaW5nXz90aGlzLnByZXZpb3VzU2libGluZ186TCh0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEubm9kZVR5cGUhPT13LkVMRU1FTlRfTk9ERTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgYT1cIlwiLGI9dGhpcy5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKWIubm9kZVR5cGUhPXcuQ09NTUVOVF9OT0RFJiYoYSs9Yi50ZXh0Q29udGVudCk7cmV0dXJuIGF9LHNldCB0ZXh0Q29udGVudChhKXt2YXIgYj1pKHRoaXMuY2hpbGROb2Rlcyk7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7aWYocih0aGlzKSxcIlwiIT09YSl7dmFyIGM9dGhpcy5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7dGhpcy5hcHBlbmRDaGlsZChjKX19ZWxzZSBxKHRoaXMpLHRoaXMuaW1wbC50ZXh0Q29udGVudD1hO3ZhciBkPWkodGhpcy5jaGlsZE5vZGVzKTtDKHRoaXMsXCJjaGlsZExpc3RcIix7YWRkZWROb2RlczpkLHJlbW92ZWROb2RlczpifSksbShiKSxrKGQsdGhpcyl9LGdldCBjaGlsZE5vZGVzKCl7Zm9yKHZhciBhPW5ldyB5LGI9MCxjPXRoaXMuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxjbG9uZU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHUodGhpcyxhKX0sY29udGFpbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIHYodGhpcyxNKGEpKX0sY29tcGFyZURvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIFQuY2FsbCh0aGlzLmltcGwsSyhhKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9aSh0aGlzLmNoaWxkTm9kZXMpLGQ9W10sZT1cIlwiLGY9MDtmPGMubGVuZ3RoO2YrKyliPWNbZl0sYi5ub2RlVHlwZT09PXcuVEVYVF9OT0RFP2F8fGIuZGF0YS5sZW5ndGg/YT8oZSs9Yi5kYXRhLGQucHVzaChiKSk6YT1iOnRoaXMucmVtb3ZlTm9kZShiKTooYSYmZC5sZW5ndGgmJihhLmRhdGErPWUsY2xlYW5VcE5vZGVzKGQpKSxkPVtdLGU9XCJcIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSksQih3LFwib3duZXJEb2N1bWVudFwiKSxIKFIsdyxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGRlbGV0ZSB3LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yLGRlbGV0ZSB3LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLHcucHJvdG90eXBlPUYoT2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksdy5wcm90b3R5cGUpLGEuY2xvbmVOb2RlPXUsYS5ub2RlV2FzQWRkZWQ9aixhLm5vZGVXYXNSZW1vdmVkPWwsYS5ub2Rlc1dlcmVBZGRlZD1rLGEubm9kZXNXZXJlUmVtb3ZlZD1tLGEuc25hcHNob3ROb2RlTGlzdD1pLGEud3JhcHBlcnMuTm9kZT13fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSxjKXtmb3IodmFyIGQsZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KXtpZihlLm1hdGNoZXMoYykpcmV0dXJuIGU7aWYoZD1iKGUsYykpcmV0dXJuIGQ7ZT1lLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEubWF0Y2hlcyhiKX1mdW5jdGlvbiBkKGEsYixjKXt2YXIgZD1hLmxvY2FsTmFtZTtyZXR1cm4gZD09PWJ8fGQ9PT1jJiZhLm5hbWVzcGFjZVVSST09PWx9ZnVuY3Rpb24gZSgpe3JldHVybiEwfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYS5sb2NhbE5hbWU9PT1ifWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYS5uYW1lc3BhY2VVUkk9PT1ifWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybiBhLm5hbWVzcGFjZVVSST09PWImJmEubG9jYWxOYW1lPT09Y31mdW5jdGlvbiBpKGEsYixjLGQsZSl7Zm9yKHZhciBmPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZjspYyhmLGQsZSkmJihiW2IubGVuZ3RoKytdPWYpLGkoZixiLGMsZCxlKSxmPWYubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBifXZhciBqPWEud3JhcHBlcnMuSFRNTENvbGxlY3Rpb24saz1hLndyYXBwZXJzLk5vZGVMaXN0LGw9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsbT17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBpKHRoaXMsbmV3IGssYyxhKX19LG49e2dldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBqO3JldHVyblwiKlwiPT09YT9pKHRoaXMsYixlKTppKHRoaXMsYixkLGEsYS50b0xvd2VyQ2FzZSgpKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK2EpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IGo7aWYoXCJcIj09PWEpYT1udWxsO2Vsc2UgaWYoXCIqXCI9PT1hKXJldHVyblwiKlwiPT09Yj9pKHRoaXMsYyxlKTppKHRoaXMsYyxmLGIpO3JldHVyblwiKlwiPT09Yj9pKHRoaXMsYyxnLGEpOmkodGhpcyxjLGgsYSxiKX19O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1uLGEuU2VsZWN0b3JzSW50ZXJmYWNlPW19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtmb3IoO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGF9dmFyIGQ9YS53cmFwcGVycy5Ob2RlTGlzdCxlPXtnZXQgZmlyc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYih0aGlzLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBjKHRoaXMubGFzdENoaWxkKX0sZ2V0IGNoaWxkRWxlbWVudENvdW50KCl7Zm9yKHZhciBhPTAsYj10aGlzLmZpcnN0RWxlbWVudENoaWxkO2I7Yj1iLm5leHRFbGVtZW50U2libGluZylhKys7cmV0dXJuIGF9LGdldCBjaGlsZHJlbigpe2Zvcih2YXIgYT1uZXcgZCxiPTAsYz10aGlzLmZpcnN0RWxlbWVudENoaWxkO2M7Yz1jLm5leHRFbGVtZW50U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5yZW1vdmVDaGlsZCh0aGlzKX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGM9YS5DaGlsZE5vZGVJbnRlcmZhY2UsZD1hLndyYXBwZXJzLk5vZGUsZT1hLmVucXVldWVNdXRhdGlvbixmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPXdpbmRvdy5DaGFyYWN0ZXJEYXRhO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGYoYi5wcm90b3R5cGUse2dldCB0ZXh0Q29udGVudCgpe3JldHVybiB0aGlzLmRhdGF9LHNldCB0ZXh0Q29udGVudChhKXt0aGlzLmRhdGE9YX0sZ2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5pbXBsLmRhdGF9LHNldCBkYXRhKGEpe3ZhciBiPXRoaXMuaW1wbC5kYXRhO2UodGhpcyxcImNoYXJhY3RlckRhdGFcIix7b2xkVmFsdWU6Yn0pLHRoaXMuaW1wbC5kYXRhPWF9fSksZihiLnByb3RvdHlwZSxjKSxnKGgsYixkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYT4+PjB9ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyxhKX12YXIgZD1hLndyYXBwZXJzLkNoYXJhY3RlckRhdGEsZT0oYS5lbnF1ZXVlTXV0YXRpb24sYS5taXhpbiksZj1hLnJlZ2lzdGVyV3JhcHBlcixnPXdpbmRvdy5UZXh0O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGUoYy5wcm90b3R5cGUse3NwbGl0VGV4dDpmdW5jdGlvbihhKXthPWIoYSk7dmFyIGM9dGhpcy5kYXRhO2lmKGE+Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW5kZXhTaXplRXJyb3JcIik7dmFyIGQ9Yy5zbGljZSgwLGEpLGU9Yy5zbGljZShhKTt0aGlzLmRhdGE9ZDt2YXIgZj10aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIHRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLHRoaXMubmV4dFNpYmxpbmcpLGZ9fSksZihnLGMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYixjKXt2YXIgZD1iLnBhcmVudE5vZGU7aWYoZCYmZC5zaGFkb3dSb290KXt2YXIgZT1hLmdldFJlbmRlcmVyRm9ySG9zdChkKTtlLmRlcGVuZHNPbkF0dHJpYnV0ZShjKSYmZS5pbnZhbGlkYXRlKCl9fWZ1bmN0aW9uIGMoYSxiLGMpe2soYSxcImF0dHJpYnV0ZXNcIix7bmFtZTpiLG5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOmN9KX1mdW5jdGlvbiBkKGEpe2guY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGUoYSxjLGQpe3ZhciBlPWR8fGM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFtjXX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuaW1wbFtjXT1hLGIodGhpcyxlKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX12YXIgZj1hLkNoaWxkTm9kZUludGVyZmFjZSxnPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxoPWEud3JhcHBlcnMuTm9kZSxpPWEuUGFyZW50Tm9kZUludGVyZmFjZSxqPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGs9KGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kLGEuZW5xdWV1ZU11dGF0aW9uKSxsPWEubWl4aW4sbT0oYS5vbmVPZixhLnJlZ2lzdGVyV3JhcHBlciksbj1hLndyYXBwZXJzLG89d2luZG93LkVsZW1lbnQscD1bXCJtYXRjaGVzXCIsXCJtb3pNYXRjaGVzU2VsZWN0b3JcIixcIm1zTWF0Y2hlc1NlbGVjdG9yXCIsXCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3JcIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7XCJtYXRjaGVzXCIhPT1hJiYoZC5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhhKX0pfSksby5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKGQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksZShkLnByb3RvdHlwZSxcImlkXCIpLGUoZC5wcm90b3R5cGUsXCJjbGFzc05hbWVcIixcImNsYXNzXCIpLGwoZC5wcm90b3R5cGUsZiksbChkLnByb3RvdHlwZSxnKSxsKGQucHJvdG90eXBlLGkpLGwoZC5wcm90b3R5cGUsaiksbShvLGQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG51bGwsXCJ4XCIpKSxhLm1hdGNoZXNOYW1lcz1wLGEud3JhcHBlcnMuRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2VcIiZcIjpyZXR1cm5cIiZhbXA7XCI7Y2FzZVwiPFwiOnJldHVyblwiJmx0O1wiO2Nhc2VcIj5cIjpyZXR1cm5cIiZndDtcIjtjYXNlJ1wiJzpyZXR1cm5cIiZxdW90O1wiO2Nhc2VcIsKgXCI6cmV0dXJuXCImbmJzcDtcIn19ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYS5yZXBsYWNlKHosYil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5yZXBsYWNlKEEsYil9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9e30sYz0wO2M8YS5sZW5ndGg7YysrKWJbYVtjXV09ITA7cmV0dXJuIGJ9ZnVuY3Rpb24gZihhLGIpe3N3aXRjaChhLm5vZGVUeXBlKXtjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOmZvcih2YXIgZSxmPWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGg9XCI8XCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz1cIiBcIitlLm5hbWUrJz1cIicrYyhlLnZhbHVlKSsnXCInO3JldHVybiBoKz1cIj5cIixCW2ZdP2g6aCtnKGEpK1wiPC9cIitmK1wiPlwiO2Nhc2UgTm9kZS5URVhUX05PREU6dmFyIGs9YS5kYXRhO3JldHVybiBiJiZDW2IubG9jYWxOYW1lXT9rOmQoayk7Y2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpyZXR1cm5cIjwhLS1cIithLmRhdGErXCItLT5cIjtkZWZhdWx0OnRocm93IGNvbnNvbGUuZXJyb3IoYSksbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfX1mdW5jdGlvbiBnKGEpe2EgaW5zdGFuY2VvZiB5LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJihhPWEuY29udGVudCk7Zm9yKHZhciBiPVwiXCIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fFwiZGl2XCI7YS50ZXh0Q29udGVudD1cIlwiO3ZhciBlPXcoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCkpO2UuaW5uZXJIVE1MPWI7Zm9yKHZhciBmO2Y9ZS5maXJzdENoaWxkOylhLmFwcGVuZENoaWxkKHgoZikpfWZ1bmN0aW9uIGkoYSl7by5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gaihhLGIpe3ZhciBjPXcoYS5jbG9uZU5vZGUoITEpKTtjLmlubmVySFRNTD1iO2Zvcih2YXIgZCxlPXcoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtkPWMuZmlyc3RDaGlsZDspZS5hcHBlbmRDaGlsZChkKTtyZXR1cm4geChlKX1mdW5jdGlvbiBrKGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl19fWZ1bmN0aW9uIGwoYSl7cChpLGEsayhhKSl9ZnVuY3Rpb24gbShiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7Z2V0OmsoYiksc2V0OmZ1bmN0aW9uKGMpe2EucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXT1jfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfWZ1bmN0aW9uIG4oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLGIse3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX12YXIgbz1hLndyYXBwZXJzLkVsZW1lbnQscD1hLmRlZmluZUdldHRlcixxPWEuZW5xdWV1ZU11dGF0aW9uLHI9YS5taXhpbixzPWEubm9kZXNXZXJlQWRkZWQsdD1hLm5vZGVzV2VyZVJlbW92ZWQsdT1hLnJlZ2lzdGVyV3JhcHBlcix2PWEuc25hcHNob3ROb2RlTGlzdCx3PWEudW53cmFwLHg9YS53cmFwLHk9YS53cmFwcGVycyx6PS9bJlxcdTAwQTBcIl0vZyxBPS9bJlxcdTAwQTA8Pl0vZyxCPWUoW1wiYXJlYVwiLFwiYmFzZVwiLFwiYnJcIixcImNvbFwiLFwiY29tbWFuZFwiLFwiZW1iZWRcIixcImhyXCIsXCJpbWdcIixcImlucHV0XCIsXCJrZXlnZW5cIixcImxpbmtcIixcIm1ldGFcIixcInBhcmFtXCIsXCJzb3VyY2VcIixcInRyYWNrXCIsXCJ3YnJcIl0pLEM9ZShbXCJzdHlsZVwiLFwic2NyaXB0XCIsXCJ4bXBcIixcImlmcmFtZVwiLFwibm9lbWJlZFwiLFwibm9mcmFtZXNcIixcInBsYWludGV4dFwiLFwibm9zY3JpcHRcIl0pLEQ9L01TSUUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksRT13aW5kb3cuSFRNTEVsZW1lbnQsRj13aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudDtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxyKGkucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGcodGhpcyl9LHNldCBpbm5lckhUTUwoYSl7aWYoRCYmQ1t0aGlzLmxvY2FsTmFtZV0pcmV0dXJuIHZvaWQodGhpcy50ZXh0Q29udGVudD1hKTt2YXIgYj12KHRoaXMuY2hpbGROb2Rlcyk7dGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKT90aGlzIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50P2godGhpcy5jb250ZW50LGEpOmgodGhpcyxhLHRoaXMudGFnTmFtZSk6IUYmJnRoaXMgaW5zdGFuY2VvZiB5LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6dGhpcy5pbXBsLmlubmVySFRNTD1hO3ZhciBjPXYodGhpcy5jaGlsZE5vZGVzKTtxKHRoaXMsXCJjaGlsZExpc3RcIix7YWRkZWROb2RlczpjLHJlbW92ZWROb2RlczpifSksdChiKSxzKGMsdGhpcyl9LGdldCBvdXRlckhUTUwoKXtyZXR1cm4gZih0aGlzLHRoaXMucGFyZW50Tm9kZSl9LHNldCBvdXRlckhUTUwoYSl7dmFyIGI9dGhpcy5wYXJlbnROb2RlO2lmKGIpe2IuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk7dmFyIGM9aihiLGEpO2IucmVwbGFjZUNoaWxkKGMsdGhpcyl9fSxpbnNlcnRBZGphY2VudEhUTUw6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO3N3aXRjaChTdHJpbmcoYSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiYmVmb3JlYmVnaW5cIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXM7YnJlYWs7Y2FzZVwiYWZ0ZXJlbmRcIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXMubmV4dFNpYmxpbmc7YnJlYWs7Y2FzZVwiYWZ0ZXJiZWdpblwiOmM9dGhpcyxkPXRoaXMuZmlyc3RDaGlsZDticmVhaztjYXNlXCJiZWZvcmVlbmRcIjpjPXRoaXMsZD1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBlPWooYyxiKTtjLmluc2VydEJlZm9yZShlLGQpfX0pLFtcImNsaWVudEhlaWdodFwiLFwiY2xpZW50TGVmdFwiLFwiY2xpZW50VG9wXCIsXCJjbGllbnRXaWR0aFwiLFwib2Zmc2V0SGVpZ2h0XCIsXCJvZmZzZXRMZWZ0XCIsXCJvZmZzZXRUb3BcIixcIm9mZnNldFdpZHRoXCIsXCJzY3JvbGxIZWlnaHRcIixcInNjcm9sbFdpZHRoXCJdLmZvckVhY2gobCksW1wic2Nyb2xsTGVmdFwiLFwic2Nyb2xsVG9wXCJdLmZvckVhY2gobSksW1wiZ2V0Qm91bmRpbmdDbGllbnRSZWN0XCIsXCJnZXRDbGllbnRSZWN0c1wiLFwic2Nyb2xsSW50b1ZpZXdcIl0uZm9yRWFjaChuKSx1KEUsaSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYlwiKSksYS53cmFwcGVycy5IVE1MRWxlbWVudD1pLGEuZ2V0SW5uZXJIVE1MPWcsYS5zZXRJbm5lckhUTUw9aH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLndyYXAsZz13aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0Q29udGV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5nZXRDb250ZXh0LmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpO3JldHVybiBhJiZmKGEpfX0pLGUoZyxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpLGEud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTENvbnRlbnRFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBzZWxlY3QoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJzZWxlY3RcIil9LHNldCBzZWxlY3QoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RcIixhKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7Yy5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxhLGIpLFwic2VsZWN0XCI9PT1TdHJpbmcoYSkudG9Mb3dlckNhc2UoKSYmdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoITApfX0pLGYmJmUoZixiKSxhLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhLGIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGMpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpKTtkLmNhbGwodGhpcyxlKSxnKGUsdGhpcyksdm9pZCAwIT09YSYmKGUud2lkdGg9YSksdm9pZCAwIT09YiYmKGUuaGVpZ2h0PWIpfXZhciBkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEltYWdlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxJbWFnZUVsZW1lbnQ9YixhLndyYXBwZXJzLkltYWdlPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxTaGFkb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse30pLGYmJmUoZixiKSxhLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIik7Yi5sYXN0Q2hpbGQ7KWIucmVtb3ZlQ2hpbGQoYi5sYXN0Q2hpbGQpO2suc2V0KGEsYil9cmV0dXJuIGJ9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGMsZD1iKGEub3duZXJEb2N1bWVudCksZT1oKGQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjPWEuZmlyc3RDaGlsZDspZS5hcHBlbmRDaGlsZChjKTtyZXR1cm4gZX1mdW5jdGlvbiBkKGEpe2lmKGUuY2FsbCh0aGlzLGEpLCFsKXt2YXIgYj1jKGEpO2ouc2V0KHRoaXMsaShiKSl9fXZhciBlPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD1hLnVud3JhcCxpPWEud3JhcCxqPW5ldyBXZWFrTWFwLGs9bmV3IFdlYWtNYXAsbD13aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudDtkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGQucHJvdG90eXBlLHtnZXQgY29udGVudCgpe3JldHVybiBsP2kodGhpcy5pbXBsLmNvbnRlbnQpOmouZ2V0KHRoaXMpfX0pLGwmJmcobCxkKSxhLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLnJlZ2lzdGVyV3JhcHBlcixlPXdpbmRvdy5IVE1MTWVkaWFFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoZSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGMpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7dmFyIGI9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZShcInByZWxvYWRcIixcImF1dG9cIiksdm9pZCAwIT09YSYmYi5zZXRBdHRyaWJ1dGUoXCJzcmNcIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEF1ZGlvRWxlbWVudD1iLGEud3JhcHBlcnMuQXVkaW89Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe3JldHVybiBhLnJlcGxhY2UoL1xccysvZyxcIiBcIikudHJpbSgpfWZ1bmN0aW9uIGMoYSl7ZS5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZChhLGIsYyxmKXtpZighKHRoaXMgaW5zdGFuY2VvZiBkKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSk7ZS5jYWxsKHRoaXMsZyksaChnLHRoaXMpLHZvaWQgMCE9PWEmJihnLnRleHQ9YSksdm9pZCAwIT09YiYmZy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGIpLGM9PT0hMCYmZy5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiLFwiXCIpLGcuc2VsZWN0ZWQ9Zj09PSEwfXZhciBlPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD1hLnJld3JhcCxpPWEudW53cmFwLGo9YS53cmFwLGs9d2luZG93LkhUTUxPcHRpb25FbGVtZW50O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLGYoYy5wcm90b3R5cGUse2dldCB0ZXh0KCl7cmV0dXJuIGIodGhpcy50ZXh0Q29udGVudCl9LHNldCB0ZXh0KGEpe3RoaXMudGV4dENvbnRlbnQ9YihTdHJpbmcoYSkpfSxnZXQgZm9ybSgpe3JldHVybiBqKGkodGhpcykuZm9ybSl9fSksZyhrLGMsZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSksZC5wcm90b3R5cGU9Yy5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MT3B0aW9uRWxlbWVudD1jLGEud3JhcHBlcnMuT3B0aW9uPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7XCJvYmplY3RcIj09dHlwZW9mIGImJihiPWYoYikpLGYodGhpcykuYWRkKGYoYSksYil9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT92b2lkIGMucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpOihcIm9iamVjdFwiPT10eXBlb2YgYSYmKGE9ZihhKSksdm9pZCBmKHRoaXMpLnJlbW92ZShhKSl9LGdldCBmb3JtKCl7cmV0dXJuIGcoZih0aGlzKS5mb3JtKX19KSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpKSxhLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD1hLndyYXBIVE1MQ29sbGVjdGlvbixpPXdpbmRvdy5IVE1MVGFibGVFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjYXB0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jYXB0aW9uKX0sY3JlYXRlQ2FwdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlQ2FwdGlvbigpKX0sZ2V0IHRIZWFkKCl7cmV0dXJuIGcoZih0aGlzKS50SGVhZCl9LGNyZWF0ZVRIZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVUSGVhZCgpKX0sY3JlYXRlVEZvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRGb290KCkpfSxnZXQgdEZvb3QoKXtyZXR1cm4gZyhmKHRoaXMpLnRGb290KX0sZ2V0IHRCb2RpZXMoKXtyZXR1cm4gaChmKHRoaXMpLnRCb2RpZXMpfSxjcmVhdGVUQm9keTpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEJvZHkoKSl9LGdldCByb3dzKCl7cmV0dXJuIGgoZih0aGlzKS5yb3dzKX0saW5zZXJ0Um93OmZ1bmN0aW9uKGEpe3JldHVybiBnKGYodGhpcykuaW5zZXJ0Um93KGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IHJvd3MoKXtyZXR1cm4gZihnKHRoaXMpLnJvd3MpfSxpbnNlcnRSb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZyh0aGlzKS5pbnNlcnRSb3coYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKSksYS53cmFwcGVycy5IVE1MVGFibGVTZWN0aW9uRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlUm93RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2VsbHMoKXtyZXR1cm4gZihnKHRoaXMpLmNlbGxzKX0saW5zZXJ0Q2VsbDpmdW5jdGlvbihhKXtyZXR1cm4gaChnKHRoaXMpLmluc2VydENlbGwoYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSksYS53cmFwcGVycy5IVE1MVGFibGVSb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtzd2l0Y2goYS5sb2NhbE5hbWUpe2Nhc2VcImNvbnRlbnRcIjpyZXR1cm4gbmV3IGMoYSk7Y2FzZVwic2hhZG93XCI6cmV0dXJuIG5ldyBlKGEpO2Nhc2VcInRlbXBsYXRlXCI6cmV0dXJuIG5ldyBmKGEpfWQuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LGQ9YS53cmFwcGVycy5IVE1MRWxlbWVudCxlPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsZj1hLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQsZz0oYS5taXhpbixhLnJlZ2lzdGVyV3JhcHBlciksaD13aW5kb3cuSFRNTFVua25vd25FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGcoaCxiKSxhLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO3ZhciBiPWEucmVnaXN0ZXJPYmplY3QsYz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcInRpdGxlXCIpLGU9YihkKSxmPU9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7YS53cmFwcGVycy5TVkdFbGVtZW50PWZ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXttLmNhbGwodGhpcyxhKX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEud3JhcCxnPXdpbmRvdy5TVkdVc2VFbGVtZW50LGg9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGk9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCxcImdcIikpLGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsXCJ1c2VcIiksaz1pLmNvbnN0cnVjdG9yLGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGsucHJvdG90eXBlKSxtPWwuY29uc3RydWN0b3I7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShsKSxcImluc3RhbmNlUm9vdFwiaW4gaiYmYyhiLnByb3RvdHlwZSx7Z2V0IGluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuaW5zdGFuY2VSb290KX0sZ2V0IGFuaW1hdGVkSW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5hbmltYXRlZEluc3RhbmNlUm9vdCl9fSksZChnLGIsaiksYS53cmFwcGVycy5TVkdVc2VFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTtnJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNvcnJlc3BvbmRpbmdFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdFbGVtZW50KX0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KX0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpfSxnZXQgZmlyc3RDaGlsZCgpe3JldHVybiBmKHRoaXMuaW1wbC5maXJzdENoaWxkKX0sZ2V0IGxhc3RDaGlsZCgpe3JldHVybiBmKHRoaXMuaW1wbC5sYXN0Q2hpbGQpfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIGYodGhpcy5pbXBsLnByZXZpb3VzU2libGluZyl9LGdldCBuZXh0U2libGluZygpe3JldHVybiBmKHRoaXMuaW1wbC5uZXh0U2libGluZyl9fSksZShnLGIpLGEud3JhcHBlcnMuU1ZHRWxlbWVudEluc3RhbmNlPWIpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLnVud3JhcElmTmVlZGVkLGc9YS53cmFwLGg9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGcodGhpcy5pbXBsLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1mKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmRyYXdJbWFnZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09ZShhcmd1bWVudHNbMF0pLHRoaXMuaW1wbC5jcmVhdGVQYXR0ZXJuLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX0pLGQoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIpKSxhLndyYXBwZXJzLkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ7aWYoZyl7YyhiLnByb3RvdHlwZSx7Z2V0IGNhbnZhcygpe3JldHVybiBmKHRoaXMuaW1wbC5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWUoYXJndW1lbnRzWzVdKSx0aGlzLmltcGwudGV4SW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sdGV4U3ViSW1hZ2UyRDpmdW5jdGlvbigpe2FyZ3VtZW50c1s2XT1lKGFyZ3VtZW50c1s2XSksdGhpcy5pbXBsLnRleFN1YkltYWdlMkQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSk7dmFyIGg9L1dlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT97ZHJhd2luZ0J1ZmZlckhlaWdodDpudWxsLGRyYXdpbmdCdWZmZXJXaWR0aDpudWxsfTp7fTtkKGcsYixoKSxhLndyYXBwZXJzLldlYkdMUmVuZGVyaW5nQ29udGV4dD1ifX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe3RoaXMuaW1wbD1hfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LlJhbmdlO2IucHJvdG90eXBlPXtnZXQgc3RhcnRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5jb21tb25BbmNlc3RvckNvbnRhaW5lcil9LHNldFN0YXJ0OmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldFN0YXJ0KGUoYSksYil9LHNldEVuZDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRFbmQoZShhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QmVmb3JlKGUoYSkpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEFmdGVyKGUoYSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEJlZm9yZShlKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEFmdGVyKGUoYSkpfSxzZWxlY3ROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlKGUoYSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGVDb250ZW50cyhlKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlQm91bmRhcnlQb2ludHMoYSxkKGIpKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmV4dHJhY3RDb250ZW50cygpKVxufSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lQ29udGVudHMoKSl9LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmluc2VydE5vZGUoZShhKSl9LHN1cnJvdW5kQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnN1cnJvdW5kQ29udGVudHMoZShhKSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuY2xvbmVSYW5nZSgpKX0saXNQb2ludEluUmFuZ2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmlzUG9pbnRJblJhbmdlKGUoYSksYil9LGNvbXBhcmVQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuY29tcGFyZVBvaW50KGUoYSksYil9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmltcGwuaW50ZXJzZWN0c05vZGUoZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sZy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYoYi5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGI9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGM9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGQ9YS5TZWxlY3RvcnNJbnRlcmZhY2UsZT1hLm1peGluLGY9YS5yZWdpc3Rlck9iamVjdCxnPWYoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtlKGcucHJvdG90eXBlLGMpLGUoZy5wcm90b3R5cGUsZCksZShnLnByb3RvdHlwZSxiKTt2YXIgaD1mKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikpO2Eud3JhcHBlcnMuQ29tbWVudD1oLGEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudD1nfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9ayhhLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2MuY2FsbCh0aGlzLGIpLGkoYix0aGlzKSx0aGlzLnRyZWVTY29wZV89bmV3IGQodGhpcyxnKGEpKTt2YXIgZT1hLnNoYWRvd1Jvb3Q7bS5zZXQodGhpcyxlKSxsLnNldCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudCxkPWEuVHJlZVNjb3BlLGU9YS5lbGVtZW50RnJvbVBvaW50LGY9YS5nZXRJbm5lckhUTUwsZz1hLmdldFRyZWVTY29wZSxoPWEubWl4aW4saT1hLnJld3JhcCxqPWEuc2V0SW5uZXJIVE1MLGs9YS51bndyYXAsbD1uZXcgV2Vha01hcCxtPW5ldyBXZWFrTWFwLG49L1sgXFx0XFxuXFxyXFxmXS87Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksaChiLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBmKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2oodGhpcyxhKSx0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxnZXQgb2xkZXJTaGFkb3dSb290KCl7cmV0dXJuIG0uZ2V0KHRoaXMpfHxudWxsfSxnZXQgaG9zdCgpe3JldHVybiBsLmdldCh0aGlzKXx8bnVsbH0saW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGwuZ2V0KHRoaXMpLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcyx0aGlzLm93bmVyRG9jdW1lbnQsYSxiKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4udGVzdChhKT9udWxsOnRoaXMucXVlcnlTZWxlY3RvcignW2lkPVwiJythKydcIl0nKX19KSxhLndyYXBwZXJzLlNoYWRvd1Jvb3Q9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2EucHJldmlvdXNTaWJsaW5nXz1hLnByZXZpb3VzU2libGluZyxhLm5leHRTaWJsaW5nXz1hLm5leHRTaWJsaW5nLGEucGFyZW50Tm9kZV89YS5wYXJlbnROb2RlfWZ1bmN0aW9uIGMoYSxjLGUpe3ZhciBmPUcoYSksZz1HKGMpLGg9ZT9HKGUpOm51bGw7aWYoZChjKSxiKGMpLGUpYS5maXJzdENoaWxkPT09ZSYmKGEuZmlyc3RDaGlsZF89ZSksZS5wcmV2aW91c1NpYmxpbmdfPWUucHJldmlvdXNTaWJsaW5nO2Vsc2V7YS5sYXN0Q2hpbGRfPWEubGFzdENoaWxkLGEubGFzdENoaWxkPT09YS5maXJzdENoaWxkJiYoYS5maXJzdENoaWxkXz1hLmZpcnN0Q2hpbGQpO3ZhciBpPUgoZi5sYXN0Q2hpbGQpO2kmJihpLm5leHRTaWJsaW5nXz1pLm5leHRTaWJsaW5nKX1mLmluc2VydEJlZm9yZShnLGgpfWZ1bmN0aW9uIGQoYSl7dmFyIGM9RyhhKSxkPWMucGFyZW50Tm9kZTtpZihkKXt2YXIgZT1IKGQpO2IoYSksYS5wcmV2aW91c1NpYmxpbmcmJihhLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZ189YSksYS5uZXh0U2libGluZyYmKGEubmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nXz1hKSxlLmxhc3RDaGlsZD09PWEmJihlLmxhc3RDaGlsZF89YSksZS5maXJzdENoaWxkPT09YSYmKGUuZmlyc3RDaGlsZF89YSksZC5yZW1vdmVDaGlsZChjKX19ZnVuY3Rpb24gZShhLGIpe2coYikucHVzaChhKSx4KGEsYik7dmFyIGM9Si5nZXQoYSk7Y3x8Si5zZXQoYSxjPVtdKSxjLnB1c2goYil9ZnVuY3Rpb24gZihhKXtJLnNldChhLFtdKX1mdW5jdGlvbiBnKGEpe3ZhciBiPUkuZ2V0KGEpO3JldHVybiBifHxJLnNldChhLGI9W10pLGJ9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIGkoYSxiLGMpe2Zvcih2YXIgZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYoYihkKSl7aWYoYyhkKT09PSExKXJldHVybn1lbHNlIGkoZCxiLGMpfWZ1bmN0aW9uIGooYSxiKXt2YXIgYz1iLmdldEF0dHJpYnV0ZShcInNlbGVjdFwiKTtpZighYylyZXR1cm4hMDtpZihjPWMudHJpbSgpLCFjKXJldHVybiEwO2lmKCEoYSBpbnN0YW5jZW9mIHopKXJldHVybiExO2lmKFwiKlwiPT09Y3x8Yz09PWEubG9jYWxOYW1lKXJldHVybiEwO2lmKCFNLnRlc3QoYykpcmV0dXJuITE7aWYoXCI6XCI9PT1jWzBdJiYhTi50ZXN0KGMpKXJldHVybiExO3RyeXtyZXR1cm4gYS5tYXRjaGVzKGMpfWNhdGNoKGQpe3JldHVybiExfX1mdW5jdGlvbiBrKCl7Zm9yKHZhciBhPTA7YTxQLmxlbmd0aDthKyspe3ZhciBiPVBbYV0sYz1iLnBhcmVudFJlbmRlcmVyO2MmJmMuZGlydHl8fGIucmVuZGVyKCl9UD1bXX1mdW5jdGlvbiBsKCl7eT1udWxsLGsoKX1mdW5jdGlvbiBtKGEpe3ZhciBiPUwuZ2V0KGEpO3JldHVybiBifHwoYj1uZXcgcShhKSxMLnNldChhLGIpKSxifWZ1bmN0aW9uIG4oYSl7dmFyIGI9RShhKS5yb290O3JldHVybiBiIGluc3RhbmNlb2YgRD9iOm51bGx9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gbShhLmhvc3QpfWZ1bmN0aW9uIHAoYSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1hLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBxKGEpe3RoaXMuaG9zdD1hLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShhKX1mdW5jdGlvbiByKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQX1mdW5jdGlvbiBzKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQX1mdW5jdGlvbiB0KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB1KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB2KGEpe3JldHVybiBhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24gdyhhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3Q7YztjPWMub2xkZXJTaGFkb3dSb290KWIucHVzaChjKTtyZXR1cm4gYn1mdW5jdGlvbiB4KGEsYil7Sy5zZXQoYSxiKX12YXIgeSx6PWEud3JhcHBlcnMuRWxlbWVudCxBPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEI9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxDPWEud3JhcHBlcnMuTm9kZSxEPWEud3JhcHBlcnMuU2hhZG93Um9vdCxFPShhLmFzc2VydCxhLmdldFRyZWVTY29wZSksRj0oYS5taXhpbixhLm9uZU9mKSxHPWEudW53cmFwLEg9YS53cmFwLEk9bmV3IFdlYWtNYXAsSj1uZXcgV2Vha01hcCxLPW5ldyBXZWFrTWFwLEw9bmV3IFdlYWtNYXAsTT0vXlsqLjojW2EtekEtWl98XS8sTj1uZXcgUmVnRXhwKFwiXjooXCIrW1wibGlua1wiLFwidmlzaXRlZFwiLFwidGFyZ2V0XCIsXCJlbmFibGVkXCIsXCJkaXNhYmxlZFwiLFwiY2hlY2tlZFwiLFwiaW5kZXRlcm1pbmF0ZVwiLFwibnRoLWNoaWxkXCIsXCJudGgtbGFzdC1jaGlsZFwiLFwibnRoLW9mLXR5cGVcIixcIm50aC1sYXN0LW9mLXR5cGVcIixcImZpcnN0LWNoaWxkXCIsXCJsYXN0LWNoaWxkXCIsXCJmaXJzdC1vZi10eXBlXCIsXCJsYXN0LW9mLXR5cGVcIixcIm9ubHktb2YtdHlwZVwiXS5qb2luKFwifFwiKStcIilcIiksTz1GKHdpbmRvdyxbXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIixcIm1velJlcXVlc3RBbmltYXRpb25GcmFtZVwiLFwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIsXCJzZXRUaW1lb3V0XCJdKSxQPVtdLFE9bmV3IEFycmF5U3BsaWNlO1EuZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEcoYS5ub2RlKT09PWJ9LHAucHJvdG90eXBlPXthcHBlbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IHAoYSk7cmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGIpLGJ9LHN5bmM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc2tpcCl7Zm9yKHZhciBiPXRoaXMubm9kZSxlPXRoaXMuY2hpbGROb2RlcyxmPWgoRyhiKSksZz1hfHxuZXcgV2Vha01hcCxpPVEuY2FsY3VsYXRlU3BsaWNlcyhlLGYpLGo9MCxrPTAsbD0wLG09MDttPGkubGVuZ3RoO20rKyl7Zm9yKHZhciBuPWlbbV07bDxuLmluZGV4O2wrKylrKyssZVtqKytdLnN5bmMoZyk7Zm9yKHZhciBvPW4ucmVtb3ZlZC5sZW5ndGgscD0wO28+cDtwKyspe3ZhciBxPUgoZltrKytdKTtnLmdldChxKXx8ZChxKX1mb3IodmFyIHI9bi5hZGRlZENvdW50LHM9ZltrXSYmSChmW2tdKSxwPTA7cj5wO3ArKyl7dmFyIHQ9ZVtqKytdLHU9dC5ub2RlO2MoYix1LHMpLGcuc2V0KHUsITApLHQuc3luYyhnKX1sKz1yfWZvcih2YXIgbT1sO208ZS5sZW5ndGg7bSsrKWVbbV0uc3luYyhnKX19fSxxLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlydHkpe3RoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKSx0aGlzLnRyZWVDb21wb3NpdGlvbigpO3ZhciBiPXRoaXMuaG9zdCxjPWIuc2hhZG93Um9vdDt0aGlzLmFzc29jaWF0ZU5vZGUoYik7Zm9yKHZhciBkPSFlLGU9YXx8bmV3IHAoYiksZj1jLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJOb2RlKGMsZSxmLCExKTtkJiZlLnN5bmMoKSx0aGlzLmRpcnR5PSExfX0sZ2V0IHBhcmVudFJlbmRlcmVyKCl7cmV0dXJuIEUodGhpcy5ob3N0KS5yZW5kZXJlcn0saW52YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmRpcnR5KXtpZih0aGlzLmRpcnR5PSEwLFAucHVzaCh0aGlzKSx5KXJldHVybjt5PXdpbmRvd1tPXShsLDApfX0scmVuZGVyTm9kZTpmdW5jdGlvbihhLGIsYyxkKXtpZih2KGMpKXtiPWIuYXBwZW5kKGMpO3ZhciBlPW0oYyk7ZS5kaXJ0eT0hMCxlLnJlbmRlcihiKX1lbHNlIHIoYyk/dGhpcy5yZW5kZXJJbnNlcnRpb25Qb2ludChhLGIsYyxkKTp0KGMpP3RoaXMucmVuZGVyU2hhZG93SW5zZXJ0aW9uUG9pbnQoYSxiLGMpOnRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixjLGQpfSxyZW5kZXJBc0FueURvbVRyZWU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYj1iLmFwcGVuZChjKSx2KGMpKXt2YXIgZT1tKGMpO2Iuc2tpcD0hZS5kaXJ0eSxlLnJlbmRlcihiKX1lbHNlIGZvcih2YXIgZj1jLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJOb2RlKGEsYixmLGQpfSxyZW5kZXJJbnNlcnRpb25Qb2ludDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1nKGMpO2lmKGUubGVuZ3RoKXt0aGlzLmFzc29jaWF0ZU5vZGUoYyk7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBoPWVbZl07cihoKSYmZD90aGlzLnJlbmRlckluc2VydGlvblBvaW50KGEsYixoLGQpOnRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixoLGQpfX1lbHNlIHRoaXMucmVuZGVyRmFsbGJhY2tDb250ZW50KGEsYixjKTt0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKX0scmVuZGVyU2hhZG93SW5zZXJ0aW9uUG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEub2xkZXJTaGFkb3dSb290O2lmKGQpe3goZCxjKSx0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKTtmb3IodmFyIGU9ZC5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyTm9kZShkLGIsZSwhMCl9ZWxzZSB0aGlzLnJlbmRlckZhbGxiYWNrQ29udGVudChhLGIsYyl9LHJlbmRlckZhbGxiYWNrQ29udGVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5hc3NvY2lhdGVOb2RlKGMpLHRoaXMuYXNzb2NpYXRlTm9kZShjLnBhcmVudE5vZGUpO2Zvcih2YXIgZD1jLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJBc0FueURvbVRyZWUoYSxiLGQsITEpfSxpbnZhbGlkYXRlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMuYXR0cmlidXRlcz1PYmplY3QuY3JlYXRlKG51bGwpfSx1cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlczsvXFwuXFx3Ky8udGVzdChhKSYmKGJbXCJjbGFzc1wiXT0hMCksLyNcXHcrLy50ZXN0KGEpJiYoYi5pZD0hMCksYS5yZXBsYWNlKC9cXFtcXHMqKFteXFxzPVxcfH5cXF1dKykvZyxmdW5jdGlvbihhLGMpe2JbY109ITB9KX19LGRlcGVuZHNPbkF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2FdfSxkaXN0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpKGEscyxmdW5jdGlvbihhKXtmKGEpLGMudXBkYXRlRGVwZW5kZW50QXR0cmlidXRlcyhhLmdldEF0dHJpYnV0ZShcInNlbGVjdFwiKSk7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBnPWJbZF07dm9pZCAwIT09ZyYmaihnLGEpJiYoZShnLGEpLGJbZF09dm9pZCAwKX19KX0sdHJlZUNvbXBvc2l0aW9uOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuaG9zdCxiPWEuc2hhZG93Um9vdCxjPVtdLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWlmKHIoZCkpe3ZhciBlPWcoZCk7ZSYmZS5sZW5ndGh8fChlPWgoZCkpLGMucHVzaC5hcHBseShjLGUpfWVsc2UgYy5wdXNoKGQpO2Zvcih2YXIgZixqO2I7KXtpZihmPXZvaWQgMCxpKGIsdSxmdW5jdGlvbihhKXtyZXR1cm4gZj1hLCExfSksaj1mLHRoaXMuZGlzdHJpYnV0ZShiLGMpLGope3ZhciBrPWIub2xkZXJTaGFkb3dSb290O2lmKGspe2I9ayx4KGIsaik7Y29udGludWV9YnJlYWt9YnJlYWt9fSxhc3NvY2lhdGVOb2RlOmZ1bmN0aW9uKGEpe2EuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfPXRoaXN9fSxDLnByb3RvdHlwZS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXztyZXR1cm4gYT8oYS5pbnZhbGlkYXRlKCksITApOiExfSxBLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGsoKSxnKHRoaXMpfSxCLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89QS5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPWZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYSxiPW4odGhpcyk7YiYmKGE9byhiKSksdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89YSxhJiZhLmludmFsaWRhdGUoKX0sYS5ldmVudFBhcmVudHNUYWJsZT1KLGEuZ2V0UmVuZGVyZXJGb3JIb3N0PW0sYS5nZXRTaGFkb3dUcmVlcz13LGEuaW5zZXJ0aW9uUGFyZW50VGFibGU9SyxhLnJlbmRlckFsbFBlbmRpbmc9ayxhLnZpc3VhbD17aW5zZXJ0QmVmb3JlOmMscmVtb3ZlOmR9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pfX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5hc3NlcnQsZT1hLm1peGluLGY9YS5yZWdpc3RlcldyYXBwZXIsZz1hLnVud3JhcCxoPWEud3JhcCxpPVtcIkhUTUxCdXR0b25FbGVtZW50XCIsXCJIVE1MRmllbGRTZXRFbGVtZW50XCIsXCJIVE1MSW5wdXRFbGVtZW50XCIsXCJIVE1MS2V5Z2VuRWxlbWVudFwiLFwiSFRNTExhYmVsRWxlbWVudFwiLFwiSFRNTExlZ2VuZEVsZW1lbnRcIixcIkhUTUxPYmplY3RFbGVtZW50XCIsXCJIVE1MT3V0cHV0RWxlbWVudFwiLFwiSFRNTFRleHRBcmVhRWxlbWVudFwiXTtpLmZvckVhY2goYil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX17dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuYW5jaG9yTm9kZSl9LGdldCBmb2N1c05vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuZm9jdXNOb2RlKX0sYWRkUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmFkZFJhbmdlKGQoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5jb2xsYXBzZShlKGEpLGIpfSxjb250YWluc05vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbnRhaW5zTm9kZShlKGEpLGIpfSxleHRlbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuZXh0ZW5kKGUoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmdldFJhbmdlQXQoYSkpfSxyZW1vdmVSYW5nZTpmdW5jdGlvbihhKXt0aGlzLmltcGwucmVtb3ZlUmFuZ2UoZChhKSl9LHNlbGVjdEFsbENoaWxkcmVuOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3RBbGxDaGlsZHJlbihlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxjKHdpbmRvdy5TZWxlY3Rpb24sYix3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLGEud3JhcHBlcnMuU2VsZWN0aW9uPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtrLmNhbGwodGhpcyxhKSx0aGlzLnRyZWVTY29wZV89bmV3IHAodGhpcyxudWxsKX1mdW5jdGlvbiBjKGEpe3ZhciBjPWRvY3VtZW50W2FdO2IucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIEEoYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGQoYSxiKXtELmNhbGwoYi5pbXBsLHooYSkpLGUoYSxiKX1mdW5jdGlvbiBlKGEsYil7YS5zaGFkb3dSb290JiZiLmFkb3B0Tm9kZShhLnNoYWRvd1Jvb3QpLGEgaW5zdGFuY2VvZiBvJiZmKGEsYik7Zm9yKHZhciBjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyllKGMsYil9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPWEub2xkZXJTaGFkb3dSb290O2MmJmIuYWRvcHROb2RlKGMpfWZ1bmN0aW9uIGcoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gaChhLGIpe3ZhciBjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uW2JdO2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIEEoYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX12YXIgaj1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2Usaz1hLndyYXBwZXJzLk5vZGUsbD1hLlBhcmVudE5vZGVJbnRlcmZhY2UsbT1hLndyYXBwZXJzLlNlbGVjdGlvbixuPWEuU2VsZWN0b3JzSW50ZXJmYWNlLG89YS53cmFwcGVycy5TaGFkb3dSb290LHA9YS5UcmVlU2NvcGUscT1hLmNsb25lTm9kZSxyPWEuZGVmaW5lV3JhcEdldHRlcixzPWEuZWxlbWVudEZyb21Qb2ludCx0PWEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXIsdT1hLm1hdGNoZXNOYW1lcyx2PWEubWl4aW4sdz1hLnJlZ2lzdGVyV3JhcHBlcix4PWEucmVuZGVyQWxsUGVuZGluZyx5PWEucmV3cmFwLHo9YS51bndyYXAsQT1hLndyYXAsQj1hLndyYXBFdmVudFRhcmdldE1ldGhvZHMsQz0oYS53cmFwTm9kZUxpc3QsbmV3IFdlYWtNYXApO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLHIoYixcImRvY3VtZW50RWxlbWVudFwiKSxyKGIsXCJib2R5XCIpLHIoYixcImhlYWRcIiksW1wiY3JlYXRlQ29tbWVudFwiLFwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudFwiLFwiY3JlYXRlRWxlbWVudFwiLFwiY3JlYXRlRWxlbWVudE5TXCIsXCJjcmVhdGVFdmVudFwiLFwiY3JlYXRlRXZlbnROU1wiLFwiY3JlYXRlUmFuZ2VcIixcImNyZWF0ZVRleHROb2RlXCIsXCJnZXRFbGVtZW50QnlJZFwiXS5mb3JFYWNoKGMpO3ZhciBEPWRvY3VtZW50LmFkb3B0Tm9kZSxFPWRvY3VtZW50LmdldFNlbGVjdGlvbjtpZih2KGIucHJvdG90eXBlLHthZG9wdE5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGQoYSx0aGlzKSxhfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHModGhpcyx0aGlzLGEsYil9LGltcG9ydE5vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcShhLGIsdGhpcy5pbXBsKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHgoKSxuZXcgbShFLmNhbGwoeih0aGlzKSkpfX0pLGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCl7dmFyIEY9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50O2IucHJvdG90eXBlLnJlZ2lzdGVyRWxlbWVudD1mdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGE/dm9pZCh0aGlzLmltcGw9YSk6Zj9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGYsYik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKX12YXIgZSxmO2lmKHZvaWQgMCE9PWMmJihlPWMucHJvdG90eXBlLGY9Yy5leHRlbmRzKSxlfHwoZT1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSkpLGEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGUpKXRocm93IG5ldyBFcnJvcihcIk5vdFN1cHBvcnRlZEVycm9yXCIpO2Zvcih2YXIgZyxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKSxpPVtdO2gmJiEoZz1hLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChoKSk7KWkucHVzaChoKSxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihoKTtpZighZyl0aHJvdyBuZXcgRXJyb3IoXCJOb3RTdXBwb3J0ZWRFcnJvclwiKTtmb3IodmFyIGo9T2JqZWN0LmNyZWF0ZShnKSxrPWkubGVuZ3RoLTE7az49MDtrLS0paj1PYmplY3QuY3JlYXRlKGopO1tcImNyZWF0ZWRDYWxsYmFja1wiLFwiYXR0YWNoZWRDYWxsYmFja1wiLFwiZGV0YWNoZWRDYWxsYmFja1wiLFwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZVthXTtiJiYoalthXT1mdW5jdGlvbigpe0EodGhpcylpbnN0YW5jZW9mIGR8fHkodGhpcyksYi5hcHBseShBKHRoaXMpLGFyZ3VtZW50cyl9KX0pO3ZhciBsPXtwcm90b3R5cGU6an07ZiYmKGwuZXh0ZW5kcz1mKSxkLnByb3RvdHlwZT1lLGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQsYS5jb25zdHJ1Y3RvclRhYmxlLnNldChqLGQpLGEubmF0aXZlUHJvdG90eXBlVGFibGUuc2V0KGUsaik7Ri5jYWxsKHoodGhpcyksYixsKTtyZXR1cm4gZH0sdChbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbXCJyZWdpc3RlckVsZW1lbnRcIl0pfXQoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sW1wiYXBwZW5kQ2hpbGRcIixcImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXCIsXCJjb250YWluc1wiLFwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZVwiLFwiZ2V0RWxlbWVudHNCeVRhZ05hbWVcIixcImdldEVsZW1lbnRzQnlUYWdOYW1lTlNcIixcImluc2VydEJlZm9yZVwiLFwicXVlcnlTZWxlY3RvclwiLFwicXVlcnlTZWxlY3RvckFsbFwiLFwicmVtb3ZlQ2hpbGRcIixcInJlcGxhY2VDaGlsZFwiXS5jb25jYXQodSkpLHQoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sW1wiYWRvcHROb2RlXCIsXCJpbXBvcnROb2RlXCIsXCJjb250YWluc1wiLFwiY3JlYXRlQ29tbWVudFwiLFwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudFwiLFwiY3JlYXRlRWxlbWVudFwiLFwiY3JlYXRlRWxlbWVudE5TXCIsXCJjcmVhdGVFdmVudFwiLFwiY3JlYXRlRXZlbnROU1wiLFwiY3JlYXRlUmFuZ2VcIixcImNyZWF0ZVRleHROb2RlXCIsXCJlbGVtZW50RnJvbVBvaW50XCIsXCJnZXRFbGVtZW50QnlJZFwiLFwiZ2V0U2VsZWN0aW9uXCJdKSx2KGIucHJvdG90eXBlLGopLHYoYi5wcm90b3R5cGUsbCksdihiLnByb3RvdHlwZSxuKSx2KGIucHJvdG90eXBlLHtnZXQgaW1wbGVtZW50YXRpb24oKXt2YXIgYT1DLmdldCh0aGlzKTtyZXR1cm4gYT9hOihhPW5ldyBnKHoodGhpcykuaW1wbGVtZW50YXRpb24pLEMuc2V0KHRoaXMsYSksYSl9fSksdyh3aW5kb3cuRG9jdW1lbnQsYixkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJncod2luZG93LkhUTUxEb2N1bWVudCxiKSxCKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSksaChnLFwiY3JlYXRlRG9jdW1lbnRUeXBlXCIpLGgoZyxcImNyZWF0ZURvY3VtZW50XCIpLGgoZyxcImNyZWF0ZUhUTUxEb2N1bWVudFwiKSxpKGcsXCJoYXNGZWF0dXJlXCIpLHcod2luZG93LkRPTUltcGxlbWVudGF0aW9uLGcpLHQoW3dpbmRvdy5ET01JbXBsZW1lbnRhdGlvbl0sW1wiY3JlYXRlRG9jdW1lbnRUeXBlXCIsXCJjcmVhdGVEb2N1bWVudFwiLFwiY3JlYXRlSFRNTERvY3VtZW50XCIsXCJoYXNGZWF0dXJlXCJdKSxhLmFkb3B0Tm9kZU5vUmVtb3ZlPWQsYS53cmFwcGVycy5ET01JbXBsZW1lbnRhdGlvbj1nLGEud3JhcHBlcnMuRG9jdW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLndyYXBwZXJzLlNlbGVjdGlvbixlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEucmVuZGVyQWxsUGVuZGluZyxoPWEudW53cmFwLGk9YS51bndyYXBJZk5lZWRlZCxqPWEud3JhcCxrPXdpbmRvdy5XaW5kb3csbD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxtPXdpbmRvdy5nZXRTZWxlY3Rpb247Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksay5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpKGEpLGIpfSxrLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXRTZWxlY3Rpb24sW1wiYWRkRXZlbnRMaXN0ZW5lclwiLFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLFwiZGlzcGF0Y2hFdmVudFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2sucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7dmFyIGI9aih0aGlzfHx3aW5kb3cpO3JldHVybiBiW2FdLmFwcGx5KGIsYXJndW1lbnRzKX0sZGVsZXRlIHdpbmRvd1thXX0pLGUoYi5wcm90b3R5cGUse2dldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZygpLGwuY2FsbChoKHRoaXMpLGkoYSksYil9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKCksbmV3IGQobS5jYWxsKGgodGhpcykpKX19KSxmKGssYiksYS53cmFwcGVycy5XaW5kb3c9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjt2YXIgYj1hLnVud3JhcCxjPXdpbmRvdy5EYXRhVHJhbnNmZXJ8fHdpbmRvdy5DbGlwYm9hcmQsZD1jLnByb3RvdHlwZS5zZXREcmFnSW1hZ2U7Yy5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGEsYyxlKXtkLmNhbGwodGhpcyxiKGEpLGMsZSl9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9Y1thXSxkPXdpbmRvd1tiXTtpZihkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLGY9ZS5jb25zdHJ1Y3Rvcjt3aW5kb3dbYl09Zn19dmFyIGM9KGEuaXNXcmFwcGVyRm9yLHthOlwiSFRNTEFuY2hvckVsZW1lbnRcIixhcmVhOlwiSFRNTEFyZWFFbGVtZW50XCIsYXVkaW86XCJIVE1MQXVkaW9FbGVtZW50XCIsYmFzZTpcIkhUTUxCYXNlRWxlbWVudFwiLGJvZHk6XCJIVE1MQm9keUVsZW1lbnRcIixicjpcIkhUTUxCUkVsZW1lbnRcIixidXR0b246XCJIVE1MQnV0dG9uRWxlbWVudFwiLGNhbnZhczpcIkhUTUxDYW52YXNFbGVtZW50XCIsY2FwdGlvbjpcIkhUTUxUYWJsZUNhcHRpb25FbGVtZW50XCIsY29sOlwiSFRNTFRhYmxlQ29sRWxlbWVudFwiLGNvbnRlbnQ6XCJIVE1MQ29udGVudEVsZW1lbnRcIixkYXRhOlwiSFRNTERhdGFFbGVtZW50XCIsZGF0YWxpc3Q6XCJIVE1MRGF0YUxpc3RFbGVtZW50XCIsZGVsOlwiSFRNTE1vZEVsZW1lbnRcIixkaXI6XCJIVE1MRGlyZWN0b3J5RWxlbWVudFwiLGRpdjpcIkhUTUxEaXZFbGVtZW50XCIsZGw6XCJIVE1MRExpc3RFbGVtZW50XCIsZW1iZWQ6XCJIVE1MRW1iZWRFbGVtZW50XCIsZmllbGRzZXQ6XCJIVE1MRmllbGRTZXRFbGVtZW50XCIsZm9udDpcIkhUTUxGb250RWxlbWVudFwiLGZvcm06XCJIVE1MRm9ybUVsZW1lbnRcIixmcmFtZTpcIkhUTUxGcmFtZUVsZW1lbnRcIixmcmFtZXNldDpcIkhUTUxGcmFtZVNldEVsZW1lbnRcIixoMTpcIkhUTUxIZWFkaW5nRWxlbWVudFwiLGhlYWQ6XCJIVE1MSGVhZEVsZW1lbnRcIixocjpcIkhUTUxIUkVsZW1lbnRcIixodG1sOlwiSFRNTEh0bWxFbGVtZW50XCIsaWZyYW1lOlwiSFRNTElGcmFtZUVsZW1lbnRcIixpbWc6XCJIVE1MSW1hZ2VFbGVtZW50XCIsaW5wdXQ6XCJIVE1MSW5wdXRFbGVtZW50XCIsa2V5Z2VuOlwiSFRNTEtleWdlbkVsZW1lbnRcIixsYWJlbDpcIkhUTUxMYWJlbEVsZW1lbnRcIixsZWdlbmQ6XCJIVE1MTGVnZW5kRWxlbWVudFwiLGxpOlwiSFRNTExJRWxlbWVudFwiLGxpbms6XCJIVE1MTGlua0VsZW1lbnRcIixtYXA6XCJIVE1MTWFwRWxlbWVudFwiLG1hcnF1ZWU6XCJIVE1MTWFycXVlZUVsZW1lbnRcIixtZW51OlwiSFRNTE1lbnVFbGVtZW50XCIsbWVudWl0ZW06XCJIVE1MTWVudUl0ZW1FbGVtZW50XCIsbWV0YTpcIkhUTUxNZXRhRWxlbWVudFwiLG1ldGVyOlwiSFRNTE1ldGVyRWxlbWVudFwiLG9iamVjdDpcIkhUTUxPYmplY3RFbGVtZW50XCIsb2w6XCJIVE1MT0xpc3RFbGVtZW50XCIsb3B0Z3JvdXA6XCJIVE1MT3B0R3JvdXBFbGVtZW50XCIsb3B0aW9uOlwiSFRNTE9wdGlvbkVsZW1lbnRcIixvdXRwdXQ6XCJIVE1MT3V0cHV0RWxlbWVudFwiLHA6XCJIVE1MUGFyYWdyYXBoRWxlbWVudFwiLHBhcmFtOlwiSFRNTFBhcmFtRWxlbWVudFwiLHByZTpcIkhUTUxQcmVFbGVtZW50XCIscHJvZ3Jlc3M6XCJIVE1MUHJvZ3Jlc3NFbGVtZW50XCIscTpcIkhUTUxRdW90ZUVsZW1lbnRcIixzY3JpcHQ6XCJIVE1MU2NyaXB0RWxlbWVudFwiLHNlbGVjdDpcIkhUTUxTZWxlY3RFbGVtZW50XCIsc2hhZG93OlwiSFRNTFNoYWRvd0VsZW1lbnRcIixzb3VyY2U6XCJIVE1MU291cmNlRWxlbWVudFwiLHNwYW46XCJIVE1MU3BhbkVsZW1lbnRcIixzdHlsZTpcIkhUTUxTdHlsZUVsZW1lbnRcIix0YWJsZTpcIkhUTUxUYWJsZUVsZW1lbnRcIix0Ym9keTpcIkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50XCIsdGVtcGxhdGU6XCJIVE1MVGVtcGxhdGVFbGVtZW50XCIsdGV4dGFyZWE6XCJIVE1MVGV4dEFyZWFFbGVtZW50XCIsdGhlYWQ6XCJIVE1MVGFibGVTZWN0aW9uRWxlbWVudFwiLHRpbWU6XCJIVE1MVGltZUVsZW1lbnRcIix0aXRsZTpcIkhUTUxUaXRsZUVsZW1lbnRcIix0cjpcIkhUTUxUYWJsZVJvd0VsZW1lbnRcIix0cmFjazpcIkhUTUxUcmFja0VsZW1lbnRcIix1bDpcIkhUTUxVTGlzdEVsZW1lbnRcIix2aWRlbzpcIkhUTUxWaWRlb0VsZW1lbnRcIn0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLFwid2Via2l0U2hhZG93Um9vdFwiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsXCJzaGFkb3dSb290XCIpKTt2YXIgYT1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290O0VsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q9ZnVuY3Rpb24oKXt2YXIgYj1hLmNhbGwodGhpcyk7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLndhdGNoU2hhZG93KHRoaXMpLGJ9LEVsZW1lbnQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdH0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7dmFyIGM9XCJcIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrXCJcXG5cXG5cIn0pLGJ8fChjPWMucmVwbGFjZShsLFwiXCIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiBiLnRleHRDb250ZW50PWEsYn1mdW5jdGlvbiBkKGEpe3ZhciBiPWMoYSk7ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKTt2YXIgZD1bXTtpZihiLnNoZWV0KXRyeXtkPWIuc2hlZXQuY3NzUnVsZXN9Y2F0Y2goZSl7fWVsc2UgY29uc29sZS53YXJuKFwic2hlZXQgbm90IGZvdW5kXCIsYik7cmV0dXJuIGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxkfWZ1bmN0aW9uIGUoKXt2LmluaXRpYWxpemVkPSEwLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodik7dmFyIGE9di5jb250ZW50RG9jdW1lbnQsYj1hLmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3YuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpLGEodi5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodil9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goXCJAaW1wb3J0XCIpJiZ4KXt2YXIgZz1jKGEpO2YoZnVuY3Rpb24oYSl7YS5oZWFkLmFwcGVuZENoaWxkKGcuaW1wbCksZT1nLnNoZWV0LmNzc1J1bGVzLGIoZSl9KX1lbHNlIGU9ZChhKSxiKGUpfX1mdW5jdGlvbiBoKGEpe2EmJmooKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSl9ZnVuY3Rpb24gaShhLGIpe3ZhciBkPWMoYSk7ZC5zZXRBdHRyaWJ1dGUoYixcIlwiKSxkLnNldEF0dHJpYnV0ZSh6LFwiXCIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB3fHwodz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksdy5zZXRBdHRyaWJ1dGUoeixcIlwiKSx3W3pdPSEwKSx3fXZhciBrPXtzdHJpY3RTdHlsaW5nOiExLHJlZ2lzdHJ5Ont9LHNoaW1TdHlsaW5nOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT10aGlzLnByZXBhcmVSb290KGEsYyxkKSxmPXRoaXMuaXNUeXBlRXh0ZW5zaW9uKGQpLGc9dGhpcy5tYWtlU2NvcGVTZWxlY3RvcihjLGYpLGg9YihlLCEwKTtoPXRoaXMuc2NvcGVDc3NUZXh0KGgsZyksYSYmKGEuc2hpbW1lZFN0eWxlPWgpLHRoaXMuYWRkQ3NzVG9Eb2N1bWVudChoLGMpfSxzaGltU3R5bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5zaGltQ3NzVGV4dChhLnRleHRDb250ZW50LGIpfSxzaGltQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3JldHVybiBhPXRoaXMuaW5zZXJ0RGlyZWN0aXZlcyhhKSx0aGlzLnNjb3BlQ3NzVGV4dChhLGIpfSxtYWtlU2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIpe3JldHVybiBhP2I/XCJbaXM9XCIrYStcIl1cIjphOlwiXCJ9LGlzVHlwZUV4dGVuc2lvbjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5pbmRleE9mKFwiLVwiKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RlclJvb3QoYSxiLGMpO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoZC5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoYSxkLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYiksZC5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2U+ZCYmKGM9YltkXSk7ZCsrKWMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdHJ5W2JdPXtyb290OmEsbmFtZTpiLGV4dGVuZHNOYW1lOmN9LGU9dGhpcy5maW5kU3R5bGVzKGEpO2Qucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIGYmJihkLnNjb3BlU3R5bGVzPWYuc2NvcGVTdHlsZXMuY29uY2F0KGQuc2NvcGVTdHlsZXMpKSxkfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybltdO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbChcInN0eWxlXCIpO3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYixmdW5jdGlvbihhKXtyZXR1cm4hYS5oYXNBdHRyaWJ1dGUoQSl9KX0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGIpe2EmJihBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbChcIipcIiksZnVuY3Rpb24oYSl7YS5zZXRBdHRyaWJ1dGUoYixcIlwiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKFwidGVtcGxhdGVcIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEuY29udGVudCxiKX0sdGhpcykpfSxpbnNlcnREaXJlY3RpdmVzOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuaW5zZXJ0UG9seWZpbGxEaXJlY3RpdmVzSW5Dc3NUZXh0KGEpLHRoaXMuaW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dChhKX0saW5zZXJ0UG9seWZpbGxEaXJlY3RpdmVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShtLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMikrXCJ7XCJ9KSxhLnJlcGxhY2UobixmdW5jdGlvbihhLGIpe3JldHVybiBiK1wiIHtcIn0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMSl9KSxhLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnJlcGxhY2UoYixcIlwiKS5yZXBsYWNlKGMsXCJcIik7cmV0dXJuIGQrZX0pfSxzY29wZUNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmV4dHJhY3RVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQoYSk7aWYoYT10aGlzLmluc2VydFBvbHlmaWxsSG9zdEluQ3NzVGV4dChhKSxhPXRoaXMuY29udmVydENvbG9uSG9zdChhKSxhPXRoaXMuY29udmVydENvbG9uSG9zdENvbnRleHQoYSksYT10aGlzLmNvbnZlcnRDb21iaW5hdG9ycyhhKSxiKXt2YXIgYSxkPXRoaXM7ZyhhLGZ1bmN0aW9uKGMpe2E9ZC5zY29wZVJ1bGVzKGMsYil9KX1yZXR1cm4gYT1hK1wiXFxuXCIrYyxhLnRyaW0oKX0sZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz1cIlwiO2I9cS5leGVjKGEpOyljKz1iWzFdLnNsaWNlKDAsLTEpK1wiXFxuXFxuXCI7Zm9yKDtiPXIuZXhlYyhhKTspYys9YlswXS5yZXBsYWNlKGJbMl0sXCJcIikucmVwbGFjZShiWzFdLGJbM10pK1wiXFxuXFxuXCI7cmV0dXJuIGN9LGNvbnZlcnRDb2xvbkhvc3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShhLGNzc0NvbG9uSG9zdFJlLHRoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uSG9zdENvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShhLGNzc0NvbG9uSG9zdENvbnRleHRSZSx0aGlzLmNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25SdWxlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGQsZSl7aWYoYj1wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsZCl7Zm9yKHZhciBmLGc9ZC5zcGxpdChcIixcIiksaD1bXSxpPTAsaj1nLmxlbmd0aDtqPmkmJihmPWdbaV0pO2krKylmPWYudHJpbSgpLGgucHVzaChjKGIsZixlKSk7cmV0dXJuIGguam9pbihcIixcIil9cmV0dXJuIGIrZX0pfSxjb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5tYXRjaChzKT90aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcihhLGIsYyk6YStiK2MrXCIsIFwiK2IrXCIgXCIrYStjfSxjb2xvbkhvc3RQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhK2IucmVwbGFjZShzLFwiXCIpK2N9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGNvbWJpbmF0b3JzUmUubGVuZ3RoO2IrKylhPWEucmVwbGFjZShjb21iaW5hdG9yc1JlW2JdLFwiIFwiKTtyZXR1cm4gYX0sc2NvcGVSdWxlczpmdW5jdGlvbihhLGIpe3ZhciBjPVwiXCI7cmV0dXJuIGEmJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnNlbGVjdG9yVGV4dCYmYS5zdHlsZSYmYS5zdHlsZS5jc3NUZXh0PyhjKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYix0aGlzLnN0cmljdFN0eWxpbmcpK1wiIHtcXG5cdFwiLGMrPXRoaXMucHJvcGVydGllc0Zyb21SdWxlKGEpK1wiXFxufVxcblxcblwiKTphLnR5cGU9PT1DU1NSdWxlLk1FRElBX1JVTEU/KGMrPVwiQG1lZGlhIFwiK2EubWVkaWEubWVkaWFUZXh0K1wiIHtcXG5cIixjKz10aGlzLnNjb3BlUnVsZXMoYS5jc3NSdWxlcyxiKSxjKz1cIlxcbn1cXG5cXG5cIik6YS5jc3NUZXh0JiYoYys9YS5jc3NUZXh0K1wiXFxuXFxuXCIpfSx0aGlzKSxjfSxzY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWEuc3BsaXQoXCIsXCIpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSx0aGlzLnNlbGVjdG9yTmVlZHNTY29waW5nKGEsYikmJihhPWMmJiFhLm1hdGNoKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcik/dGhpcy5hcHBseVN0cmljdFNlbGVjdG9yU2NvcGUoYSxiKTp0aGlzLmFwcGx5U2VsZWN0b3JTY29wZShhLGIpKSxkLnB1c2goYSl9LHRoaXMpLGQuam9pbihcIiwgXCIpfSxzZWxlY3Rvck5lZWRzU2NvcGluZzpmdW5jdGlvbihhLGIpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuITA7dmFyIGM9dGhpcy5tYWtlU2NvcGVNYXRjaGVyKGIpO3JldHVybiFhLm1hdGNoKGMpfSxtYWtlU2NvcGVNYXRjaGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZSgvXFxbL2csXCJcXFxcW1wiKS5yZXBsYWNlKC9cXFsvZyxcIlxcXFxdXCIpLG5ldyBSZWdFeHAoXCJeKFwiK2ErXCIpXCIrc2VsZWN0b3JSZVN1ZmZpeCxcIm1cIil9LGFwcGx5U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3JldHVybiBBcnJheS5pc0FycmF5KGIpP3RoaXMuYXBwbHlTZWxlY3RvclNjb3BlTGlzdChhLGIpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYil9LGFwcGx5U2VsZWN0b3JTY29wZUxpc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD1bXSxlPTA7Yz1iW2VdO2UrKylkLnB1c2godGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxjKSk7cmV0dXJuIGQuam9pbihcIiwgXCIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5tYXRjaChwb2x5ZmlsbEhvc3RSZSk/KGE9YS5yZXBsYWNlKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixiKSxhLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsYitcIiBcIikpOmIrXCIgXCIrYX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7Yj1iLnJlcGxhY2UoL1xcW2lzPShbXlxcXV0qKVxcXS9nLFwiJDFcIik7dmFyIGM9W1wiIFwiLFwiPlwiLFwiK1wiLFwiflwiXSxkPWEsZT1cIltcIitiK1wiXVwiO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsXCJcIik7cmV0dXJuIGImJmMuaW5kZXhPZihiKTwwJiZiLmluZGV4T2YoZSk8MCYmKGE9Yi5yZXBsYWNlKC8oW146XSopKDoqKSguKikvLFwiJDFcIitlK1wiJDIkM1wiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShjb2xvbkhvc3RDb250ZXh0UmUsdCkucmVwbGFjZShjb2xvbkhvc3RSZSxzKX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGUuY3NzVGV4dDthLnN0eWxlLmNvbnRlbnQmJiFhLnN0eWxlLmNvbnRlbnQubWF0Y2goL1snXCJdK3xhdHRyLykmJihiPWIucmVwbGFjZSgvY29udGVudDpbXjtdKjsvZyxcImNvbnRlbnQ6ICdcIithLnN0eWxlLmNvbnRlbnQrXCInO1wiKSk7dmFyIGM9YS5zdHlsZTtmb3IodmFyIGQgaW4gYylcImluaXRpYWxcIj09PWNbZF0mJihiKz1kK1wiOiBpbml0aWFsOyBcIik7cmV0dXJuIGJ9LHJlcGxhY2VUZXh0SW5TdHlsZXM6ZnVuY3Rpb24oYSxiKXthJiZiJiYoYSBpbnN0YW5jZW9mIEFycmF5fHwoYT1bYV0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnRleHRDb250ZW50PWIuY2FsbCh0aGlzLGEudGV4dENvbnRlbnQpfSx0aGlzKSl9LGFkZENzc1RvRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiKXthLm1hdGNoKFwiQGltcG9ydFwiKT9pKGEsYik6aChhKX19LGw9L1xcL1xcKlteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqXFwvL2dpbSxtPS9cXC9cXCpcXHMqQHBvbHlmaWxsIChbXipdKlxcKisoW14vKl1bXipdKlxcKispKlxcLykoW157XSo/KXsvZ2ltLG49L3BvbHlmaWxsLW5leHQtc2VsZWN0b3JbXn1dKmNvbnRlbnRcXDpbXFxzXSonKFteJ10qKSdbXn1dKn0oW157XSo/KXsvZ2ltLG89L1xcL1xcKlxcc0Bwb2x5ZmlsbC1ydWxlKFteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqKVxcLy9naW0scD0vKHBvbHlmaWxsLXJ1bGUpW159XSooY29udGVudFxcOltcXHNdKicoW14nXSopJ1teO10qOylbXn1dKn0vZ2ltLHE9L1xcL1xcKlxcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqKVxcLy9naW0scj0vKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudFxcOltcXHNdKicoW14nXSopJ1teO10qOylbXn1dKn0vZ2ltLHM9XCItc2hhZG93Y3NzaG9zdFwiLHQ9XCItc2hhZG93Y3NzY29udGV4dFwiLHU9XCIpKD86XFxcXCgoKD86XFxcXChbXikoXSpcXFxcKXxbXikoXSopKz8pXFxcXCkpPyhbXix7XSopXCI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cChcIihcIitzK3UsXCJnaW1cIiksY3NzQ29sb25Ib3N0Q29udGV4dFJlPW5ldyBSZWdFeHAoXCIoXCIrdCt1LFwiZ2ltXCIpLHNlbGVjdG9yUmVTdWZmaXg9XCIoWz5cXFxcc34rWy4sezpdW1xcXFxzXFxcXFNdKik/JFwiLGNvbG9uSG9zdFJlPS9cXDpob3N0L2dpbSxjb2xvbkhvc3RDb250ZXh0UmU9L1xcOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPXMrXCItbm8tY29tYmluYXRvclwiLHBvbHlmaWxsSG9zdFJlPW5ldyBSZWdFeHAocyxcImdpbVwiKSxwb2x5ZmlsbEhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCh0LFwiZ2ltXCIpLGNvbWJpbmF0b3JzUmU9Wy9cXF5cXF4vZywvXFxeL2csL1xcL3NoYWRvd1xcLy9nLC9cXC9zaGFkb3ctZGVlcFxcLy9nLC86OnNoYWRvdy9nLC9cXC9kZWVwXFwvL2ddO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7di5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciB3LHg9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChcIkNocm9tZVwiKSx5PVwic2hpbS1zaGFkb3dkb21cIix6PVwic2hpbS1zaGFkb3dkb20tY3NzXCIsQT1cIm5vLXNoaW1cIjtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe2goXCJzdHlsZSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxcblwiKTt2YXIgQj13cmFwKGRvY3VtZW50KSxDPUIucXVlcnlTZWxlY3RvcihcImhlYWRcIik7Qy5pbnNlcnRCZWZvcmUoaigpLEMuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmdW5jdGlvbigpe3ZhciBiPWEudXJsUmVzb2x2ZXI7aWYod2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMudXNlTmF0aXZlKXt2YXIgYz1cImxpbmtbcmVsPXN0eWxlc2hlZXRdW1wiK3krXCJdXCIsZD1cInN0eWxlW1wiK3krXCJdXCI7SFRNTEltcG9ydHMuaW1wb3J0ZXIuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzKz1cIixcIitjLEhUTUxJbXBvcnRzLmltcG9ydGVyLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzKz1cIixcIitjLEhUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycz1bSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzLGMsZF0uam9pbihcIixcIik7dmFyIGU9SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYztIVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljPWZ1bmN0aW9uKGEpe2lmKCFhW3pdKXt2YXIgYz1hLl9faW1wb3J0RWxlbWVudHx8YTtpZighYy5oYXNBdHRyaWJ1dGUoeSkpcmV0dXJuIHZvaWQgZS5jYWxsKHRoaXMsYSk7YS5fX3Jlc291cmNlPyhjPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksYy50ZXh0Q29udGVudD1iLnJlc29sdmVDc3NUZXh0KGEuX19yZXNvdXJjZSxhLmhyZWYpKTpiLnJlc29sdmVTdHlsZShjKSxjLnRleHRDb250ZW50PWsuc2hpbVN0eWxlKGMpLGMucmVtb3ZlQXR0cmlidXRlKHksXCJcIiksYy5zZXRBdHRyaWJ1dGUoeixcIlwiKSxjW3pdPSEwLGMucGFyZW50Tm9kZSE9PUMmJihhLnBhcmVudE5vZGU9PT1DP0MucmVwbGFjZUNoaWxkKGMsYSk6Qy5hcHBlbmRDaGlsZChjKSksYy5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSl9fTt2YXIgZj1IVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U7SFRNTEltcG9ydHMucGFyc2VyLmhhc1Jlc291cmNlPWZ1bmN0aW9uKGEpe3JldHVyblwibGlua1wiPT09YS5sb2NhbE5hbWUmJlwic3R5bGVzaGVldFwiPT09YS5yZWwmJmEuaGFzQXR0cmlidXRlKHkpP2EuX19yZXNvdXJjZTpmLmNhbGwodGhpcyxhKX19fSl9YS5TaGFkb3dDU1M9a30od2luZG93LlBsYXRmb3JtKSk6IWZ1bmN0aW9uKCl7d2luZG93LnRlbXBsYXRlQ29udGVudD13aW5kb3cudGVtcGxhdGVDb250ZW50fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50fSx3aW5kb3cud3JhcD13aW5kb3cudW53cmFwPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxhZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGZ1bmN0aW9uKCl7aWYoQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlPT09ITEpe3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn19fSksd2luZG93LnRlbXBsYXRlQ29udGVudD1mdW5jdGlvbihhKXtpZih3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKGEpLCFhLmNvbnRlbnQmJiFhLl9jb250ZW50KXtmb3IodmFyIGI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2EuZmlyc3RDaGlsZDspYi5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO2EuX2NvbnRlbnQ9Yn1yZXR1cm4gYS5jb250ZW50fHxhLl9jb250ZW50fX0oKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe3JldHVybiB2b2lkIDAhPT1tW2FdfWZ1bmN0aW9uIGMoKXtoLmNhbGwodGhpcyksdGhpcy5faXNJbnZhbGlkPSEwfWZ1bmN0aW9uIGQoYSl7cmV0dXJuXCJcIj09YSYmYy5jYWxsKHRoaXMpLGEudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsNjMsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGcoYSxnLGgpe2Z1bmN0aW9uIGkoYSl7dC5wdXNoKGEpfXZhciBqPWd8fFwic2NoZW1lIHN0YXJ0XCIsaz0wLGw9XCJcIixyPSExLHM9ITEsdD1bXTthOmZvcig7KGFbay0xXSE9b3x8MD09aykmJiF0aGlzLl9pc0ludmFsaWQ7KXt2YXIgdT1hW2tdO3N3aXRjaChqKXtjYXNlXCJzY2hlbWUgc3RhcnRcIjppZighdXx8IXAudGVzdCh1KSl7aWYoZyl7aShcIkludmFsaWQgc2NoZW1lLlwiKTticmVhayBhfWw9XCJcIixqPVwibm8gc2NoZW1lXCI7Y29udGludWV9bCs9dS50b0xvd2VyQ2FzZSgpLGo9XCJzY2hlbWVcIjticmVhaztjYXNlXCJzY2hlbWVcIjppZih1JiZxLnRlc3QodSkpbCs9dS50b0xvd2VyQ2FzZSgpO2Vsc2V7aWYoXCI6XCIhPXUpe2lmKGcpe2lmKG89PXUpYnJlYWsgYTtpKFwiQ29kZSBwb2ludCBub3QgYWxsb3dlZCBpbiBzY2hlbWU6IFwiK3UpO2JyZWFrIGF9bD1cIlwiLGs9MCxqPVwibm8gc2NoZW1lXCI7Y29udGludWV9aWYodGhpcy5fc2NoZW1lPWwsbD1cIlwiLGcpYnJlYWsgYTtiKHRoaXMuX3NjaGVtZSkmJih0aGlzLl9pc1JlbGF0aXZlPSEwKSxqPVwiZmlsZVwiPT10aGlzLl9zY2hlbWU/XCJyZWxhdGl2ZVwiOnRoaXMuX2lzUmVsYXRpdmUmJmgmJmguX3NjaGVtZT09dGhpcy5fc2NoZW1lP1wicmVsYXRpdmUgb3IgYXV0aG9yaXR5XCI6dGhpcy5faXNSZWxhdGl2ZT9cImF1dGhvcml0eSBmaXJzdCBzbGFzaFwiOlwic2NoZW1lIGRhdGFcIn1icmVhaztjYXNlXCJzY2hlbWUgZGF0YVwiOlwiP1wiPT11PyhxdWVyeT1cIj9cIixqPVwicXVlcnlcIik6XCIjXCI9PXU/KHRoaXMuX2ZyYWdtZW50PVwiI1wiLGo9XCJmcmFnbWVudFwiKTpvIT11JiZcIlx0XCIhPXUmJlwiXFxuXCIhPXUmJlwiXFxyXCIhPXUmJih0aGlzLl9zY2hlbWVEYXRhKz1lKHUpKTticmVhaztjYXNlXCJubyBzY2hlbWVcIjppZihoJiZiKGguX3NjaGVtZSkpe2o9XCJyZWxhdGl2ZVwiO2NvbnRpbnVlfWkoXCJNaXNzaW5nIHNjaGVtZS5cIiksYy5jYWxsKHRoaXMpO2JyZWFrO2Nhc2VcInJlbGF0aXZlIG9yIGF1dGhvcml0eVwiOmlmKFwiL1wiIT11fHxcIi9cIiE9YVtrKzFdKXtpKFwiRXhwZWN0ZWQgLywgZ290OiBcIit1KSxqPVwicmVsYXRpdmVcIjtjb250aW51ZX1qPVwiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCI7YnJlYWs7Y2FzZVwicmVsYXRpdmVcIjppZih0aGlzLl9pc1JlbGF0aXZlPSEwLFwiZmlsZVwiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9zY2hlbWU9aC5fc2NoZW1lKSxvPT11KXt0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5O2JyZWFrIGF9aWYoXCIvXCI9PXV8fFwiXFxcXFwiPT11KVwiXFxcXFwiPT11JiZpKFwiXFxcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuXCIpLGo9XCJyZWxhdGl2ZSBzbGFzaFwiO2Vsc2UgaWYoXCI/XCI9PXUpdGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT1cIj9cIixqPVwicXVlcnlcIjtlbHNle2lmKFwiI1wiIT11KXt2YXIgdj1hW2srMV0sdz1hW2srMl07KFwiZmlsZVwiIT10aGlzLl9zY2hlbWV8fCFwLnRlc3QodSl8fFwiOlwiIT12JiZcInxcIiE9dnx8byE9dyYmXCIvXCIhPXcmJlwiXFxcXFwiIT13JiZcIj9cIiE9dyYmXCIjXCIhPXcpJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9wYXRoLnBvcCgpKSxqPVwicmVsYXRpdmUgcGF0aFwiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9XCIjXCIsaj1cImZyYWdtZW50XCJ9YnJlYWs7Y2FzZVwicmVsYXRpdmUgc2xhc2hcIjppZihcIi9cIiE9dSYmXCJcXFxcXCIhPXUpe1wiZmlsZVwiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0KSxqPVwicmVsYXRpdmUgcGF0aFwiO2NvbnRpbnVlfVwiXFxcXFwiPT11JiZpKFwiXFxcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuXCIpLGo9XCJmaWxlXCI9PXRoaXMuX3NjaGVtZT9cImZpbGUgaG9zdFwiOlwiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCI7YnJlYWs7Y2FzZVwiYXV0aG9yaXR5IGZpcnN0IHNsYXNoXCI6aWYoXCIvXCIhPXUpe2koXCJFeHBlY3RlZCAnLycsIGdvdDogXCIrdSksaj1cImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiO2NvbnRpbnVlfWo9XCJhdXRob3JpdHkgc2Vjb25kIHNsYXNoXCI7YnJlYWs7Y2FzZVwiYXV0aG9yaXR5IHNlY29uZCBzbGFzaFwiOmlmKGo9XCJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXNcIixcIi9cIiE9dSl7aShcIkV4cGVjdGVkICcvJywgZ290OiBcIit1KTtjb250aW51ZX1icmVhaztjYXNlXCJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXNcIjppZihcIi9cIiE9dSYmXCJcXFxcXCIhPXUpe2o9XCJhdXRob3JpdHlcIjtjb250aW51ZX1pKFwiRXhwZWN0ZWQgYXV0aG9yaXR5LCBnb3Q6IFwiK3UpO2JyZWFrO2Nhc2VcImF1dGhvcml0eVwiOmlmKFwiQFwiPT11KXtyJiYoaShcIkAgYWxyZWFkeSBzZWVuLlwiKSxsKz1cIiU0MFwiKSxyPSEwO2Zvcih2YXIgeD0wO3g8bC5sZW5ndGg7eCsrKXt2YXIgeT1sW3hdO2lmKFwiXHRcIiE9eSYmXCJcXG5cIiE9eSYmXCJcXHJcIiE9eSlpZihcIjpcIiE9eXx8bnVsbCE9PXRoaXMuX3Bhc3N3b3JkKXt2YXIgej1lKHkpO251bGwhPT10aGlzLl9wYXNzd29yZD90aGlzLl9wYXNzd29yZCs9ejp0aGlzLl91c2VybmFtZSs9en1lbHNlIHRoaXMuX3Bhc3N3b3JkPVwiXCI7ZWxzZSBpKFwiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGF1dGhvcml0eS5cIil9bD1cIlwifWVsc2V7aWYobz09dXx8XCIvXCI9PXV8fFwiXFxcXFwiPT11fHxcIj9cIj09dXx8XCIjXCI9PXUpe2stPWwubGVuZ3RoLGw9XCJcIixqPVwiaG9zdFwiO2NvbnRpbnVlfWwrPXV9YnJlYWs7Y2FzZVwiZmlsZSBob3N0XCI6aWYobz09dXx8XCIvXCI9PXV8fFwiXFxcXFwiPT11fHxcIj9cIj09dXx8XCIjXCI9PXUpezIhPWwubGVuZ3RofHwhcC50ZXN0KGxbMF0pfHxcIjpcIiE9bFsxXSYmXCJ8XCIhPWxbMV0/MD09bC5sZW5ndGg/aj1cInJlbGF0aXZlIHBhdGggc3RhcnRcIjoodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPVwiXCIsaj1cInJlbGF0aXZlIHBhdGggc3RhcnRcIik6aj1cInJlbGF0aXZlIHBhdGhcIjtjb250aW51ZX1cIlx0XCI9PXV8fFwiXFxuXCI9PXV8fFwiXFxyXCI9PXU/aShcIkludmFsaWQgd2hpdGVzcGFjZSBpbiBmaWxlIGhvc3QuXCIpOmwrPXU7YnJlYWs7Y2FzZVwiaG9zdFwiOmNhc2VcImhvc3RuYW1lXCI6aWYoXCI6XCIhPXV8fHMpe2lmKG89PXV8fFwiL1wiPT11fHxcIlxcXFxcIj09dXx8XCI/XCI9PXV8fFwiI1wiPT11KXtpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9XCJcIixqPVwicmVsYXRpdmUgcGF0aCBzdGFydFwiLGcpYnJlYWsgYTtjb250aW51ZX1cIlx0XCIhPXUmJlwiXFxuXCIhPXUmJlwiXFxyXCIhPXU/KFwiW1wiPT11P3M9ITA6XCJdXCI9PXUmJihzPSExKSxsKz11KTppKFwiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6IFwiK3UpfWVsc2UgaWYodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPVwiXCIsaj1cInBvcnRcIixcImhvc3RuYW1lXCI9PWcpYnJlYWsgYTticmVhaztjYXNlXCJwb3J0XCI6aWYoL1swLTldLy50ZXN0KHUpKWwrPXU7ZWxzZXtpZihvPT11fHxcIi9cIj09dXx8XCJcXFxcXCI9PXV8fFwiP1wiPT11fHxcIiNcIj09dXx8Zyl7aWYoXCJcIiE9bCl7dmFyIEE9cGFyc2VJbnQobCwxMCk7QSE9bVt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1BK1wiXCIpLGw9XCJcIn1pZihnKWJyZWFrIGE7aj1cInJlbGF0aXZlIHBhdGggc3RhcnRcIjtjb250aW51ZX1cIlx0XCI9PXV8fFwiXFxuXCI9PXV8fFwiXFxyXCI9PXU/aShcIkludmFsaWQgY29kZSBwb2ludCBpbiBwb3J0OiBcIit1KTpjLmNhbGwodGhpcyl9YnJlYWs7Y2FzZVwicmVsYXRpdmUgcGF0aCBzdGFydFwiOmlmKFwiXFxcXFwiPT11JiZpKFwiJ1xcXFwnIG5vdCBhbGxvd2VkIGluIHBhdGguXCIpLGo9XCJyZWxhdGl2ZSBwYXRoXCIsXCIvXCIhPXUmJlwiXFxcXFwiIT11KWNvbnRpbnVlO2JyZWFrO2Nhc2VcInJlbGF0aXZlIHBhdGhcIjppZihvIT11JiZcIi9cIiE9dSYmXCJcXFxcXCIhPXUmJihnfHxcIj9cIiE9dSYmXCIjXCIhPXUpKVwiXHRcIiE9dSYmXCJcXG5cIiE9dSYmXCJcXHJcIiE9dSYmKGwrPWUodSkpO2Vsc2V7XCJcXFxcXCI9PXUmJmkoXCJcXFxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguXCIpO3ZhciBCOyhCPW5bbC50b0xvd2VyQ2FzZSgpXSkmJihsPUIpLFwiLi5cIj09bD8odGhpcy5fcGF0aC5wb3AoKSxcIi9cIiE9dSYmXCJcXFxcXCIhPXUmJnRoaXMuX3BhdGgucHVzaChcIlwiKSk6XCIuXCI9PWwmJlwiL1wiIT11JiZcIlxcXFxcIiE9dT90aGlzLl9wYXRoLnB1c2goXCJcIik6XCIuXCIhPWwmJihcImZpbGVcIj09dGhpcy5fc2NoZW1lJiYwPT10aGlzLl9wYXRoLmxlbmd0aCYmMj09bC5sZW5ndGgmJnAudGVzdChsWzBdKSYmXCJ8XCI9PWxbMV0mJihsPWxbMF0rXCI6XCIpLHRoaXMuX3BhdGgucHVzaChsKSksbD1cIlwiLFwiP1wiPT11Pyh0aGlzLl9xdWVyeT1cIj9cIixqPVwicXVlcnlcIik6XCIjXCI9PXUmJih0aGlzLl9mcmFnbWVudD1cIiNcIixqPVwiZnJhZ21lbnRcIil9YnJlYWs7Y2FzZVwicXVlcnlcIjpnfHxcIiNcIiE9dT9vIT11JiZcIlx0XCIhPXUmJlwiXFxuXCIhPXUmJlwiXFxyXCIhPXUmJih0aGlzLl9xdWVyeSs9Zih1KSk6KHRoaXMuX2ZyYWdtZW50PVwiI1wiLGo9XCJmcmFnbWVudFwiKTticmVhaztjYXNlXCJmcmFnbWVudFwiOm8hPXUmJlwiXHRcIiE9dSYmXCJcXG5cIiE9dSYmXCJcXHJcIiE9dSYmKHRoaXMuX2ZyYWdtZW50Kz11KX1rKyt9fWZ1bmN0aW9uIGgoKXt0aGlzLl9zY2hlbWU9XCJcIix0aGlzLl9zY2hlbWVEYXRhPVwiXCIsdGhpcy5fdXNlcm5hbWU9XCJcIix0aGlzLl9wYXNzd29yZD1udWxsLHRoaXMuX2hvc3Q9XCJcIix0aGlzLl9wb3J0PVwiXCIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT1cIlwiLHRoaXMuX2ZyYWdtZW50PVwiXCIsdGhpcy5faXNJbnZhbGlkPSExLHRoaXMuX2lzUmVsYXRpdmU9ITF9ZnVuY3Rpb24gaShhLGIpe3ZvaWQgMD09PWJ8fGIgaW5zdGFuY2VvZiBpfHwoYj1uZXcgaShTdHJpbmcoYikpKSx0aGlzLl91cmw9YSxoLmNhbGwodGhpcyk7dmFyIGM9YS5yZXBsYWNlKC9eWyBcXHRcXHJcXG5cXGZdK3xbIFxcdFxcclxcblxcZl0rJC9nLFwiXCIpO2cuY2FsbCh0aGlzLGMsbnVsbCxiKX12YXIgaj0hMTtpZighYS5mb3JjZUpVUkwpdHJ5e3ZhciBrPW5ldyBVUkwoXCJiXCIsXCJodHRwOi8vYVwiKTtqPVwiaHR0cDovL2EvYlwiPT09ay5ocmVmfWNhdGNoKGwpe31pZighail7dmFyIG09T2JqZWN0LmNyZWF0ZShudWxsKTttLmZ0cD0yMSxtLmZpbGU9MCxtLmdvcGhlcj03MCxtLmh0dHA9ODAsbS5odHRwcz00NDMsbS53cz04MCxtLndzcz00NDM7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtuW1wiJTJlXCJdPVwiLlwiLG5bXCIuJTJlXCJdPVwiLi5cIixuW1wiJTJlLlwiXT1cIi4uXCIsbltcIiUyZSUyZVwiXT1cIi4uXCI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XFwrXFwtXFwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7XG52YXIgYT1cIlwiO3JldHVybihcIlwiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/XCI6XCIrdGhpcy5fcGFzc3dvcmQ6XCJcIikrXCJAXCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/XCIvL1wiK2ErdGhpcy5ob3N0OlwiXCIpK3RoaXMucGF0aG5hbWUrdGhpcy5fcXVlcnkrdGhpcy5fZnJhZ21lbnR9LHNldCBocmVmKGEpe2guY2FsbCh0aGlzKSxnLmNhbGwodGhpcyxhKX0sZ2V0IHByb3RvY29sKCl7cmV0dXJuIHRoaXMuX3NjaGVtZStcIjpcIn0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYStcIjpcIixcInNjaGVtZSBzdGFydFwiKX0sZ2V0IGhvc3QoKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkP1wiXCI6dGhpcy5fcG9ydD90aGlzLl9ob3N0K1wiOlwiK3RoaXMuX3BvcnQ6dGhpcy5faG9zdH0sc2V0IGhvc3QoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmZy5jYWxsKHRoaXMsYSxcImhvc3RcIil9LGdldCBob3N0bmFtZSgpe3JldHVybiB0aGlzLl9ob3N0fSxzZXQgaG9zdG5hbWUoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmZy5jYWxsKHRoaXMsYSxcImhvc3RuYW1lXCIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLFwicG9ydFwiKX0sZ2V0IHBhdGhuYW1lKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD9cIlwiOnRoaXMuX2lzUmVsYXRpdmU/XCIvXCIrdGhpcy5fcGF0aC5qb2luKFwiL1wiKTp0aGlzLl9zY2hlbWVEYXRhfSxzZXQgcGF0aG5hbWUoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3BhdGg9W10sZy5jYWxsKHRoaXMsYSxcInJlbGF0aXZlIHBhdGggc3RhcnRcIikpfSxnZXQgc2VhcmNoKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZHx8IXRoaXMuX3F1ZXJ5fHxcIj9cIj09dGhpcy5fcXVlcnk/XCJcIjp0aGlzLl9xdWVyeX0sc2V0IHNlYXJjaChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiYodGhpcy5fcXVlcnk9XCI/XCIsXCI/XCI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsXCJxdWVyeVwiKSl9LGdldCBoYXNoKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZHx8IXRoaXMuX2ZyYWdtZW50fHxcIiNcIj09dGhpcy5fZnJhZ21lbnQ/XCJcIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9XCIjXCIsXCIjXCI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsXCJmcmFnbWVudFwiKSl9fSxhLlVSTD1pfX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9XCJzdHJpbmdcIj09dHlwZW9mIGE/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTphLmNsb25lTm9kZSghMCk7aWYoZC5pbm5lckhUTUw9YixjKWZvcih2YXIgZSBpbiBjKWQuc2V0QXR0cmlidXRlKGUsY1tlXSk7cmV0dXJuIGR9dmFyIGM9RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5hZGQsZD1ET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZTtET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspYy5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWQuY2FsbCh0aGlzLGFyZ3VtZW50c1thXSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGEsYil7MT09YXJndW1lbnRzLmxlbmd0aCYmKGI9IXRoaXMuY29udGFpbnMoYSkpLGI/dGhpcy5hZGQoYSk6dGhpcy5yZW1vdmUoYSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUuc3dpdGNoPWZ1bmN0aW9uKGEsYil7YSYmdGhpcy5yZW1vdmUoYSksYiYmdGhpcy5hZGQoYil9O3ZhciBlPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMpfSxmPXdpbmRvdy5OYW1lZE5vZGVNYXB8fHdpbmRvdy5Nb3pOYW1lZEF0dHJNYXB8fHt9O2lmKE5vZGVMaXN0LnByb3RvdHlwZS5hcnJheT1lLGYucHJvdG90eXBlLmFycmF5PWUsSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlLmFycmF5PWUsIXdpbmRvdy5wZXJmb3JtYW5jZSl7dmFyIGc9RGF0ZS5ub3coKTt3aW5kb3cucGVyZm9ybWFuY2U9e25vdzpmdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLWd9fX13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3ZhciBhPXdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7cmV0dXJuIGE/ZnVuY3Rpb24oYil7cmV0dXJuIGEoZnVuY3Rpb24oKXtiKHBlcmZvcm1hbmNlLm5vdygpKX0pfTpmdW5jdGlvbihhKXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoYSwxZTMvNjApfX0oKSksd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihhKXtjbGVhclRpbWVvdXQoYSl9fSgpKTt2YXIgaD1bXSxpPWZ1bmN0aW9uKCl7aC5wdXNoKGFyZ3VtZW50cyl9O3dpbmRvdy5Qb2x5bWVyPWksYS5kZWxpdmVyRGVjbGFyYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3Rocm93XCJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZVwifSxofSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmdW5jdGlvbigpe3dpbmRvdy5Qb2x5bWVyPT09aSYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9XCJpbXBvcnRcIiBocmVmPVwiY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbFwiPicpfSl9KSxhLmNyZWF0ZURPTT1ifSh3aW5kb3cuUGxhdGZvcm0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sZnVuY3Rpb24oYSl7YT1hfHwod2luZG93Lkluc3BlY3Rvcj17fSk7dmFyIGI7d2luZG93LnNpbnNwZWN0PWZ1bmN0aW9uKGEsZCl7Ynx8KGI9d2luZG93Lm9wZW4oXCJcIixcIlNoYWRvd0RPTSBJbnNwZWN0b3JcIixudWxsLCEwKSxiLmRvY3VtZW50LndyaXRlKGMpLGIuYXBpPXtzaGFkb3dpemU6c2hhZG93aXplfSksZihhfHx3cmFwKGRvY3VtZW50LmJvZHkpLGQpfTt2YXIgYz1bXCI8IURPQ1RZUEUgaHRtbD5cIixcIjxodG1sPlwiLFwiICA8aGVhZD5cIixcIiAgICA8dGl0bGU+U2hhZG93RE9NIEluc3BlY3RvcjwvdGl0bGU+XCIsXCIgICAgPHN0eWxlPlwiLFwiICAgICAgYm9keSB7XCIsXCIgICAgICB9XCIsXCIgICAgICBwcmUge1wiLCcgICAgICAgIGZvbnQ6IDlwdCBcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZTsnLFwiICAgICAgICBsaW5lLWhlaWdodDogMS41ZW07XCIsXCIgICAgICB9XCIsXCIgICAgICB0YWcge1wiLFwiICAgICAgICBjb2xvcjogcHVycGxlO1wiLFwiICAgICAgfVwiLFwiICAgICAgdWwge1wiLFwiICAgICAgICAgbWFyZ2luOiAwO1wiLFwiICAgICAgICAgcGFkZGluZzogMDtcIixcIiAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XCIsXCIgICAgICB9XCIsXCIgICAgICBsaSB7XCIsXCIgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCIsXCIgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxO1wiLFwiICAgICAgICAgcGFkZGluZzogNHB4IDZweDtcIixcIiAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcIixcIiAgICAgICAgIG1hcmdpbi1yaWdodDogNHB4O1wiLFwiICAgICAgfVwiLFwiICAgIDwvc3R5bGU+XCIsXCIgIDwvaGVhZD5cIixcIiAgPGJvZHk+XCIsJyAgICA8dWwgaWQ9XCJjcnVtYnNcIj4nLFwiICAgIDwvdWw+XCIsJyAgICA8ZGl2IGlkPVwidHJlZVwiPjwvZGl2PicsXCIgIDwvYm9keT5cIixcIjwvaHRtbD5cIl0uam9pbihcIlxcblwiKSxkPVtdLGU9ZnVuY3Rpb24oKXt2YXIgYT1iLmRvY3VtZW50LGM9YS5xdWVyeVNlbGVjdG9yKFwiI2NydW1ic1wiKTtjLnRleHRDb250ZW50PVwiXCI7Zm9yKHZhciBlLGc9MDtlPWRbZ107ZysrKXt2YXIgaD1hLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2guaHJlZj1cIiNcIixoLnRleHRDb250ZW50PWUubG9jYWxOYW1lLGguaWR4PWcsaC5vbmNsaWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYjtkLmxlbmd0aD50aGlzLmlkeDspYj1kLnBvcCgpO2YoYi5zaGFkb3d8fGIsYiksYS5wcmV2ZW50RGVmYXVsdCgpfSxjLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudChcImxpXCIpKS5hcHBlbmRDaGlsZChoKX19LGY9ZnVuY3Rpb24oYSxjKXt2YXIgZj1iLmRvY3VtZW50O2s9W107dmFyIGc9Y3x8YTtkLnB1c2goZyksZSgpLGYuYm9keS5xdWVyeVNlbGVjdG9yKFwiI3RyZWVcIikuaW5uZXJIVE1MPVwiPHByZT5cIitqKGEsYS5jaGlsZE5vZGVzKStcIjwvcHJlPlwifSxnPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksaD17U1RZTEU6MSxTQ1JJUFQ6MSxcIiNjb21tZW50XCI6MSxURU1QTEFURToxfSxpPWZ1bmN0aW9uKGEpe3JldHVybiBoW2Eubm9kZU5hbWVdfSxqPWZ1bmN0aW9uKGEsYixjKXtpZihpKGEpKXJldHVyblwiXCI7dmFyIGQ9Y3x8XCJcIjtpZihhLmxvY2FsTmFtZXx8MTE9PWEubm9kZVR5cGUpe3ZhciBlPWEubG9jYWxOYW1lfHxcInNoYWRvdy1yb290XCIsZj1kK2woYSk7XCJjb250ZW50XCI9PWUmJihiPWEuZ2V0RGlzdHJpYnV0ZWROb2RlcygpKSxmKz1cIjxici8+XCI7dmFyIGg9ZCtcIiZuYnNwOyZuYnNwO1wiO2coYixmdW5jdGlvbihhKXtmKz1qKGEsYS5jaGlsZE5vZGVzLGgpfSksZis9ZCx7YnI6MX1bZV18fChmKz1cIjx0YWc+Jmx0Oy9cIitlK1wiJmd0OzwvdGFnPlwiLGYrPVwiPGJyLz5cIil9ZWxzZXt2YXIgaz1hLnRleHRDb250ZW50LnRyaW0oKTtmPWs/ZCsnXCInK2srJ1wiPGJyLz4nOlwiXCJ9cmV0dXJuIGZ9LGs9W10sbD1mdW5jdGlvbihhKXt2YXIgYj1cIjx0YWc+Jmx0O1wiLGM9YS5sb2NhbE5hbWV8fFwic2hhZG93LXJvb3RcIjtyZXR1cm4gYS53ZWJraXRTaGFkb3dSb290fHxhLnNoYWRvd1Jvb3Q/KGIrPScgPGJ1dHRvbiBpZHg9XCInK2subGVuZ3RoKydcIiBvbmNsaWNrPVwiYXBpLnNoYWRvd2l6ZS5jYWxsKHRoaXMpXCI+JytjK1wiPC9idXR0b24+XCIsay5wdXNoKGEpKTpiKz1jfHxcInNoYWRvdy1yb290XCIsYS5hdHRyaWJ1dGVzJiZnKGEuYXR0cmlidXRlcyxmdW5jdGlvbihhKXtiKz1cIiBcIithLm5hbWUrKGEudmFsdWU/Jz1cIicrYS52YWx1ZSsnXCInOlwiXCIpfSksYis9XCImZ3Q7PC90YWc+XCJ9O3NoYWRvd2l6ZT1mdW5jdGlvbigpe3ZhciBhPU51bWJlcih0aGlzLmF0dHJpYnV0ZXMuaWR4LnZhbHVlKSxiPWtbYV07Yj9mKGIud2Via2l0U2hhZG93Um9vdHx8Yi5zaGFkb3dSb290LGIpOihjb25zb2xlLmxvZyhcImJhZCBzaGFkb3dpemUgbm9kZVwiKSxjb25zb2xlLmRpcih0aGlzKSl9LGEub3V0cHV0PWp9KHdpbmRvdy5JbnNwZWN0b3IpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2EudGV4dENvbnRlbnQ9XCJib2R5IHt0cmFuc2l0aW9uOiBvcGFjaXR5IGVhc2UtaW4gMC4yczsgfSBcXG5ib2R5W3VucmVzb2x2ZWRdIHtvcGFjaXR5OiAwOyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IGhpZGRlbjsgfSBcXG5cIjt2YXIgYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZFwiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9Ynx8W10sYi5tYXB8fChiPVtiXSksYS5hcHBseSh0aGlzLGIubWFwKGQpKX1mdW5jdGlvbiBjKGEsYyxkKXt2YXIgZTtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybjtjYXNlIDE6ZT1udWxsO2JyZWFrO2Nhc2UgMjplPWMuYXBwbHkodGhpcyk7YnJlYWs7ZGVmYXVsdDplPWIoZCxjKX1mW2FdPWV9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZlthXX1mdW5jdGlvbiBlKGEsYyl7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe2IoYyxhKX0pfXZhciBmPXt9O2EubWFyc2hhbD1kLGEubW9kdWxlPWMsYS51c2luZz1lfSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zi50ZXh0Q29udGVudD1kKyssZS5wdXNoKGEpfWZ1bmN0aW9uIGMoKXtmb3IoO2UubGVuZ3RoOyllLnNoaWZ0KCkoKX12YXIgZD0wLGU9W10sZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtuZXcod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fEpzTXV0YXRpb25PYnNlcnZlcikoYykub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSksYS5lbmRPZk1pY3JvdGFzaz1ifShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIsZCl7cmV0dXJuIGEucmVwbGFjZShkLGZ1bmN0aW9uKGEsZCxlLGYpe3ZhciBnPWUucmVwbGFjZSgvW1wiJ10vZyxcIlwiKTtyZXR1cm4gZz1jKGIsZyksZCtcIidcIitnK1wiJ1wiK2Z9KX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9bmV3IFVSTChiLGEpO3JldHVybiBkKGMuaHJlZil9ZnVuY3Rpb24gZChhKXt2YXIgYj1kb2N1bWVudC5sb2NhdGlvbixjPW5ldyBVUkwoYSxiKTtyZXR1cm4gYy5ob3N0PT09Yi5ob3N0JiZjLnBvcnQ9PT1iLnBvcnQmJmMucHJvdG9jb2w9PT1iLnByb3RvY29sP2UoYi5wYXRobmFtZSxjLnBhdGhuYW1lKTphfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGM9YS5zcGxpdChcIi9cIiksZD1iLnNwbGl0KFwiL1wiKTtjLmxlbmd0aCYmY1swXT09PWRbMF07KWMuc2hpZnQoKSxkLnNoaWZ0KCk7Zm9yKHZhciBlPTAsZj1jLmxlbmd0aC0xO2Y+ZTtlKyspZC51bnNoaWZ0KFwiLi5cIik7cmV0dXJuIGQuam9pbihcIi9cIil9dmFyIGY9e3Jlc29sdmVEb206ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLHRoaXMucmVzb2x2ZUF0dHJpYnV0ZXMoYSxiKSx0aGlzLnJlc29sdmVTdHlsZXMoYSxiKTt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZW1wbGF0ZVwiKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKylkLmNvbnRlbnQmJnRoaXMucmVzb2x2ZURvbShkLmNvbnRlbnQsYil9LHJlc29sdmVUZW1wbGF0ZTpmdW5jdGlvbihhKXt0aGlzLnJlc29sdmVEb20oYS5jb250ZW50LGEub3duZXJEb2N1bWVudC5iYXNlVVJJKX0scmVzb2x2ZVN0eWxlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbChcInN0eWxlXCIpO2lmKGMpZm9yKHZhciBkLGU9MCxmPWMubGVuZ3RoO2Y+ZSYmKGQ9Y1tlXSk7ZSsrKXRoaXMucmVzb2x2ZVN0eWxlKGQsYil9LHJlc29sdmVTdHlsZTpmdW5jdGlvbihhLGIpe2I9Ynx8YS5vd25lckRvY3VtZW50LmJhc2VVUkksYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVDc3NUZXh0KGEudGV4dENvbnRlbnQsYil9LHJlc29sdmVDc3NUZXh0OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGE9YihhLGMsZyksYihhLGMsaCl9LHJlc29sdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7YS5oYXNBdHRyaWJ1dGVzJiZhLmhhc0F0dHJpYnV0ZXMoKSYmdGhpcy5yZXNvbHZlRWxlbWVudEF0dHJpYnV0ZXMoYSxiKTt2YXIgYz1hJiZhLnF1ZXJ5U2VsZWN0b3JBbGwoaik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspdGhpcy5yZXNvbHZlRWxlbWVudEF0dHJpYnV0ZXMoZCxiKX0scmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsZCl7ZD1kfHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGYsaD1hLmF0dHJpYnV0ZXNbZV0saT1oJiZoLnZhbHVlO2kmJmkuc2VhcmNoKGspPDAmJihmPVwic3R5bGVcIj09PWU/YihpLGQsZyk6YyhkLGkpLGgudmFsdWU9Zil9KX19LGc9Lyh1cmxcXCgpKFteKV0qKShcXCkpL2csaD0vKEBpbXBvcnRbXFxzXSsoPyF1cmxcXCgpKShbXjtdKikoOykvZyxpPVtcImhyZWZcIixcInNyY1wiLFwiYWN0aW9uXCIsXCJzdHlsZVwiXSxqPVwiW1wiK2kuam9pbihcIl0sW1wiKStcIl1cIixrPVwie3suKn19XCI7YS51cmxSZXNvbHZlcj1mfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt1LnB1c2goYSksdHx8KHQ9ITAscShkKSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpfHxhfWZ1bmN0aW9uIGQoKXt0PSExO3ZhciBhPXU7dT1bXSxhLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS51aWRfLWIudWlkX30pO3ZhciBiPSExO2EuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYz1hLnRha2VSZWNvcmRzKCk7ZShhKSxjLmxlbmd0aCYmKGEuY2FsbGJhY2tfKGMsYSksYj0hMCl9KSxiJiZkKCl9ZnVuY3Rpb24gZShhKXthLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXAuZ2V0KGIpO2MmJmMuZm9yRWFjaChmdW5jdGlvbihiKXtiLm9ic2VydmVyPT09YSYmYi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX0pfSl9ZnVuY3Rpb24gZihhLGIpe2Zvcih2YXIgYz1hO2M7Yz1jLnBhcmVudE5vZGUpe3ZhciBkPXAuZ2V0KGMpO2lmKGQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0sZz1mLm9wdGlvbnM7aWYoYz09PWF8fGcuc3VidHJlZSl7dmFyIGg9YihnKTtoJiZmLmVucXVldWUoaCl9fX19ZnVuY3Rpb24gZyhhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrdn1mdW5jdGlvbiBoKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9W10sdGhpcy5yZW1vdmVkTm9kZXM9W10sdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gaShhKXt2YXIgYj1uZXcgaChhLnR5cGUsYS50YXJnZXQpO3JldHVybiBiLmFkZGVkTm9kZXM9YS5hZGRlZE5vZGVzLnNsaWNlKCksYi5yZW1vdmVkTm9kZXM9YS5yZW1vdmVkTm9kZXMuc2xpY2UoKSxiLnByZXZpb3VzU2libGluZz1hLnByZXZpb3VzU2libGluZyxiLm5leHRTaWJsaW5nPWEubmV4dFNpYmxpbmcsYi5hdHRyaWJ1dGVOYW1lPWEuYXR0cmlidXRlTmFtZSxiLmF0dHJpYnV0ZU5hbWVzcGFjZT1hLmF0dHJpYnV0ZU5hbWVzcGFjZSxiLm9sZFZhbHVlPWEub2xkVmFsdWUsYn1mdW5jdGlvbiBqKGEsYil7cmV0dXJuIHc9bmV3IGgoYSxiKX1mdW5jdGlvbiBrKGEpe3JldHVybiB4P3g6KHg9aSh3KSx4Lm9sZFZhbHVlPWEseCl9ZnVuY3Rpb24gbCgpe3c9eD12b2lkIDB9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYT09PXh8fGE9PT13fWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gYT09PWI/YTp4JiZtKGEpP3g6bnVsbH1mdW5jdGlvbiBvKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIHA9bmV3IFdlYWtNYXAscT13aW5kb3cubXNTZXRJbW1lZGlhdGU7aWYoIXEpe3ZhciByPVtdLHM9U3RyaW5nKE1hdGgucmFuZG9tKCkpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsXCIqXCIpfX12YXIgdD0hMSx1PVtdLHY9MDtnLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2lmKGE9YyhhKSwhYi5jaGlsZExpc3QmJiFiLmF0dHJpYnV0ZXMmJiFiLmNoYXJhY3RlckRhdGF8fGIuYXR0cmlidXRlT2xkVmFsdWUmJiFiLmF0dHJpYnV0ZXN8fGIuYXR0cmlidXRlRmlsdGVyJiZiLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJiFiLmF0dHJpYnV0ZXN8fGIuY2hhcmFjdGVyRGF0YU9sZFZhbHVlJiYhYi5jaGFyYWN0ZXJEYXRhKXRocm93IG5ldyBTeW50YXhFcnJvcjt2YXIgZD1wLmdldChhKTtkfHxwLnNldChhLGQ9W10pO2Zvcih2YXIgZSxmPTA7ZjxkLmxlbmd0aDtmKyspaWYoZFtmXS5vYnNlcnZlcj09PXRoaXMpe2U9ZFtmXSxlLnJlbW92ZUxpc3RlbmVycygpLGUub3B0aW9ucz1iO2JyZWFrfWV8fChlPW5ldyBvKHRoaXMsYSxiKSxkLnB1c2goZSksdGhpcy5ub2Rlc18ucHVzaChhKSksZS5hZGRMaXN0ZW5lcnMoKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7ZC5yZW1vdmVMaXN0ZW5lcnMoKSxiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX07dmFyIHcseDtvLnByb3RvdHlwZT17ZW5xdWV1ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLm9ic2VydmVyLnJlY29yZHNfLGQ9Yy5sZW5ndGg7aWYoYy5sZW5ndGg+MCl7dmFyIGU9Y1tkLTFdLGY9bihlLGEpO2lmKGYpcmV0dXJuIHZvaWQoY1tkLTFdPWYpfWVsc2UgYih0aGlzLm9ic2VydmVyKTtjW2RdPWF9LGFkZExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuYWRkTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LGFkZExpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQXR0ck1vZGlmaWVkXCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLmFkZEV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZUluc2VydGVkXCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUF0dHJNb2RpZmllZFwiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVJbnNlcnRlZFwiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NTm9kZVJlbW92ZWRcIix0aGlzLCEwKX0sYWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLmFkZExpc3RlbmVyc18oYSksdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9cC5nZXQoYSk7Ynx8cC5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdLGEuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18oYSk7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319LHRoaXMpfSxoYW5kbGVFdmVudDpmdW5jdGlvbihhKXtzd2l0Y2goYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxhLnR5cGUpe2Nhc2VcIkRPTUF0dHJNb2RpZmllZFwiOnZhciBiPWEuYXR0ck5hbWUsYz1hLnJlbGF0ZWROb2RlLm5hbWVzcGFjZVVSSSxkPWEudGFyZ2V0LGU9bmV3IGooXCJhdHRyaWJ1dGVzXCIsZCk7ZS5hdHRyaWJ1dGVOYW1lPWIsZS5hdHRyaWJ1dGVOYW1lc3BhY2U9Yzt2YXIgZz1hLmF0dHJDaGFuZ2U9PT1NdXRhdGlvbkV2ZW50LkFERElUSU9OP251bGw6YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiFhLmF0dHJpYnV0ZXN8fGEuYXR0cmlidXRlRmlsdGVyJiZhLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihiKSYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGMpP3ZvaWQgMDphLmF0dHJpYnV0ZU9sZFZhbHVlP2soZyk6ZX0pO2JyZWFrO2Nhc2VcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiOnZhciBkPWEudGFyZ2V0LGU9aihcImNoYXJhY3RlckRhdGFcIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlXCJET01Ob2RlUmVtb3ZlZFwiOnRoaXMuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYS50YXJnZXQpO2Nhc2VcIkRPTU5vZGVJbnNlcnRlZFwiOnZhciBoLGksZD1hLnJlbGF0ZWROb2RlLG09YS50YXJnZXQ7XCJET01Ob2RlSW5zZXJ0ZWRcIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooXCJjaGlsZExpc3RcIixkKTtlLmFkZGVkTm9kZXM9aCxlLnJlbW92ZWROb2Rlcz1pLGUucHJldmlvdXNTaWJsaW5nPW4sZS5uZXh0U2libGluZz1vLGYoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGlsZExpc3Q/ZTp2b2lkIDB9KX1sKCl9fSxhLkpzTXV0YXRpb25PYnNlcnZlcj1nLGEuTXV0YXRpb25PYnNlcnZlcnx8KGEuTXV0YXRpb25PYnNlcnZlcj1nKX0odGhpcyksd2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXt2YXIgYj0oYS5wYXRoLGEueGhyKSxjPWEuZmxhZ3MsZD1mdW5jdGlvbihhLGIpe3RoaXMuY2FjaGU9e30sdGhpcy5vbmxvYWQ9YSx0aGlzLm9uY29tcGxldGU9Yix0aGlzLmluZmxpZ2h0PTAsdGhpcy5wZW5kaW5nPXt9fTtkLnByb3RvdHlwZT17YWRkTm9kZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCs9YS5sZW5ndGg7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKXRoaXMucmVxdWlyZShiKTt0aGlzLmNoZWNrRG9uZSgpfSxhZGROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrKyx0aGlzLnJlcXVpcmUoYSksdGhpcy5jaGVja0RvbmUoKX0scmVxdWlyZTpmdW5jdGlvbihhKXt2YXIgYj1hLnNyY3x8YS5ocmVmO2EuX19ub2RlVXJsPWIsdGhpcy5kZWR1cGUoYixhKXx8dGhpcy5mZXRjaChiLGEpfSxkZWR1cGU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnBlbmRpbmdbYV0pcmV0dXJuIHRoaXMucGVuZGluZ1thXS5wdXNoKGIpLCEwO3JldHVybiB0aGlzLmNhY2hlW2FdPyh0aGlzLm9ubG9hZChhLGIsdGhpcy5jYWNoZVthXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbYV09W2JdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oYSxkKXtpZihjLmxvYWQmJmNvbnNvbGUubG9nKFwiZmV0Y2hcIixhLGQpLGEubWF0Y2goL15kYXRhOi8pKXt2YXIgZT1hLnNwbGl0KFwiLFwiKSxmPWVbMF0sZz1lWzFdO2c9Zi5pbmRleE9mKFwiO2Jhc2U2NFwiKT4tMT9hdG9iKGcpOmRlY29kZVVSSUNvbXBvbmVudChnKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5yZWNlaXZlKGEsZCxudWxsLGcpfS5iaW5kKHRoaXMpLDApfWVsc2V7dmFyIGg9ZnVuY3Rpb24oYixjKXt0aGlzLnJlY2VpdmUoYSxkLGIsYyl9LmJpbmQodGhpcyk7Yi5sb2FkKGEsaCl9fSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGUsZj10aGlzLnBlbmRpbmdbYV0sZz0wLGg9Zi5sZW5ndGg7aD5nJiYoZT1mW2ddKTtnKyspdGhpcy5vbmxvYWQoYSxlLGQpLHRoaXMudGFpbCgpO3RoaXMucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX0sYj1ifHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihjLGQsZSl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYys9XCI/XCIrTWF0aC5yYW5kb20oKSksZi5vcGVuKFwiR0VUXCIsYyxiLmFzeW5jKSxmLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsZnVuY3Rpb24oKXs0PT09Zi5yZWFkeVN0YXRlJiZkLmNhbGwoZSwhYi5vayhmKSYmZixmLnJlc3BvbnNlfHxmLnJlc3BvbnNlVGV4dCxjKX0pLGYuc2VuZCgpLGZ9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9XCJkb2N1bWVudFwifX0sYS54aHI9YixhLkxvYWRlcj1kfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuXCJsaW5rXCI9PT1hLmxvY2FsTmFtZSYmYS5yZWw9PT1nfWZ1bmN0aW9uIGMoYSl7dmFyIGIsYz1kKGEpO3RyeXtiPWJ0b2EoYyl9Y2F0Y2goZSl7Yj1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChjKSkpLGNvbnNvbGUud2FybihcIlNjcmlwdCBjb250YWluZWQgbm9uLWxhdGluIGNoYXJhY3RlcnMgdGhhdCB3ZXJlIGZvcmNlZCB0byBsYXRpbi4gU29tZSBjaGFyYWN0ZXJzIG1heSBiZSB3cm9uZy5cIixhKX1yZXR1cm5cImRhdGE6dGV4dC9qYXZhc2NyaXB0O2Jhc2U2NCxcIitifWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudGV4dENvbnRlbnQrZShhKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuX19ub2RlVXJsO2lmKCFiKXtiPWEub3duZXJEb2N1bWVudC5iYXNlVVJJO3ZhciBjPVwiW1wiK01hdGguZmxvb3IoMWUzKihNYXRoLnJhbmRvbSgpKzEpKStcIl1cIixkPWEudGV4dENvbnRlbnQubWF0Y2goL1BvbHltZXJcXChbJ1wiXShbXidcIl0qKS8pO2M9ZCYmZFsxXXx8YyxiKz1cIi9cIitjK1wiLmpzXCJ9cmV0dXJuXCJcXG4vLyMgc291cmNlVVJMPVwiK2IrXCJcXG5cIn1mdW5jdGlvbiBmKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIGIudGV4dENvbnRlbnQ9YS50ZXh0Q29udGVudCxuLnJlc29sdmVVcmxzSW5TdHlsZShiKSxifXZhciBnPVwiaW1wb3J0XCIsaD1hLmZsYWdzLGk9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksaj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaz17ZG9jdW1lbnRTZWxlY3RvcnM6XCJsaW5rW3JlbD1cIitnK1wiXVwiLGltcG9ydHNTZWxlY3RvcnM6W1wibGlua1tyZWw9XCIrZytcIl1cIixcImxpbmtbcmVsPXN0eWxlc2hlZXRdXCIsXCJzdHlsZVwiLFwic2NyaXB0Om5vdChbdHlwZV0pXCIsJ3NjcmlwdFt0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCJdJ10uam9pbihcIixcIiksbWFwOntsaW5rOlwicGFyc2VMaW5rXCIsc2NyaXB0OlwicGFyc2VTY3JpcHRcIixzdHlsZTpcInBhcnNlU3R5bGVcIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoaC5wYXJzZSYmY29uc29sZS5sb2coXCJbJXNdIGlzIGFscmVhZHkgcGFyc2VkXCIsYS5sb2NhbE5hbWUpKTt2YXIgYj10aGlzW3RoaXMubWFwW2EubG9jYWxOYW1lXV07YiYmKHRoaXMubWFya1BhcnNpbmcoYSksYi5jYWxsKHRoaXMsYSkpfSxtYXJrUGFyc2luZzpmdW5jdGlvbihhKXtoLnBhcnNlJiZjb25zb2xlLmxvZyhcInBhcnNpbmdcIixhKSx0aGlzLnBhcnNpbmdFbGVtZW50PWF9LG1hcmtQYXJzaW5nQ29tcGxldGU6ZnVuY3Rpb24oYSl7YS5fX2ltcG9ydFBhcnNlZD0hMCxhLl9faW1wb3J0RWxlbWVudCYmKGEuX19pbXBvcnRFbGVtZW50Ll9faW1wb3J0UGFyc2VkPSEwKSx0aGlzLnBhcnNpbmdFbGVtZW50PW51bGwsaC5wYXJzZSYmY29uc29sZS5sb2coXCJjb21wbGV0ZWRcIixhKSx0aGlzLnBhcnNlTmV4dCgpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXtpZihhLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCxIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayYmSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2soYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZT9uZXcgQ3VzdG9tRXZlbnQoXCJsb2FkXCIse2J1YmJsZXM6ITF9KTpuZXcgQ3VzdG9tRXZlbnQoXCJlcnJvclwiLHtidWJibGVzOiExfSkpLGEuX19wZW5kaW5nKWZvcih2YXIgYjthLl9fcGVuZGluZy5sZW5ndGg7KWI9YS5fX3BlbmRpbmcuc2hpZnQoKSxiJiZiKHt0YXJnZXQ6YX0pO3RoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSk/dGhpcy5wYXJzZUltcG9ydChhKTooYS5ocmVmPWEuaHJlZix0aGlzLnBhcnNlR2VuZXJpYyhhKSl9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YTthPWYoYSksYS5fX2ltcG9ydEVsZW1lbnQ9Yix0aGlzLnBhcnNlR2VuZXJpYyhhKX0scGFyc2VHZW5lcmljOmZ1bmN0aW9uKGEpe3RoaXMudHJhY2tFbGVtZW50KGEpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYSl9LHRyYWNrRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1mdW5jdGlvbihkKXtiJiZiKGQpLGMubWFya1BhcnNpbmdDb21wbGV0ZShhKX07aWYoYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZCksaSYmXCJzdHlsZVwiPT09YS5sb2NhbE5hbWUpe3ZhciBlPSExO2lmKC0xPT1hLnRleHRDb250ZW50LmluZGV4T2YoXCJAaW1wb3J0XCIpKWU9ITA7ZWxzZSBpZihhLnNoZWV0KXtlPSEwO2Zvcih2YXIgZixnPWEuc2hlZXQuY3NzUnVsZXMsaD1nP2cubGVuZ3RoOjAsaj0wO2g+aiYmKGY9Z1tqXSk7aisrKWYudHlwZT09PUNTU1J1bGUuSU1QT1JUX1JVTEUmJihlPWUmJkJvb2xlYW4oZi5zdHlsZVNoZWV0KSl9ZSYmYS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImxvYWRcIix7YnViYmxlczohMX0pKX19LHBhcnNlU2NyaXB0OmZ1bmN0aW9uKGIpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ZC5fX2ltcG9ydEVsZW1lbnQ9YixkLnNyYz1iLnNyYz9iLnNyYzpjKGIpLGEuY3VycmVudFNjcmlwdD1iLHRoaXMudHJhY2tFbGVtZW50KGQsZnVuY3Rpb24oKXtkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksYS5jdXJyZW50U2NyaXB0PW51bGx9KSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGQpfSxuZXh0VG9QYXJzZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLnBhcnNpbmdFbGVtZW50JiZ0aGlzLm5leHRUb1BhcnNlSW5Eb2Moail9LG5leHRUb1BhcnNlSW5Eb2M6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQsZT1hLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5wYXJzZVNlbGVjdG9yc0Zvck5vZGUoYSkpLGY9MCxnPWUubGVuZ3RoO2c+ZiYmKGQ9ZVtmXSk7ZisrKWlmKCF0aGlzLmlzUGFyc2VkKGQpKXJldHVybiB0aGlzLmhhc1Jlc291cmNlKGQpP2IoZCk/dGhpcy5uZXh0VG9QYXJzZUluRG9jKGQuaW1wb3J0LGQpOmQ6dm9pZCAwO3JldHVybiBjfSxwYXJzZVNlbGVjdG9yc0Zvck5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50fHxhO3JldHVybiBiPT09aj90aGlzLmRvY3VtZW50U2VsZWN0b3JzOnRoaXMuaW1wb3J0c1NlbGVjdG9yc30saXNQYXJzZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuX19pbXBvcnRQYXJzZWR9LGhhc1Jlc291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiBiKGEpJiYhYS5pbXBvcnQ/ITE6ITB9fSxsPS8odXJsXFwoKShbXildKikoXFwpKS9nLG09LyhAaW1wb3J0W1xcc10rKD8hdXJsXFwoKSkoW147XSopKDspL2csbj17cmVzb2x2ZVVybHNJblN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudCxjPWIuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIGEudGV4dENvbnRlbnQ9dGhpcy5yZXNvbHZlVXJsc0luQ3NzVGV4dChhLnRleHRDb250ZW50LGMpLGF9LHJlc29sdmVVcmxzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZXBsYWNlVXJscyhhLGIsbCk7cmV0dXJuIGM9dGhpcy5yZXBsYWNlVXJscyhjLGIsbSl9LHJlcGxhY2VVcmxzOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZXBsYWNlKGMsZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGY9ZC5yZXBsYWNlKC9bXCInXS9nLFwiXCIpO3JldHVybiBiLmhyZWY9ZixmPWIuaHJlZixjK1wiJ1wiK2YrXCInXCIrZX0pfX07YS5wYXJzZXI9ayxhLnBhdGg9bixhLmlzSUU9aX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGMoYSxtKX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuXCJsaW5rXCI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoXCJyZWxcIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KG0pKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpO2Quc2V0QXR0cmlidXRlKFwiaHJlZlwiLGIpLGMuYmFzZVVSSXx8KGMuYmFzZVVSST1iKTt2YXIgZT1jLmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIpO3JldHVybiBlLnNldEF0dHJpYnV0ZShcImNoYXJzZXRcIixcInV0Zi04XCIpLGMuaGVhZC5hcHBlbmRDaGlsZChlKSxjLmhlYWQuYXBwZW5kQ2hpbGQoZCksYSBpbnN0YW5jZW9mIERvY3VtZW50fHwoYy5ib2R5LmlubmVySFRNTD1hKSx3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKGMpLGN9ZnVuY3Rpb24gZShhLGIpe2I9Ynx8bixnKGZ1bmN0aW9uKCl7aChhLGIpfSxiKX1mdW5jdGlvbiBmKGEpe3JldHVyblwiY29tcGxldGVcIj09PWEucmVhZHlTdGF0ZXx8YS5yZWFkeVN0YXRlPT09dX1mdW5jdGlvbiBnKGEsYil7aWYoZihiKSlhJiZhKCk7ZWxzZXt2YXIgYz1mdW5jdGlvbigpeyhcImNvbXBsZXRlXCI9PT1iLnJlYWR5U3RhdGV8fGIucmVhZHlTdGF0ZT09PXUpJiYoYi5yZW1vdmVFdmVudExpc3RlbmVyKHYsYyksZyhhLGIpKX07Yi5hZGRFdmVudExpc3RlbmVyKHYsYyl9fWZ1bmN0aW9uIGgoYSxiKXtmdW5jdGlvbiBjKCl7Zj09ZyYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGEpfWZ1bmN0aW9uIGQoKXtmKyssYygpfXZhciBlPWIucXVlcnlTZWxlY3RvckFsbChcImxpbmtbcmVsPWltcG9ydF1cIiksZj0wLGc9ZS5sZW5ndGg7aWYoZylmb3IodmFyIGgsaj0wO2c+aiYmKGg9ZVtqXSk7aisrKWkoaCk/ZC5jYWxsKGgpOihoLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZCksaC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixkKSk7ZWxzZSBjKCl9ZnVuY3Rpb24gaShhKXtyZXR1cm4gaz9hLmltcG9ydCYmXCJsb2FkaW5nXCIhPT1hLmltcG9ydC5yZWFkeVN0YXRlOmEuX19pbXBvcnRQYXJzZWR9dmFyIGo9XCJpbXBvcnRcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpLGs9aixsPWEuZmxhZ3MsbT1cImltcG9ydFwiLG49d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP1NoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7aWYoayl2YXIgbz17fTtlbHNlIHZhciBwPShhLnhocixhLkxvYWRlcikscT1hLnBhcnNlcixvPXtkb2N1bWVudHM6e30sZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOlwibGlua1tyZWw9XCIrbStcIl1cIixpbXBvcnRzUHJlbG9hZFNlbGVjdG9yczpbXCJsaW5rW3JlbD1cIittK1wiXVwiXS5qb2luKFwiLFwiKSxsb2FkTm9kZTpmdW5jdGlvbihhKXtyLmFkZE5vZGUoYSl9LGxvYWRTdWJ0cmVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWFyc2hhbE5vZGVzKGEpO3IuYWRkTm9kZXMoYil9LG1hcnNoYWxOb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfSxsb2FkU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1uP3RoaXMuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOnRoaXMuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnN9LGxvYWRlZDpmdW5jdGlvbihhLGMsZSl7aWYobC5sb2FkJiZjb25zb2xlLmxvZyhcImxvYWRlZFwiLGEsYyksYy5fX3Jlc291cmNlPWUsYihjKSl7dmFyIGY9dGhpcy5kb2N1bWVudHNbYV07Znx8KGY9ZChlLGEpLGYuX19pbXBvcnRMaW5rPWMsdGhpcy5ib290RG9jdW1lbnQoZiksdGhpcy5kb2N1bWVudHNbYV09ZiksYy5pbXBvcnQ9Zn1xLnBhcnNlTmV4dCgpfSxib290RG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkU3VidHJlZShhKSx0aGlzLm9ic2VydmUoYSkscS5wYXJzZU5leHQoKX0sbG9hZGVkQWxsOmZ1bmN0aW9uKCl7cS5wYXJzZU5leHQoKX19LHI9bmV3IHAoby5sb2FkZWQuYmluZChvKSxvLmxvYWRlZEFsbC5iaW5kKG8pKTt2YXIgcz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhUTUxJbXBvcnRzLmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LmN1cnJlbnRTY3JpcHR9LGNvbmZpZ3VyYWJsZTohMH07aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LFwiX2N1cnJlbnRTY3JpcHRcIixzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9jdXJyZW50U2NyaXB0XCIscyksIWRvY3VtZW50LmJhc2VVUkkpe3ZhciB0PXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWZ9LGNvbmZpZ3VyYWJsZTohMH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LFwiYmFzZVVSSVwiLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiYmFzZVVSSVwiLHQpfXZhciB1PUhUTUxJbXBvcnRzLmlzSUU/XCJjb21wbGV0ZVwiOlwiaW50ZXJhY3RpdmVcIix2PVwicmVhZHlzdGF0ZWNoYW5nZVwiO2EuaGFzTmF0aXZlPWosYS51c2VOYXRpdmU9ayxhLmltcG9ydGVyPW8sYS53aGVuSW1wb3J0c1JlYWR5PWUsYS5JTVBPUlRfTElOS19UWVBFPW0sYS5pc0ltcG9ydExvYWRlZD1pLGEuaW1wb3J0TG9hZGVyPXJ9KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGIsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYj1hW2RdKTtkKyspXCJjaGlsZExpc3RcIj09PWIudHlwZSYmYi5hZGRlZE5vZGVzLmxlbmd0aCYmYyhiLmFkZGVkTm9kZXMpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiLGU9MCxnPWEubGVuZ3RoO2c+ZSYmKGI9YVtlXSk7ZSsrKWQoYikmJmYubG9hZE5vZGUoYiksYi5jaGlsZHJlbiYmYi5jaGlsZHJlbi5sZW5ndGgmJmMoYi5jaGlsZHJlbil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gMT09PWEubm9kZVR5cGUmJmcuY2FsbChhLGYubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfWZ1bmN0aW9uIGUoYSl7aC5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9dmFyIGY9KGEuSU1QT1JUX0xJTktfVFlQRSxhLmltcG9ydGVyKSxnPUhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IsaD1uZXcgTXV0YXRpb25PYnNlcnZlcihiKTthLm9ic2VydmU9ZSxmLm9ic2VydmU9ZX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe0hUTUxJbXBvcnRzLmltcG9ydGVyLmJvb3REb2N1bWVudChiKX1cImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIik7cmV0dXJuIGMuaW5pdEV2ZW50KGEsYi5idWJibGVzPT09ITE/ITE6ITAsYi5jYW5jZWxhYmxlPT09ITE/ITE6ITAsYi5kZXRhaWwpLGN9KTt2YXIgYj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe0hUTUxJbXBvcnRzLnJlYWR5PSEwLEhUTUxJbXBvcnRzLnJlYWR5VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxiLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiSFRNTEltcG9ydHNMb2FkZWRcIix7YnViYmxlczohMH0pKX0pLEhUTUxJbXBvcnRzLnVzZU5hdGl2ZXx8KFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fFwiaW50ZXJhY3RpdmVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJiF3aW5kb3cuYXR0YWNoRXZlbnQ/YSgpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsYSkpfSgpLHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7dmFyIGU9YS5maXJzdEVsZW1lbnRDaGlsZDtpZighZSlmb3IoZT1hLmZpcnN0Q2hpbGQ7ZSYmZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyllPWUubmV4dFNpYmxpbmc7Zm9yKDtlOyljKGUsZCkhPT0hMCYmYihlLGMsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPWEuc2hhZG93Um9vdDtjOylkKGMsYiksYz1jLm9sZGVyU2hhZG93Um9vdH1mdW5jdGlvbiBkKGEsZCl7YihhLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPyEwOnZvaWQgYyhhLGQpfSksYyhhLGQpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGgoYSk/KGkoYSksITApOnZvaWQgbChhKX1mdW5jdGlvbiBmKGEpe2QoYSxmdW5jdGlvbihhKXtyZXR1cm4gZShhKT8hMDp2b2lkIDB9KX1mdW5jdGlvbiBnKGEpe3JldHVybiBlKGEpfHxmKGEpfWZ1bmN0aW9uIGgoYil7aWYoIWIuX191cGdyYWRlZF9fJiZiLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKFwiaXNcIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBBLmRvbSYmY29uc29sZS5ncm91cChcInVwZ3JhZGU6XCIsYi5sb2NhbE5hbWUpLGEudXBncmFkZShiKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpLCEwfX1mdW5jdGlvbiBpKGEpe2woYSkscihhKSYmZChhLGZ1bmN0aW9uKGEpe2woYSl9KX1mdW5jdGlvbiBqKGEpe2lmKEUucHVzaChhKSwhRCl7RD0hMDt2YXIgYj13aW5kb3cuUGxhdGZvcm0mJndpbmRvdy5QbGF0Zm9ybS5lbmRPZk1pY3JvdGFza3x8c2V0VGltZW91dDtiKGspfX1mdW5jdGlvbiBrKCl7RD0hMTtmb3IodmFyIGEsYj1FLGM9MCxkPWIubGVuZ3RoO2Q+YyYmKGE9YltjXSk7YysrKWEoKTtFPVtdfWZ1bmN0aW9uIGwoYSl7Qz9qKGZ1bmN0aW9uKCl7bShhKX0pOm0oYSl9ZnVuY3Rpb24gbShhKXsoYS5hdHRhY2hlZENhbGxiYWNrfHxhLmRldGFjaGVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZBLmRvbSkmJihBLmRvbSYmY29uc29sZS5ncm91cChcImluc2VydGVkOlwiLGEubG9jYWxOYW1lKSxyKGEpJiYoYS5fX2luc2VydGVkPShhLl9faW5zZXJ0ZWR8fDApKzEsYS5fX2luc2VydGVkPDEmJihhLl9faW5zZXJ0ZWQ9MSksYS5fX2luc2VydGVkPjE/QS5kb20mJmNvbnNvbGUud2FybihcImluc2VydGVkOlwiLGEubG9jYWxOYW1lLFwiaW5zZXJ0L3JlbW92ZSBjb3VudDpcIixhLl9faW5zZXJ0ZWQpOmEuYXR0YWNoZWRDYWxsYmFjayYmKEEuZG9tJiZjb25zb2xlLmxvZyhcImluc2VydGVkOlwiLGEubG9jYWxOYW1lKSxhLmF0dGFjaGVkQ2FsbGJhY2soKSkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIG4oYSl7byhhKSxkKGEsZnVuY3Rpb24oYSl7byhhKX0pfWZ1bmN0aW9uIG8oYSl7Qz9qKGZ1bmN0aW9uKCl7cChhKX0pOnAoYSl9ZnVuY3Rpb24gcChhKXsoYS5hdHRhY2hlZENhbGxiYWNrfHxhLmRldGFjaGVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZBLmRvbSkmJihBLmRvbSYmY29uc29sZS5ncm91cChcInJlbW92ZWQ6XCIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9BLmRvbSYmY29uc29sZS53YXJuKFwicmVtb3ZlZDpcIixhLmxvY2FsTmFtZSxcImluc2VydC9yZW1vdmUgY291bnQ6XCIsYS5fX2luc2VydGVkKTphLmRldGFjaGVkQ2FsbGJhY2smJmEuZGV0YWNoZWRDYWxsYmFjaygpKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpOmF9ZnVuY3Rpb24gcihhKXtmb3IodmFyIGI9YSxjPXEoZG9jdW1lbnQpO2I7KXtpZihiPT1jKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfHxiLmhvc3R9fWZ1bmN0aW9uIHMoYSl7aWYoYS5zaGFkb3dSb290JiYhYS5zaGFkb3dSb290Ll9fd2F0Y2hlZCl7QS5kb20mJmNvbnNvbGUubG9nKFwid2F0Y2hpbmcgc2hhZG93LXJvb3QgZm9yOiBcIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEEuZG9tKXt2YXIgYj1hWzBdO2lmKGImJlwiY2hpbGRMaXN0XCI9PT1iLnR5cGUmJmIuYWRkZWROb2RlcyYmYi5hZGRlZE5vZGVzKXtmb3IodmFyIGM9Yi5hZGRlZE5vZGVzWzBdO2MmJmMhPT1kb2N1bWVudCYmIWMuaG9zdDspYz1jLnBhcmVudE5vZGU7dmFyIGQ9YyYmKGMuVVJMfHxjLl9VUkx8fGMuaG9zdCYmYy5ob3N0LmxvY2FsTmFtZSl8fFwiXCI7ZD1kLnNwbGl0KFwiLz9cIikuc2hpZnQoKS5zcGxpdChcIi9cIikucG9wKCl9Y29uc29sZS5ncm91cChcIm11dGF0aW9ucyAoJWQpIFslc11cIixhLmxlbmd0aCxkfHxcIlwiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7XCJjaGlsZExpc3RcIj09PWEudHlwZSYmKEcoYS5hZGRlZE5vZGVzLGZ1bmN0aW9uKGEpe2EubG9jYWxOYW1lJiZnKGEpfSksRyhhLnJlbW92ZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmbihhKX0pKX0pLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24gdigpe3UoRi50YWtlUmVjb3JkcygpKSxrKCl9ZnVuY3Rpb24gdyhhKXtGLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX1mdW5jdGlvbiB4KGEpe3coYSl9ZnVuY3Rpb24geShhKXtBLmRvbSYmY29uc29sZS5ncm91cChcInVwZ3JhZGVEb2N1bWVudDogXCIsYS5iYXNlVVJJLnNwbGl0KFwiL1wiKS5wb3AoKSksZyhhKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7YT1xKGEpO2Zvcih2YXIgYixjPWEucXVlcnlTZWxlY3RvckFsbChcImxpbmtbcmVsPVwiK0IrXCJdXCIpLGQ9MCxlPWMubGVuZ3RoO2U+ZCYmKGI9Y1tkXSk7ZCsrKWIuaW1wb3J0JiZiLmltcG9ydC5fX3BhcnNlZCYmeihiLmltcG9ydCk7eShhKX12YXIgQT13aW5kb3cubG9nRmxhZ3N8fHt9LEI9d2luZG93LkhUTUxJbXBvcnRzP0hUTUxJbXBvcnRzLklNUE9SVF9MSU5LX1RZUEU6XCJub25lXCIsQz0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPUM7dmFyIEQ9ITEsRT1bXSxGPW5ldyBNdXRhdGlvbk9ic2VydmVyKHUpLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLklNUE9SVF9MSU5LX1RZUEU9QixhLndhdGNoU2hhZG93PXMsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXosYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEuaW5zZXJ0ZWROb2RlPWksYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD15LGEudGFrZVJlY29yZHM9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsZyl7dmFyIGg9Z3x8e307aWYoIWIpdGhyb3cgbmV3IEVycm9yKFwiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCBgbmFtZWAgbXVzdCBub3QgYmUgZW1wdHlcIik7aWYoYi5pbmRleE9mKFwiLVwiKTwwKXRocm93IG5ldyBFcnJvcihcImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgKCduYW1lJykgbXVzdCBjb250YWluIGEgZGFzaCAoJy0nKS4gQXJndW1lbnQgcHJvdmlkZWQgd2FzICdcIitTdHJpbmcoYikrXCInLlwiKTtpZihjKGIpKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdyZWdpc3RlckVsZW1lbnQnIG9uICdEb2N1bWVudCc6IFJlZ2lzdHJhdGlvbiBmYWlsZWQgZm9yIHR5cGUgJ1wiK1N0cmluZyhiKStcIicuIFRoZSB0eXBlIG5hbWUgaXMgaW52YWxpZC5cIik7aWYobihiKSl0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGVEZWZpbml0aW9uRXJyb3I6IGEgdHlwZSB3aXRoIG5hbWUgJ1wiK1N0cmluZyhiKStcIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkXCIpO2lmKCFoLnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJPcHRpb25zIG1pc3NpbmcgcmVxdWlyZWQgcHJvdG90eXBlIHByb3BlcnR5XCIpO3JldHVybiBoLl9fbmFtZT1iLnRvTG93ZXJDYXNlKCksaC5saWZlY3ljbGU9aC5saWZlY3ljbGV8fHt9LGguYW5jZXN0cnk9ZChoLmV4dGVuZHMpLGUoaCksZihoKSxsKGgucHJvdG90eXBlKSxvKGguX19uYW1lLGgpLGguY3Rvcj1wKGgpLGguY3Rvci5wcm90b3R5cGU9aC5wcm90b3R5cGUsaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aC5jdG9yLGEucmVhZHkmJmEudXBncmFkZURvY3VtZW50VHJlZShkb2N1bWVudCksaC5jdG9yfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPTA7Yjx5Lmxlbmd0aDtiKyspaWYoYT09PXlbYl0pcmV0dXJuITB9ZnVuY3Rpb24gZChhKXt2YXIgYj1uKGEpO3JldHVybiBiP2QoYi5leHRlbmRzKS5jb25jYXQoW2JdKTpbXX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYixjPWEuZXh0ZW5kcyxkPTA7Yj1hLmFuY2VzdHJ5W2RdO2QrKyljPWIuaXMmJmIudGFnO2EudGFnPWN8fGEuX19uYW1lLGMmJihhLmlzPWEuX19uYW1lKX1mdW5jdGlvbiBmKGEpe2lmKCFPYmplY3QuX19wcm90b19fKXt2YXIgYj1IVE1MRWxlbWVudC5wcm90b3R5cGU7aWYoYS5pcyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhLnRhZyk7Yj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYyl9Zm9yKHZhciBkLGU9YS5wcm90b3R5cGU7ZSYmZSE9PWI7KXt2YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7ZS5fX3Byb3RvX189ZCxlPWR9fWEubmF0aXZlPWJ9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gaChCKGEudGFnKSxhKX1mdW5jdGlvbiBoKGIsYyl7cmV0dXJuIGMuaXMmJmIuc2V0QXR0cmlidXRlKFwiaXNcIixjLmlzKSxiLnJlbW92ZUF0dHJpYnV0ZShcInVucmVzb2x2ZWRcIiksaShiLGMpLGIuX191cGdyYWRlZF9fPSEwLGsoYiksYS5pbnNlcnRlZE5vZGUoYiksYS51cGdyYWRlU3VidHJlZShiKSxifWZ1bmN0aW9uIGkoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihqKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBqKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTEVsZW1lbnQucHJvdG90eXBlOyl7Zm9yKHZhciBmLGc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSksaD0wO2Y9Z1toXTtoKyspZFtmXXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGYsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGYpKSxkW2ZdPTEpO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfX1mdW5jdGlvbiBrKGEpe2EuY3JlYXRlZENhbGxiYWNrJiZhLmNyZWF0ZWRDYWxsYmFjaygpfWZ1bmN0aW9uIGwoYSl7aWYoIWEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkKXt2YXIgYj1hLnNldEF0dHJpYnV0ZTthLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihhLGMpe20uY2FsbCh0aGlzLGEsYyxiKX07dmFyIGM9YS5yZW1vdmVBdHRyaWJ1dGU7YS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7bS5jYWxsKHRoaXMsYSxudWxsLGMpfSxhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZD0hMH19ZnVuY3Rpb24gbShhLGIsYyl7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJmUhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQsZSl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYT96W2EudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIG8oYSxiKXt6W2FdPWJ9ZnVuY3Rpb24gcChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZyhhKX19ZnVuY3Rpb24gcShhLGIsYyl7cmV0dXJuIGE9PT1BP3IoYixjKTpDKGEsYil9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPW4oYnx8YSk7aWYoYyl7aWYoYT09Yy50YWcmJmI9PWMuaXMpcmV0dXJuIG5ldyBjLmN0b3I7aWYoIWImJiFjLmlzKXJldHVybiBuZXcgYy5jdG9yfWlmKGIpe3ZhciBkPXIoYSk7cmV0dXJuIGQuc2V0QXR0cmlidXRlKFwiaXNcIixiKSxkfXZhciBkPUIoYSk7cmV0dXJuIGEuaW5kZXhPZihcIi1cIik+PTAmJmkoZCxIVE1MRWxlbWVudCksZH1mdW5jdGlvbiBzKGEpe2lmKCFhLl9fdXBncmFkZWRfXyYmYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShcImlzXCIpLGM9bihifHxhLmxvY2FsTmFtZSk7aWYoYyl7aWYoYiYmYy50YWc9PWEubG9jYWxOYW1lKXJldHVybiBoKGEsYyk7aWYoIWImJiFjLmV4dGVuZHMpcmV0dXJuIGgoYSxjKX19fWZ1bmN0aW9uIHQoYil7dmFyIGM9RC5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KTt2YXIgdT1hLmZsYWdzLHY9Qm9vbGVhbihkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpLHc9IXUucmVnaXN0ZXImJnYmJiF3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw7aWYodyl7dmFyIHg9ZnVuY3Rpb24oKXt9O2EucmVnaXN0cnk9e30sYS51cGdyYWRlRWxlbWVudD14LGEud2F0Y2hTaGFkb3c9eCxhLnVwZ3JhZGU9eCxhLnVwZ3JhZGVBbGw9eCxhLnVwZ3JhZGVTdWJ0cmVlPXgsYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50VHJlZT14LGEudGFrZVJlY29yZHM9eCxhLnJlc2VydmVkVGFnTGlzdD1bXX1lbHNle3ZhciB5PVtcImFubm90YXRpb24teG1sXCIsXCJjb2xvci1wcm9maWxlXCIsXCJmb250LWZhY2VcIixcImZvbnQtZmFjZS1zcmNcIixcImZvbnQtZmFjZS11cmlcIixcImZvbnQtZmFjZS1mb3JtYXRcIixcImZvbnQtZmFjZS1uYW1lXCIsXCJtaXNzaW5nLWdseXBoXCJdLHo9e30sQT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixCPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCksQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMuYmluZChkb2N1bWVudCksRD1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50PWIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD1yLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUz1xLE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT10LGEucmVnaXN0cnk9eixhLnVwZ3JhZGU9c312YXIgRTtFPU9iamVjdC5fX3Byb3RvX198fHc/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGJ9OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWE7Yzspe2lmKGM9PT1iLnByb3RvdHlwZSlyZXR1cm4hMDtjPWMuX19wcm90b19ffXJldHVybiExfSxhLmluc3RhbmNlb2Y9RSxhLnJlc2VydmVkVGFnTGlzdD15LGRvY3VtZW50LnJlZ2lzdGVyPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCxhLmhhc05hdGl2ZT12LGEudXNlTmF0aXZlPXd9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm5cImxpbmtcIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZShcInJlbFwiKT09PWN9dmFyIGM9YS5JTVBPUlRfTElOS19UWVBFLGQ9e3NlbGVjdG9yczpbXCJsaW5rW3JlbD1cIitjK1wiXVwiXSxtYXA6e2xpbms6XCJwYXJzZUxpbmtcIn0scGFyc2U6ZnVuY3Rpb24oYSl7aWYoIWEuX19wYXJzZWQpe2EuX19wYXJzZWQ9ITA7dmFyIGI9YS5xdWVyeVNlbGVjdG9yQWxsKGQuc2VsZWN0b3JzKTtlKGIsZnVuY3Rpb24oYSl7ZFtkLm1hcFthLmxvY2FsTmFtZV1dKGEpfSksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGEpLEN1c3RvbUVsZW1lbnRzLm9ic2VydmVEb2N1bWVudChhKX19LHBhcnNlTGluazpmdW5jdGlvbihhKXtiKGEpJiZ0aGlzLnBhcnNlSW1wb3J0KGEpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXthLmltcG9ydCYmZC5wYXJzZShhLmltcG9ydCl9fSxlPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5wYXJzZXI9ZCxhLklNUE9SVF9MSU5LX1RZUEU9Y30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZG9jdW1lbnQpO3ZhciBhPXdpbmRvdy5QbGF0Zm9ybSYmUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s/UGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s6c2V0VGltZW91dDthKGZ1bmN0aW9uKCl7Q3VzdG9tRWxlbWVudHMucmVhZHk9ITAsQ3VzdG9tRWxlbWVudHMucmVhZHlUaW1lPURhdGUubm93KCksd2luZG93LkhUTUxJbXBvcnRzJiYoQ3VzdG9tRWxlbWVudHMuZWxhcHNlZD1DdXN0b21FbGVtZW50cy5yZWFkeVRpbWUtSFRNTEltcG9ydHMucmVhZHlUaW1lKSxkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIldlYkNvbXBvbmVudHNSZWFkeVwiLHtidWJibGVzOiEwfSkpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rPWZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShhLmltcG9ydCl9KX0pfWlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIik7cmV0dXJuIGIuaW5pdEV2ZW50KGEsITAsITApLGJ9KSxcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxhLmZsYWdzLmVhZ2VyKWIoKTtcbmVsc2UgaWYoXCJpbnRlcmFjdGl2ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8d2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cuSFRNTEltcG9ydHMmJiF3aW5kb3cuSFRNTEltcG9ydHMucmVhZHkpe3ZhciBjPXdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnJlYWR5P1wiSFRNTEltcG9ydHNMb2FkZWRcIjpcIkRPTUNvbnRlbnRMb2FkZWRcIjt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihjLGIpfWVsc2UgYigpfSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKCl7aWYod2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKXt2YXIgYT1bXCJ1cGdyYWRlQWxsXCIsXCJ1cGdyYWRlU3VidHJlZVwiLFwib2JzZXJ2ZURvY3VtZW50XCIsXCJ1cGdyYWRlRG9jdW1lbnRcIl0sYj17fTthLmZvckVhY2goZnVuY3Rpb24oYSl7YlthXT1DdXN0b21FbGVtZW50c1thXX0pLGEuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihjKXtyZXR1cm4gYlthXSh3cmFwKGMpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLnJlZ2V4PWF9dmFyIGM9YS5lbmRPZk1pY3JvdGFzaztiLnByb3RvdHlwZT17ZXh0cmFjdFVybHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPVtdO2M9dGhpcy5yZWdleC5leGVjKGEpOylkPW5ldyBVUkwoY1sxXSxiKSxlLnB1c2goe21hdGNoZWQ6Y1swXSx1cmw6ZC5ocmVmfSk7cmV0dXJuIGV9LHByb2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZXh0cmFjdFVybHMoYSxiKTt0aGlzLmZldGNoKGQse30sYyl9LGZldGNoOmZ1bmN0aW9uKGEsYixkKXt2YXIgZT1hLmxlbmd0aDtpZighZSlyZXR1cm4gZChiKTtmb3IodmFyIGYsZyxoLGk9ZnVuY3Rpb24oKXswPT09LS1lJiZkKGIpfSxqPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy5tYXRjaCxlPWQudXJsO2lmKGEpcmV0dXJuIGJbZV09XCJcIixpKCk7dmFyIGY9Yy5yZXNwb25zZXx8Yy5yZXNwb25zZVRleHQ7YltlXT1mLHRoaXMuZmV0Y2godGhpcy5leHRyYWN0VXJscyhmLGUpLGIsaSl9LGs9MDtlPms7aysrKWY9YVtrXSxoPWYudXJsLGJbaF0/YyhpKTooZz10aGlzLnhocihoLGosdGhpcyksZy5tYXRjaD1mLGJbaF09Zyl9LHhocjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBkLm9wZW4oXCJHRVRcIixhLCEwKSxkLnNlbmQoKSxkLm9ubG9hZD1mdW5jdGlvbigpe2IuY2FsbChjLG51bGwsZCl9LGQub25lcnJvcj1mdW5jdGlvbigpe2IuY2FsbChjLG51bGwsZCl9LGR9fSxhLkxvYWRlcj1ifSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLmxvYWRlcj1uZXcgZCh0aGlzLnJlZ2V4KX12YXIgYz1hLnVybFJlc29sdmVyLGQ9YS5Mb2FkZXI7Yi5wcm90b3R5cGU9e3JlZ2V4Oi9AaW1wb3J0XFxzKyg/OnVybCk/W1wiJ1xcKF0qKFteJ1wiXFwpXSopWydcIlxcKV0qOy9nLHJlc29sdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGQpe2ModGhpcy5mbGF0dGVuKGEsYixkKSl9LmJpbmQodGhpcyk7dGhpcy5sb2FkZXIucHJvY2VzcyhhLGIsZCl9LHJlc29sdmVOb2RlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50ZXh0Q29udGVudCxkPWEub3duZXJEb2N1bWVudC5iYXNlVVJJLGU9ZnVuY3Rpb24oYyl7YS50ZXh0Q29udGVudD1jLGIoYSl9O3RoaXMucmVzb2x2ZShjLGQsZSl9LGZsYXR0ZW46ZnVuY3Rpb24oYSxiLGQpe2Zvcih2YXIgZSxmLGcsaD10aGlzLmxvYWRlci5leHRyYWN0VXJscyhhLGIpLGk9MDtpPGgubGVuZ3RoO2krKyllPWhbaV0sZj1lLnVybCxnPWMucmVzb2x2ZUNzc1RleHQoZFtmXSxmKSxnPXRoaXMuZmxhdHRlbihnLGIsZCksYT1hLnJlcGxhY2UoZS5tYXRjaGVkLGcpO3JldHVybiBhfSxsb2FkU3R5bGVzOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2UrKyxlPT09ZiYmYiYmYigpfWZvcih2YXIgZCxlPTAsZj1hLmxlbmd0aCxnPTA7Zj5nJiYoZD1hW2ddKTtnKyspdGhpcy5yZXNvbHZlTm9kZShkLGMpfX07dmFyIGU9bmV3IGI7YS5zdHlsZVJlc29sdmVyPWV9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGEpe2Zvcig7YS5wYXJlbnROb2RlOylhPWEucGFyZW50Tm9kZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBiKGEsYixjKXt2YXIgZD1hLmJpbmRpbmdzXztyZXR1cm4gZHx8KGQ9YS5iaW5kaW5nc189e30pLGRbYl0mJmNbYl0uY2xvc2UoKSxkW2JdPWN9ZnVuY3Rpb24gYyhhLGIsYyl7cmV0dXJuIGN9ZnVuY3Rpb24gZChhKXtyZXR1cm4gbnVsbD09YT9cIlwiOmF9ZnVuY3Rpb24gZShhLGIpe2EuZGF0YT1kKGIpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBlKGEsYil9fWZ1bmN0aW9uIGcoYSxiLGMsZSl7cmV0dXJuIGM/dm9pZChlP2Euc2V0QXR0cmlidXRlKGIsXCJcIik6YS5yZW1vdmVBdHRyaWJ1dGUoYikpOnZvaWQgYS5zZXRBdHRyaWJ1dGUoYixkKGUpKX1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7ZyhhLGIsYyxkKX19ZnVuY3Rpb24gaShhKXtzd2l0Y2goYS50eXBlKXtjYXNlXCJjaGVja2JveFwiOnJldHVybiB1O2Nhc2VcInJhZGlvXCI6Y2FzZVwic2VsZWN0LW11bHRpcGxlXCI6Y2FzZVwic2VsZWN0LW9uZVwiOnJldHVyblwiY2hhbmdlXCI7Y2FzZVwicmFuZ2VcIjppZigvVHJpZGVudHxNU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXJldHVyblwiY2hhbmdlXCI7ZGVmYXVsdDpyZXR1cm5cImlucHV0XCJ9fWZ1bmN0aW9uIGooYSxiLGMsZSl7YVtiXT0oZXx8ZCkoYyl9ZnVuY3Rpb24gayhhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBqKGEsYixkLGMpfX1mdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIG0oYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe2Muc2V0VmFsdWUoYVtiXSksYy5kaXNjYXJkQ2hhbmdlcygpLChkfHxsKShhKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfXZhciBmPWkoYSk7cmV0dXJuIGEuYWRkRXZlbnRMaXN0ZW5lcihmLGUpLHtjbG9zZTpmdW5jdGlvbigpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihmLGUpLGMuY2xvc2UoKX0sb2JzZXJ2YWJsZV86Y319ZnVuY3Rpb24gbihhKXtyZXR1cm4gQm9vbGVhbihhKX1mdW5jdGlvbiBvKGIpe2lmKGIuZm9ybSlyZXR1cm4gcyhiLmZvcm0uZWxlbWVudHMsZnVuY3Rpb24oYSl7cmV0dXJuIGEhPWImJlwiSU5QVVRcIj09YS50YWdOYW1lJiZcInJhZGlvXCI9PWEudHlwZSYmYS5uYW1lPT1iLm5hbWV9KTt2YXIgYz1hKGIpO2lmKCFjKXJldHVybltdO3ZhciBkPWMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCInK2IubmFtZSsnXCJdJyk7cmV0dXJuIHMoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIWEuZm9ybX0pfWZ1bmN0aW9uIHAoYSl7XCJJTlBVVFwiPT09YS50YWdOYW1lJiZcInJhZGlvXCI9PT1hLnR5cGUmJm8oYSkuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLmJpbmRpbmdzXy5jaGVja2VkO2ImJmIub2JzZXJ2YWJsZV8uc2V0VmFsdWUoITEpfSl9ZnVuY3Rpb24gcShhLGIpe3ZhciBjLGUsZixnPWEucGFyZW50Tm9kZTtnIGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQmJmcuYmluZGluZ3NfJiZnLmJpbmRpbmdzXy52YWx1ZSYmKGM9ZyxlPWMuYmluZGluZ3NfLnZhbHVlLGY9Yy52YWx1ZSksYS52YWx1ZT1kKGIpLGMmJmMudmFsdWUhPWYmJihlLm9ic2VydmFibGVfLnNldFZhbHVlKGMudmFsdWUpLGUub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpKX1mdW5jdGlvbiByKGEpe3JldHVybiBmdW5jdGlvbihiKXtxKGEsYil9fXZhciBzPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpO05vZGUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiKXtjb25zb2xlLmVycm9yKFwiVW5oYW5kbGVkIGJpbmRpbmcgdG8gTm9kZTogXCIsdGhpcyxhLGIpfSxOb2RlLnByb3RvdHlwZS5iaW5kRmluaXNoZWQ9ZnVuY3Rpb24oKXt9O3ZhciB0PWM7T2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtLFwiZW5hYmxlQmluZGluZ3NSZWZsZWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0PT09Yn0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0PWE/YjpjLGF9LGNvbmZpZ3VyYWJsZTohMH0pLFRleHQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKFwidGV4dENvbnRlbnRcIiE9PWEpcmV0dXJuIE5vZGUucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTtpZihjKXJldHVybiBlKHRoaXMsYik7dmFyIGQ9YjtyZXR1cm4gZSh0aGlzLGQub3BlbihmKHRoaXMpKSksdCh0aGlzLGEsZCl9LEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVwiP1wiPT1hW2EubGVuZ3RoLTFdO2lmKGQmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGMpcmV0dXJuIGcodGhpcyxhLGQsYik7dmFyIGU9YjtyZXR1cm4gZyh0aGlzLGEsZCxlLm9wZW4oaCh0aGlzLGEsZCkpKSx0KHRoaXMsYSxlKX07dmFyIHU7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxiPWEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpKTtiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpO3ZhciBjLGQ9MDtiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8XCJjbGlja1wifSksYi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXtkKyssYz1jfHxcImNoYW5nZVwifSk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50XCIpO2UuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCEwLCEwLHdpbmRvdywwLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsKSxiLmRpc3BhdGNoRXZlbnQoZSksdT0xPT1kP1wiY2hhbmdlXCI6Y30oKSxIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxlKXtpZihcInZhbHVlXCIhPT1hJiZcImNoZWNrZWRcIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZSk7dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk7dmFyIGY9XCJjaGVja2VkXCI9PWE/bjpkLGc9XCJjaGVja2VkXCI9PWE/cDpsO2lmKGUpcmV0dXJuIGoodGhpcyxhLGMsZik7dmFyIGg9YyxpPW0odGhpcyxhLGgsZyk7cmV0dXJuIGoodGhpcyxhLGgub3BlbihrKHRoaXMsYSxmKSksZiksYih0aGlzLGEsaSl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKFwidmFsdWVcIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7aWYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxjKXJldHVybiBqKHRoaXMsXCJ2YWx1ZVwiLGIpO3ZhciBlPWIsZj1tKHRoaXMsXCJ2YWx1ZVwiLGUpO3JldHVybiBqKHRoaXMsXCJ2YWx1ZVwiLGUub3BlbihrKHRoaXMsXCJ2YWx1ZVwiLGQpKSksdCh0aGlzLGEsZil9LEhUTUxPcHRpb25FbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZihcInZhbHVlXCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKHRoaXMucmVtb3ZlQXR0cmlidXRlKFwidmFsdWVcIiksYylyZXR1cm4gcSh0aGlzLGIpO3ZhciBkPWIsZT1tKHRoaXMsXCJ2YWx1ZVwiLGQpO3JldHVybiBxKHRoaXMsZC5vcGVuKHIodGhpcykpKSx0KHRoaXMsYSxlKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe2lmKFwic2VsZWN0ZWRpbmRleFwiPT09YSYmKGE9XCJzZWxlY3RlZEluZGV4XCIpLFwic2VsZWN0ZWRJbmRleFwiIT09YSYmXCJ2YWx1ZVwiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKTtpZih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxkKXJldHVybiBqKHRoaXMsYSxjKTt2YXIgZT1jLGY9bSh0aGlzLGEsZSk7cmV0dXJuIGoodGhpcyxhLGUub3BlbihrKHRoaXMsYSkpKSxiKHRoaXMsYSxmKX19KHRoaXMpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFwiQXNzZXJ0aW9uIGZhaWxlZFwiKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYjtiPWEucGFyZW50Tm9kZTspYT1iO3JldHVybiBhfWZ1bmN0aW9uIGQoYSxiKXtpZihiKXtmb3IodmFyIGQsZT1cIiNcIitiOyFkJiYoYT1jKGEpLGEucHJvdG9Db250ZW50Xz9kPWEucHJvdG9Db250ZW50Xy5xdWVyeVNlbGVjdG9yKGUpOmEuZ2V0RWxlbWVudEJ5SWQmJihkPWEuZ2V0RWxlbWVudEJ5SWQoYikpLCFkJiZhLnRlbXBsYXRlQ3JlYXRvcl8pOylhPWEudGVtcGxhdGVDcmVhdG9yXztyZXR1cm4gZH19ZnVuY3Rpb24gZShhKXtyZXR1cm5cInRlbXBsYXRlXCI9PWEudGFnTmFtZSYmXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBmKGEpe3JldHVyblwiVEVNUExBVEVcIj09YS50YWdOYW1lJiZcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIj09YS5uYW1lc3BhY2VVUkl9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gQm9vbGVhbihMW2EudGFnTmFtZV0mJmEuaGFzQXR0cmlidXRlKFwidGVtcGxhdGVcIikpfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIHZvaWQgMD09PWEuaXNUZW1wbGF0ZV8mJihhLmlzVGVtcGxhdGVfPVwiVEVNUExBVEVcIj09YS50YWdOYW1lfHxnKGEpKSxhLmlzVGVtcGxhdGVffWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoTik7aChhKSYmYihhKSxHKGMsYil9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fGooYS5jb250ZW50KX1pKGEsYil9ZnVuY3Rpb24gayhhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQ7aWYoIWIuZGVmYXVsdFZpZXcpcmV0dXJuIGI7dmFyIGM9Yi50ZW1wbGF0ZUNvbnRlbnRzT3duZXJfO2lmKCFjKXtmb3IoYz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKTtjLmxhc3RDaGlsZDspYy5yZW1vdmVDaGlsZChjLmxhc3RDaGlsZCk7Yi50ZW1wbGF0ZUNvbnRlbnRzT3duZXJfPWN9cmV0dXJuIGN9ZnVuY3Rpb24gbShhKXtpZighYS5zdGFnaW5nRG9jdW1lbnRfKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQ7aWYoIWIuc3RhZ2luZ0RvY3VtZW50Xyl7Yi5zdGFnaW5nRG9jdW1lbnRfPWIuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLGIuc3RhZ2luZ0RvY3VtZW50Xy5pc1N0YWdpbmdEb2N1bWVudD0hMDt2YXIgYz1iLnN0YWdpbmdEb2N1bWVudF8uY3JlYXRlRWxlbWVudChcImJhc2VcIik7Yy5ocmVmPWRvY3VtZW50LmJhc2VVUkksYi5zdGFnaW5nRG9jdW1lbnRfLmhlYWQuYXBwZW5kQ2hpbGQoYyksYi5zdGFnaW5nRG9jdW1lbnRfLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffWEuc3RhZ2luZ0RvY3VtZW50Xz1iLnN0YWdpbmdEb2N1bWVudF99cmV0dXJuIGEuc3RhZ2luZ0RvY3VtZW50X31mdW5jdGlvbiBuKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07S1tlLm5hbWVdJiYoXCJ0ZW1wbGF0ZVwiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhKTtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9Yy5sZW5ndGg7ZC0tPjA7KXt2YXIgZT1jW2RdO2Iuc2V0QXR0cmlidXRlKGUubmFtZSxlLnZhbHVlKSxhLnJlbW92ZUF0dHJpYnV0ZShlLm5hbWUpfXJldHVybiBhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksYn1mdW5jdGlvbiBwKGEsYixjKXt2YXIgZD1hLmNvbnRlbnQ7aWYoYylyZXR1cm4gdm9pZCBkLmFwcGVuZENoaWxkKGIpO2Zvcih2YXIgZTtlPWIuZmlyc3RDaGlsZDspZC5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBxKGEpe1A/YS5fX3Byb3RvX189SFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU6ayhhLEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlKX1mdW5jdGlvbiByKGEpe2Euc2V0TW9kZWxGbl98fChhLnNldE1vZGVsRm5fPWZ1bmN0aW9uKCl7YS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMTt2YXIgYj16KGEsYS5kZWxlZ2F0ZV8mJmEuZGVsZWdhdGVfLnByZXBhcmVCaW5kaW5nKTt3KGEsYixhLm1vZGVsXyl9KSxhLnNldE1vZGVsRm5TY2hlZHVsZWRffHwoYS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMCxPYnNlcnZlci5ydW5FT01fKGEuc2V0TW9kZWxGbl8pKX1mdW5jdGlvbiBzKGEsYixjLGQpe2lmKGEmJmEubGVuZ3RoKXtmb3IodmFyIGUsZj1hLmxlbmd0aCxnPTAsaD0wLGk9MCxqPSEwO2Y+aDspe3ZhciBnPWEuaW5kZXhPZihcInt7XCIsaCksaz1hLmluZGV4T2YoXCJbW1wiLGgpLGw9ITEsbT1cIn19XCI7aWYoaz49MCYmKDA+Z3x8Zz5rKSYmKGc9ayxsPSEwLG09XCJdXVwiKSxpPTA+Zz8tMTphLmluZGV4T2YobSxnKzIpLDA+aSl7aWYoIWUpcmV0dXJuO2UucHVzaChhLnNsaWNlKGgpKTticmVha31lPWV8fFtdLGUucHVzaChhLnNsaWNlKGgsZykpO3ZhciBuPWEuc2xpY2UoZysyLGkpLnRyaW0oKTtlLnB1c2gobCksaj1qJiZsO3ZhciBvPWQmJmQobixiLGMpO2UucHVzaChudWxsPT1vP1BhdGguZ2V0KG4pOm51bGwpLGUucHVzaChvKSxoPWkrMn1yZXR1cm4gaD09PWYmJmUucHVzaChcIlwiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmXCJcIj09ZVswXSYmXCJcIj09ZVs0XSxlLm9ubHlPbmVUaW1lPWosZS5jb21iaW5hdG9yPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1lWzBdLGM9MTtjPGUubGVuZ3RoO2MrPTQpe3ZhciBkPWUuaGFzT25lUGF0aD9hOmFbKGMtMSkvNF07dm9pZCAwIT09ZCYmKGIrPWQpLGIrPWVbYyszXX1yZXR1cm4gYn0sZX19ZnVuY3Rpb24gdChhLGIsYyxkKXtpZihiLmhhc09uZVBhdGgpe3ZhciBlPWJbM10sZj1lP2UoZCxjLCEwKTpiWzJdLmdldFZhbHVlRnJvbShkKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpiLmNvbWJpbmF0b3IoZil9Zm9yKHZhciBnPVtdLGg9MTtoPGIubGVuZ3RoO2grPTQpe3ZhciBlPWJbaCsyXTtnWyhoLTEpLzRdPWU/ZShkLGMpOmJbaCsxXS5nZXRWYWx1ZUZyb20oZCl9cmV0dXJuIGIuY29tYmluYXRvcihnKX1mdW5jdGlvbiB1KGEsYixjLGQpe3ZhciBlPWJbM10sZj1lP2UoZCxjLCExKTpuZXcgUGF0aE9ic2VydmVyKGQsYlsyXSk7cmV0dXJuIGIuaXNTaW1wbGVQYXRoP2Y6bmV3IE9ic2VydmVyVHJhbnNmb3JtKGYsYi5jb21iaW5hdG9yKX1mdW5jdGlvbiB2KGEsYixjLGQpe2lmKGIub25seU9uZVRpbWUpcmV0dXJuIHQoYSxiLGMsZCk7aWYoYi5oYXNPbmVQYXRoKXJldHVybiB1KGEsYixjLGQpO2Zvcih2YXIgZT1uZXcgQ29tcG91bmRPYnNlcnZlcixmPTE7ZjxiLmxlbmd0aDtmKz00KXt2YXIgZz1iW2ZdLGg9YltmKzJdO2lmKGgpe3ZhciBpPWgoZCxjLGcpO2c/ZS5hZGRQYXRoKGkpOmUuYWRkT2JzZXJ2ZXIoaSl9ZWxzZXt2YXIgaj1iW2YrMV07Zz9lLmFkZFBhdGgoai5nZXRWYWx1ZUZyb20oZCkpOmUuYWRkUGF0aChkLGopfX1yZXR1cm4gbmV3IE9ic2VydmVyVHJhbnNmb3JtKGUsYi5jb21iaW5hdG9yKX1mdW5jdGlvbiB3KGEsYixjLGQpe2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSs9Mil7dmFyIGY9YltlXSxnPWJbZSsxXSxoPXYoZixnLGEsYyksaT1hLmJpbmQoZixoLGcub25seU9uZVRpbWUpO2kmJmQmJmQucHVzaChpKX1pZihhLmJpbmRGaW5pc2hlZCgpLGIuaXNUZW1wbGF0ZSl7YS5tb2RlbF89Yzt2YXIgaj1hLnByb2Nlc3NCaW5kaW5nRGlyZWN0aXZlc18oYik7ZCYmaiYmZC5wdXNoKGopfX1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShiKTtyZXR1cm4gcyhcIlwiPT1kP1wie3t9fVwiOmQsYixhLGMpfWZ1bmN0aW9uIHkoYSxjKXtiKGEpO2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmF0dHJpYnV0ZXMubGVuZ3RoO2UrKyl7Zm9yKHZhciBmPWEuYXR0cmlidXRlc1tlXSxnPWYubmFtZSxpPWYudmFsdWU7XCJfXCI9PT1nWzBdOylnPWcuc3Vic3RyaW5nKDEpO2lmKCFoKGEpfHxnIT09SiYmZyE9PUgmJmchPT1JKXt2YXIgaj1zKGksZyxhLGMpO2omJmQucHVzaChnLGopfX1yZXR1cm4gaChhKSYmKGQuaXNUZW1wbGF0ZT0hMCxkLmlmPXgoYSxKLGMpLGQuYmluZD14KGEsSCxjKSxkLnJlcGVhdD14KGEsSSxjKSwhZC5pZnx8ZC5iaW5kfHxkLnJlcGVhdHx8KGQuYmluZD1zKFwie3t9fVwiLEgsYSxjKSkpLGR9ZnVuY3Rpb24geihhLGIpe2lmKGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4geShhLGIpO2lmKGEubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIGM9cyhhLmRhdGEsXCJ0ZXh0Q29udGVudFwiLGEsYik7aWYoYylyZXR1cm5bXCJ0ZXh0Q29udGVudFwiLGNdfXJldHVybltdfWZ1bmN0aW9uIEEoYSxiLGMsZCxlLGYsZyl7Zm9yKHZhciBoPWIuYXBwZW5kQ2hpbGQoYy5pbXBvcnROb2RlKGEsITEpKSxpPTAsaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpQShqLGgsYyxkLmNoaWxkcmVuW2krK10sZSxmLGcpO3JldHVybiBkLmlzVGVtcGxhdGUmJihIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGgsYSksZiYmaC5zZXREZWxlZ2F0ZV8oZikpLHcoaCxkLGUsZyksaH1mdW5jdGlvbiBCKGEsYil7dmFyIGM9eihhLGIpO2MuY2hpbGRyZW49e307Zm9yKHZhciBkPTAsZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpYy5jaGlsZHJlbltkKytdPUIoZSxiKTtyZXR1cm4gY31mdW5jdGlvbiBDKGEpe3ZhciBiPWEuaWRfO3JldHVybiBifHwoYj1hLmlkXz1TKyspLGJ9ZnVuY3Rpb24gRChhLGIpe3ZhciBjPUMoYSk7aWYoYil7dmFyIGQ9Yi5iaW5kaW5nTWFwc1tjXTtyZXR1cm4gZHx8KGQ9Yi5iaW5kaW5nTWFwc1tjXT1CKGEsYi5wcmVwYXJlQmluZGluZyl8fFtdKSxkfXZhciBkPWEuYmluZGluZ01hcF87cmV0dXJuIGR8fChkPWEuYmluZGluZ01hcF89QihhLHZvaWQgMCl8fFtdKSxkfWZ1bmN0aW9uIEUoYSl7dGhpcy5jbG9zZWQ9ITEsdGhpcy50ZW1wbGF0ZUVsZW1lbnRfPWEsdGhpcy5pbnN0YW5jZXM9W10sdGhpcy5kZXBzPXZvaWQgMCx0aGlzLml0ZXJhdGVkVmFsdWU9W10sdGhpcy5wcmVzZW50VmFsdWU9dm9pZCAwLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDB9dmFyIEYsRz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EuTWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLk1hcC5wcm90b3R5cGUuZm9yRWFjaD9GPWEuTWFwOihGPWZ1bmN0aW9uKCl7dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfSxGLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7MD5jPyh0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKTp0aGlzLnZhbHVlc1tjXT1ifSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7aWYoISgwPmIpKXJldHVybiB0aGlzLnZhbHVlc1tiXX0sXCJkZWxldGVcIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7XCJmdW5jdGlvblwiIT10eXBlb2YgZG9jdW1lbnQuY29udGFpbnMmJihEb2N1bWVudC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzfHxhLnBhcmVudE5vZGU9PT10aGlzPyEwOnRoaXMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGEpfSk7dmFyIEg9XCJiaW5kXCIsST1cInJlcGVhdFwiLEo9XCJpZlwiLEs9e3RlbXBsYXRlOiEwLHJlcGVhdDohMCxiaW5kOiEwLHJlZjohMH0sTD17VEhFQUQ6ITAsVEJPRFk6ITAsVEZPT1Q6ITAsVEg6ITAsVFI6ITAsVEQ6ITAsQ09MR1JPVVA6ITAsQ09MOiEwLENBUFRJT046ITAsT1BUSU9OOiEwLE9QVEdST1VQOiEwfSxNPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBIVE1MVGVtcGxhdGVFbGVtZW50O00mJiFmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKSxiPWEuY29udGVudC5vd25lckRvY3VtZW50LGM9Yi5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoXCJodG1sXCIpKSxkPWMuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiaGVhZFwiKSksZT1iLmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpO2UuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGQuYXBwZW5kQ2hpbGQoZSl9KCk7dmFyIE49XCJ0ZW1wbGF0ZSwgXCIrT2JqZWN0LmtleXMoTCkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkrXCJbdGVtcGxhdGVdXCJ9KS5qb2luKFwiLCBcIik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmdW5jdGlvbigpe2ooZG9jdW1lbnQpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9LCExKSxNfHwoYS5IVE1MVGVtcGxhdGVFbGVtZW50PWZ1bmN0aW9uKCl7dGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBjb25zdHJ1Y3RvclwiKX0pO3ZhciBPLFA9XCJfX3Byb3RvX19cImlue307XCJmdW5jdGlvblwiPT10eXBlb2YgTXV0YXRpb25PYnNlcnZlciYmKE89bmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS50YXJnZXQucmVmQ2hhbmdlZF8oKX0pKSxIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlPWZ1bmN0aW9uKGEsYyl7aWYoYS50ZW1wbGF0ZUlzRGVjb3JhdGVkXylyZXR1cm4hMTt2YXIgZD1hO2QudGVtcGxhdGVJc0RlY29yYXRlZF89ITA7dmFyIGg9ZihkKSYmTSxpPWgsaz0haCxtPSExO2lmKGh8fChnKGQpPyhiKCFjKSxkPW4oYSksZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMCxoPU0sbT0hMCk6ZShkKSYmKGQ9byhhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGg9TSkpLCFoKXtxKGQpO3ZhciByPWwoZCk7ZC5jb250ZW50Xz1yLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKX1yZXR1cm4gYz9kLmluc3RhbmNlUmVmXz1jOms/cChkLGEsbSk6aSYmaihkLmNvbnRlbnQpLCEwfSxIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcD1qO3ZhciBRPWEuSFRNTFVua25vd25FbGVtZW50fHxIVE1MRWxlbWVudCxSPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50X30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9O018fChIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFEucHJvdG90eXBlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUsXCJjb250ZW50XCIsUikpLGsoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUse2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe2lmKFwicmVmXCIhPWEpcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTt2YXIgZD10aGlzLGU9Yz9iOmIub3BlbihmdW5jdGlvbihhKXtkLnNldEF0dHJpYnV0ZShcInJlZlwiLGEpLGQucmVmQ2hhbmdlZF8oKX0pO3JldHVybiB0aGlzLnNldEF0dHJpYnV0ZShcInJlZlwiLGUpLHRoaXMucmVmQ2hhbmdlZF8oKSxjP3ZvaWQgMDoodGhpcy5iaW5kaW5nc18/dGhpcy5iaW5kaW5nc18ucmVmPWI6dGhpcy5iaW5kaW5nc189e3JlZjpifSxiKX0scHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEUodGhpcykpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZURlcGVuZGVuY2llcyhhLHRoaXMubW9kZWxfKSxPJiZPLm9ic2VydmUodGhpcyx7YXR0cmlidXRlczohMCxhdHRyaWJ1dGVGaWx0ZXI6W1wicmVmXCJdfSksdGhpcy5pdGVyYXRvcl8pOnZvaWQodGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5jbG9zZSgpLHRoaXMuaXRlcmF0b3JfPXZvaWQgMCkpfSxjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyl7Yj9jPXRoaXMubmV3RGVsZWdhdGVfKGIpOmN8fChjPXRoaXMuZGVsZWdhdGVfKSx0aGlzLnJlZkNvbnRlbnRffHwodGhpcy5yZWZDb250ZW50Xz10aGlzLnJlZl8uY29udGVudCk7dmFyIGQ9dGhpcy5yZWZDb250ZW50XztpZihudWxsPT09ZC5maXJzdENoaWxkKXJldHVybiBUO3ZhciBlPUQoZCxjKSxmPW0odGhpcyksZz1mLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtnLnRlbXBsYXRlQ3JlYXRvcl89dGhpcyxnLnByb3RvQ29udGVudF89ZCxnLmJpbmRpbmdzXz1bXSxnLnRlcm1pbmF0b3JfPW51bGw7Zm9yKHZhciBoPWcudGVtcGxhdGVJbnN0YW5jZV89e2ZpcnN0Tm9kZTpudWxsLGxhc3ROb2RlOm51bGwsbW9kZWw6YX0saT0wLGo9ITEsaz1kLmZpcnN0Q2hpbGQ7aztrPWsubmV4dFNpYmxpbmcpe251bGw9PT1rLm5leHRTaWJsaW5nJiYoaj0hMCk7dmFyIGw9QShrLGcsZixlLmNoaWxkcmVuW2krK10sYSxjLGcuYmluZGluZ3NfKTtsLnRlbXBsYXRlSW5zdGFuY2VfPWgsaiYmKGcudGVybWluYXRvcl89bCl9cmV0dXJuIGguZmlyc3ROb2RlPWcuZmlyc3RDaGlsZCxoLmxhc3ROb2RlPWcubGFzdENoaWxkLGcudGVtcGxhdGVDcmVhdG9yXz12b2lkIDAsZy5wcm90b0NvbnRlbnRfPXZvaWQgMCxnfSxnZXQgbW9kZWwoKXtyZXR1cm4gdGhpcy5tb2RlbF99LHNldCBtb2RlbChhKXt0aGlzLm1vZGVsXz1hLHIodGhpcyl9LGdldCBiaW5kaW5nRGVsZWdhdGUoKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZV8mJnRoaXMuZGVsZWdhdGVfLnJhd30scmVmQ2hhbmdlZF86ZnVuY3Rpb24oKXt0aGlzLml0ZXJhdG9yXyYmdGhpcy5yZWZDb250ZW50XyE9PXRoaXMucmVmXy5jb250ZW50JiYodGhpcy5yZWZDb250ZW50Xz12b2lkIDAsdGhpcy5pdGVyYXRvcl8udmFsdWVDaGFuZ2VkKCksdGhpcy5pdGVyYXRvcl8udXBkYXRlSXRlcmF0ZWRWYWx1ZSgpKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLm1vZGVsXz12b2lkIDAsdGhpcy5kZWxlZ2F0ZV89dm9pZCAwLHRoaXMuYmluZGluZ3NfJiZ0aGlzLmJpbmRpbmdzXy5yZWYmJnRoaXMuYmluZGluZ3NfLnJlZi5jbG9zZSgpLHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8udmFsdWVDaGFuZ2VkKCksdGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApfSxzZXREZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7dGhpcy5kZWxlZ2F0ZV89YSx0aGlzLmJpbmRpbmdNYXBfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZU1vZGVsRm5fPXZvaWQgMCl9LG5ld0RlbGVnYXRlXzpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEmJmFbYl07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYylyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseShhLGFyZ3VtZW50cyl9fWlmKGEpcmV0dXJue2JpbmRpbmdNYXBzOnt9LHJhdzphLHByZXBhcmVCaW5kaW5nOmIoXCJwcmVwYXJlQmluZGluZ1wiKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKFwicHJlcGFyZUluc3RhbmNlTW9kZWxcIikscHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkOmIoXCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRcIil9fSxzZXQgYmluZGluZ0RlbGVnYXRlKGEpe2lmKHRoaXMuZGVsZWdhdGVfKXRocm93IEVycm9yKFwiVGVtcGxhdGUgbXVzdCBiZSBjbGVhcmVkIGJlZm9yZSBhIG5ldyBiaW5kaW5nRGVsZWdhdGUgY2FuIGJlIGFzc2lnbmVkXCIpO3RoaXMuc2V0RGVsZWdhdGVfKHRoaXMubmV3RGVsZWdhdGVfKGEpKX0sZ2V0IHJlZl8oKXt2YXIgYT1kKHRoaXMsdGhpcy5nZXRBdHRyaWJ1dGUoXCJyZWZcIikpO2lmKGF8fChhPXRoaXMuaW5zdGFuY2VSZWZfKSwhYSlyZXR1cm4gdGhpczt2YXIgYj1hLnJlZl87cmV0dXJuIGI/YjphfX0pO3ZhciBTPTE7T2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLFwidGVtcGxhdGVJbnN0YW5jZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlbXBsYXRlSW5zdGFuY2VfO3JldHVybiBhP2E6dGhpcy5wYXJlbnROb2RlP3RoaXMucGFyZW50Tm9kZS50ZW1wbGF0ZUluc3RhbmNlOnZvaWQgMH19KTt2YXIgVD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7VC5iaW5kaW5nc189W10sVC50ZXJtaW5hdG9yXz1udWxsLEUucHJvdG90eXBlPXtjbG9zZURlcHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRlcHM7YSYmKGEuaWZPbmVUaW1lPT09ITEmJmEuaWZWYWx1ZS5jbG9zZSgpLGEub25lVGltZT09PSExJiZhLnZhbHVlLmNsb3NlKCkpfSx1cGRhdGVEZXBlbmRlbmNpZXM6ZnVuY3Rpb24oYSxiKXt0aGlzLmNsb3NlRGVwcygpO3ZhciBjPXRoaXMuZGVwcz17fSxkPXRoaXMudGVtcGxhdGVFbGVtZW50XztpZihhLmlmKXtpZihjLmhhc0lmPSEwLGMuaWZPbmVUaW1lPWEuaWYub25seU9uZVRpbWUsYy5pZlZhbHVlPXYoSixhLmlmLGQsYiksYy5pZk9uZVRpbWUmJiFjLmlmVmFsdWUpcmV0dXJuIHZvaWQgdGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlKCk7Yy5pZk9uZVRpbWV8fGMuaWZWYWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKX1hLnJlcGVhdD8oYy5yZXBlYXQ9ITAsYy5vbmVUaW1lPWEucmVwZWF0Lm9ubHlPbmVUaW1lLGMudmFsdWU9dihJLGEucmVwZWF0LGQsYikpOihjLnJlcGVhdD0hMSxjLm9uZVRpbWU9YS5iaW5kLm9ubHlPbmVUaW1lLGMudmFsdWU9dihILGEuYmluZCxkLGIpKSxjLm9uZVRpbWV8fGMudmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyksdGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlKCl9LHVwZGF0ZUl0ZXJhdGVkVmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRlcHMuaGFzSWYpe3ZhciBhPXRoaXMuZGVwcy5pZlZhbHVlO2lmKHRoaXMuZGVwcy5pZk9uZVRpbWV8fChhPWEuZGlzY2FyZENoYW5nZXMoKSksIWEpcmV0dXJuIHZvaWQgdGhpcy52YWx1ZUNoYW5nZWQoKX12YXIgYj10aGlzLmRlcHMudmFsdWU7dGhpcy5kZXBzLm9uZVRpbWV8fChiPWIuZGlzY2FyZENoYW5nZXMoKSksdGhpcy5kZXBzLnJlcGVhdHx8KGI9W2JdKTt2YXIgYz10aGlzLmRlcHMucmVwZWF0JiYhdGhpcy5kZXBzLm9uZVRpbWUmJkFycmF5LmlzQXJyYXkoYik7dGhpcy52YWx1ZUNoYW5nZWQoYixjKX0sdmFsdWVDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7QXJyYXkuaXNBcnJheShhKXx8KGE9W10pLGEhPT10aGlzLml0ZXJhdGVkVmFsdWUmJih0aGlzLnVub2JzZXJ2ZSgpLHRoaXMucHJlc2VudFZhbHVlPWEsYiYmKHRoaXMuYXJyYXlPYnNlcnZlcj1uZXcgQXJyYXlPYnNlcnZlcih0aGlzLnByZXNlbnRWYWx1ZSksdGhpcy5hcnJheU9ic2VydmVyLm9wZW4odGhpcy5oYW5kbGVTcGxpY2VzLHRoaXMpKSx0aGlzLmhhbmRsZVNwbGljZXMoQXJyYXlPYnNlcnZlci5jYWxjdWxhdGVTcGxpY2VzKHRoaXMucHJlc2VudFZhbHVlLHRoaXMuaXRlcmF0ZWRWYWx1ZSkpKX0sZ2V0TGFzdEluc3RhbmNlTm9kZTpmdW5jdGlvbihhKXtpZigtMT09YSlyZXR1cm4gdGhpcy50ZW1wbGF0ZUVsZW1lbnRfO3ZhciBiPXRoaXMuaW5zdGFuY2VzW2FdLGM9Yi50ZXJtaW5hdG9yXztpZighYylyZXR1cm4gdGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKGEtMSk7aWYoYy5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFfHx0aGlzLnRlbXBsYXRlRWxlbWVudF89PT1jKXJldHVybiBjO3ZhciBkPWMuaXRlcmF0b3JfO3JldHVybiBkP2QuZ2V0TGFzdFRlbXBsYXRlTm9kZSgpOmN9LGdldExhc3RUZW1wbGF0ZU5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKHRoaXMuaW5zdGFuY2VzLmxlbmd0aC0xKX0saW5zZXJ0SW5zdGFuY2VBdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhLTEpLGQ9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfLnBhcmVudE5vZGU7dGhpcy5pbnN0YW5jZXMuc3BsaWNlKGEsMCxiKSxkLmluc2VydEJlZm9yZShiLGMubmV4dFNpYmxpbmcpfSxleHRyYWN0SW5zdGFuY2VBdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKGEtMSksYz10aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYSksZD10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZSxlPXRoaXMuaW5zdGFuY2VzLnNwbGljZShhLDEpWzBdO2MhPT1iOyl7dmFyIGY9Yi5uZXh0U2libGluZztmPT1jJiYoYz1iKSxlLmFwcGVuZENoaWxkKGQucmVtb3ZlQ2hpbGQoZikpfXJldHVybiBlfSxnZXREZWxlZ2F0ZUZuOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEmJmEodGhpcy50ZW1wbGF0ZUVsZW1lbnRfKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2E6bnVsbH0saGFuZGxlU3BsaWNlczpmdW5jdGlvbihhKXtpZighdGhpcy5jbG9zZWQmJmEubGVuZ3RoKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZSlyZXR1cm4gdm9pZCB0aGlzLmNsb3NlKCk7QXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXModGhpcy5pdGVyYXRlZFZhbHVlLHRoaXMucHJlc2VudFZhbHVlLGEpO3ZhciBjPWIuZGVsZWdhdGVfO3ZvaWQgMD09PXRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKHRoaXMuaW5zdGFuY2VNb2RlbEZuXz10aGlzLmdldERlbGVnYXRlRm4oYyYmYy5wcmVwYXJlSW5zdGFuY2VNb2RlbCkpLHZvaWQgMD09PXRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8mJih0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCkpO2Zvcih2YXIgZD1uZXcgRixlPTAsZj0wO2Y8YS5sZW5ndGg7ZisrKXtmb3IodmFyIGc9YVtmXSxoPWcucmVtb3ZlZCxpPTA7aTxoLmxlbmd0aDtpKyspe3ZhciBqPWhbaV0saz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGcuaW5kZXgrZSk7ayE9PVQmJmQuc2V0KGosayl9ZS09Zy5hZGRlZENvdW50fWZvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWZvcih2YXIgZz1hW2ZdLGw9Zy5pbmRleDtsPGcuaW5kZXgrZy5hZGRlZENvdW50O2wrKyl7dmFyIGo9dGhpcy5pdGVyYXRlZFZhbHVlW2xdLGs9ZC5nZXQoaik7az9kLmRlbGV0ZShqKToodGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYoaj10aGlzLmluc3RhbmNlTW9kZWxGbl8oaikpLGs9dm9pZCAwPT09aj9UOmIuY3JlYXRlSW5zdGFuY2Uoaix2b2lkIDAsYykpLHRoaXMuaW5zZXJ0SW5zdGFuY2VBdChsLGspfWQuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyhhKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV07YiE9PVQmJnRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8oYi50ZW1wbGF0ZUluc3RhbmNlXyxhKX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLmluc3RhbmNlcy5sZW5ndGg7Zj5iOyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrfSxjbG9zZUluc3RhbmNlQmluZGluZ3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuYmluZGluZ3NfLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmNsb3NlKCl9LHVub2JzZXJ2ZTpmdW5jdGlvbigpe3RoaXMuYXJyYXlPYnNlcnZlciYmKHRoaXMuYXJyYXlPYnNlcnZlci5jbG9zZSgpLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy51bm9ic2VydmUoKTtmb3IodmFyIGE9MDthPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDthKyspdGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3ModGhpcy5pbnN0YW5jZXNbYV0pO3RoaXMuaW5zdGFuY2VzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZXx8KGU9ITAsYS5lbmRPZk1pY3JvdGFzayhmdW5jdGlvbigpe2U9ITEsbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cChcIlBsYXRmb3JtLmZsdXNoKClcIiksYS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpLGxvZ0ZsYWdzLmRhdGEmJmNvbnNvbGUuZ3JvdXBFbmQoKX0pKX12YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7Yy50ZXh0Q29udGVudD1cInRlbXBsYXRlIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSAvKiBpbmplY3RlZCBieSBwbGF0Zm9ybS5qcyAqL1wiO3ZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkXCIpO2QuaW5zZXJ0QmVmb3JlKGMsZC5maXJzdENoaWxkKTt2YXIgZTtpZihPYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlKWI9ZnVuY3Rpb24oKXt9O2Vsc2V7dmFyIGY9MTI1O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiV2ViQ29tcG9uZW50c1JlYWR5XCIsZnVuY3Rpb24oKXtiKCksYS5mbHVzaFBvbGw9c2V0SW50ZXJ2YWwoYixmKX0pfWlmKHdpbmRvdy5DdXN0b21FbGVtZW50cyYmIUN1c3RvbUVsZW1lbnRzLnVzZU5hdGl2ZSl7dmFyIGc9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU7RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1nLmNhbGwodGhpcyxhLGIpO3JldHVybiBDdXN0b21FbGVtZW50cy51cGdyYWRlQWxsKGMpLGN9fWEuZmx1c2g9Yn0od2luZG93LlBsYXRmb3JtKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsYXRmb3JtLmpzLm1hcFxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiXX0=
